{{- /* 
================================================================================
FAQ SECTIONS COMPONENT
================================================================================
Displays categorized FAQ items with expandable/collapsible answers using AlpineJS.

USAGE:
{{template "faq-sections" $faqData}}

EXAMPLE IMPLEMENTATION:
{{$faqData := parseJSON `{
    "categories": [
        {
            "id": "general",
            "name": "General Questions",
            "questions": [
                {
                    "question": "What is Blue?",
                    "answer": "Blue is a process management platform that helps teams organize work, automate processes, and track everything in one place. It combines task management, workflow automation, and business intelligence into a single, unified system."
                },
                {
                    "question": "How much does Blue cost?",
                    "answer": "Blue offers flexible pricing starting at $15/user/month. We have plans for teams of all sizes, from small startups to large enterprises. All plans include unlimited workspaces, records, and automations."
                }
            ]
        },
        {
            "id": "technical",
            "name": "Technical Questions",
            "questions": [
                {
                    "question": "What integrations does Blue support?",
                    "answer": "Blue integrates with 30+ popular tools including Slack, Microsoft Teams, Google Workspace, Zapier, and more. You can also use our GraphQL API to build custom integrations."
                }
            ]
        }
    ]
}`}}
{{template "faq-sections" $faqData}}

DATA STRUCTURE:
{
    "categories": [                         // Array of FAQ categories (required)
        {
            "id": "category-id",           // HTML anchor ID for navigation (required)
            "name": "Category Name",       // Display name of category (required)
            "questions": [                  // Array of Q&A pairs (required)
                {
                    "question": "Question text",  // The question (required)
                    "answer": "Answer text"       // The answer, supports line breaks (required)
                }
            ]
        }
    ],
    "MarginBottom": "mb-20"                // Bottom margin class (optional, default: "mb-16")
}


FEATURES:
- Categorized FAQ sections with visual separation
- Expandable/collapsible answers with smooth animations
- Rotating chevron icon indicates open/closed state
- ARIA attributes for accessibility
- Preserves line breaks in answers
- Dark mode support
- Each category has unique anchor ID for deep linking

LAYOUT:
- Section background: Gray-50 (dark: gray-800)
- Question background: White (dark: gray-700)
- Border radius: lg (0.5rem)
- Section padding: 6 units (1.5rem)
- Question padding: 6 units (1.5rem)
- Space between categories: 8 units (2rem)
- Space between questions: 4 units (1rem)

STYLING:
- Category title: 2xl font size, semibold
- Question text: lg font size, medium weight
- Answer text: Prose styling with dark mode support
- Chevron icon: Rotates 180Â° when expanded
- Smooth transitions for expand/collapse

INTERACTIVITY:
- Click anywhere on question bar to toggle
- AlpineJS handles state management
- Transition animations on enter/leave
- Maintains whitespace formatting in answers

USE CASES:
- Help centers
- Product documentation
- Support pages
- Onboarding guides
*/ -}}
{{define "faq-sections"}}
<div class="space-y-8 {{if .MarginBottom}}{{.MarginBottom}}{{else}}mb-16{{end}}">
    {{range .categories}}
    <section id="{{.id}}" class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6">
        <h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-6">{{.name}}</h2>
        <div class="space-y-4">
            {{range .questions}}
            <div x-data="{ open: false }" class="bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden">
                <button 
                    @click="open = !open" 
                    class="w-full text-left p-6 focus:outline-none cursor-pointer"
                    :aria-expanded="open"
                >
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-medium text-gray-900 dark:text-white pr-4">{{.question}}</h3>
                        <div class="flex-shrink-0">
                            <svg 
                                class="w-5 h-5 text-gray-500 dark:text-gray-400 transform transition-transform duration-200" 
                                :class="{ 'rotate-180': open }"
                                fill="none" 
                                stroke="currentColor" 
                                viewBox="0 0 24 24"
                            >
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                <div 
                    x-show="open" 
                    x-transition:enter="transition ease-out duration-200"
                    x-transition:enter-start="opacity-0 transform -translate-y-2"
                    x-transition:enter-end="opacity-100 transform translate-y-0"
                    x-transition:leave="transition ease-in duration-150"
                    x-transition:leave-start="opacity-100 transform translate-y-0"
                    x-transition:leave-end="opacity-0 transform -translate-y-2"
                    class="px-6 pb-6"
                >
                    <div class="prose prose-gray dark:prose-invert max-w-none whitespace-pre-line dark:text-gray-300">{{.answer}}</div>
                </div>
            </div>
            {{end}}
        </div>
    </section>
    {{end}}
</div>
{{end}}