{{define "topbar"}}
<!-- Top Navigation Bar -->
<header class="bg-white backdrop-filter backdrop-blur-lg bg-opacity-70 fixed top-0 left-0 right-0 z-50 h-16">
    <div class="flex items-center justify-between px-4 h-full">
        <!-- Logo and Toggle -->
        <div class="flex items-center">
            <img src="/public/logo.svg" alt="Blue" class="h-8 w-auto ml-3">
            <button @click="sidebarsOpen = !sidebarsOpen" 
                    class="sidebar-toggle p-2 ml-4 rounded-md hover:bg-gray-100 transition-colors">
                <svg class="w-4 h-6" fill="none" stroke="currentColor" viewBox="0 0 16 24">
                    <rect x="1" y="4" width="14" height="16" stroke-width="1.5" rx="1"></rect>
                    <rect :class="sidebarsOpen ? 'fill-current' : 'fill-transparent'" 
                          x="1" y="4" width="7" height="16" rx="1" 
                          class="transition-all duration-300"></rect>
                </svg>
            </button>
        </div>
        
        <!-- Center Search Bar -->
        <div class="flex-1 max-w-md mx-8">
            <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fas fa-search text-gray-400 text-sm"></i>
                </div>
                <input 
                    type="text" 
                    class="block w-full pl-10 pr-3 py-2 border border-transparent bg-gray-100 rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:bg-white focus:border-gray-300 transition-all duration-200"
                    placeholder="Search documentation, features, support..."
                >
            </div>
        </div>
        
        <!-- Right side controls -->
        <div class="flex items-center space-x-4">
            <!-- Light/Dark mode toggle -->
            <button class="p-2 text-gray-500 hover:text-gray-700">
                <i class="fas fa-moon text-lg"></i>
            </button>
            
            <!-- Login -->
            <a href="https://app.blue.cc" target="_blank" class="px-4 py-2 text-sm font-semibold rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out flex items-center">
                Log In
                <span class="ml-2 inline-flex items-center justify-center w-5 h-5 bg-gray-200 rounded text-xs font-bold text-gray-700 border border-gray-300">L</span>
            </a>
            
            <!-- Sign Up -->
            <a href="https://app.blue.cc" target="_blank" class="px-4 py-2 text-sm font-semibold rounded-md border border-transparent btn-blue text-white hover:btn-blue-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out flex items-center">
                Sign Up
                <span class="ml-2 inline-flex items-center justify-center w-5 h-5 bg-white rounded text-xs font-bold" style="color: #00a0d2; border-color: #00a0d2;">â†µ</span>
            </a>
        </div>
    </div>
    
    <!-- Keyboard shortcuts script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            function openLogin() {
                window.open('https://app.blue.cc', '_blank');
            }

            function openSignUp() {
                window.open('https://app.blue.cc', '_blank');
            }

            function handleKeyPress(event) {
                // Check if the active element is an input, textarea, or any element within a form
                const activeElement = document.activeElement;
                const isFormElement = activeElement.tagName === 'INPUT' ||
                                    activeElement.tagName === 'TEXTAREA' ||
                                    activeElement.tagName === 'SELECT' ||
                                    activeElement.isContentEditable ||
                                    activeElement.closest('form') !== null;

                // Only proceed if not interacting with a form element
                if (!isFormElement) {
                    if (event.key.toLowerCase() === 'l') {
                        event.preventDefault();
                        openLogin();
                    } else if (event.key === 'Enter') {
                        event.preventDefault();
                        openSignUp();
                    }
                }
            }

            document.addEventListener('keydown', handleKeyPress);
        });
    </script>
</header>
{{end}}