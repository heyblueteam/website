{{- /* 
================================================================================
VALUE PROPOSITIONS COMPONENT
================================================================================
Displays a two-column layout with title/description and value proposition list.

USAGE:
{{template "value-propositions" $valuePropsData}}

EXAMPLE IMPLEMENTATION:
{{$valuePropsData := parseJSON `{
    "Title": "One platform.<br>Endless possibilities.",
    "Description": "Blue adapts to how you work, not the other way around. Build the perfect system for your team.",
    "Animation": true,  // Optional, default: true
    "ValueProps": [
        {
            "Title": "Infinitely customizable",
            "Description": "23 field types, custom workflows, and flexible permissions. Make Blue work exactly how you need it to."
        },
        {
            "Title": "Powerful automations",
            "Description": "Build multi-step workflows with conditions, approvals, and integrations. No code required."
        },
        {
            "Title": "Real-time insights",
            "Description": "Dashboards that update instantly. See what's happening across your entire organization."
        }
    ]
}`}}
{{template "value-propositions" $valuePropsData}}

DATA STRUCTURE:
{
    "Title": "Section title with <br> support",  // Main heading, supports HTML (required)
    "Description": "Section description",        // Subtitle text (required)
    "Animation": true,                           // Show animated dots (optional, default: true)
    "ValueProps": [                              // Array of value propositions (required)
        {
            "Title": "Value prop title",          // Proposition headline (required)
            "Description": "Description text"     // Proposition description (required)
        }
    ],
    "MarginBottom": "mb-16"                     // Bottom margin (optional, default: "mb-16")
}

FEATURES:
- Two-column split layout
- Animated progress dots (optional)
- HTML support in title (for line breaks)
- Responsive design
- Dark mode support
- Scroll-triggered animation

ANIMATED DOTS:
- 5 dots connected by lines
- Fill progressively on scroll
- Triggered by intersection observer
- Progress based on viewport position
- Can be disabled with Animation: false

LAYOUT:
- Container: max-width 7xl (80rem)
- Bottom margin: Customizable (default: 16 units / 4rem)
- Grid: 2 equal columns (stacks on mobile)
- Left column: Title, description, optional dots
- Right column: Value propositions list
- Border: Right border on left column (desktop)

STYLING:
- Title: 3xl-4xl font size, medium weight
- Title color: Gray-900 (dark: gray-100)
- Description: lg text size, gray-600
- Value prop title: xl font size, medium
- Value prop spacing: 8 units between items
- Dot animation: 300ms transitions

ANIMATION PROGRESS:
- Calculates based on element position
- 75% viewport threshold
- Each dot/line has specific progress point:
  - Dot 1: 10%
  - Line 1: 30%
  - Dot 2: 40%
  - Line 2: 60%
  - Dot 3: 70%
  - Line 3: 80%
  - Dot 4: 90%
  - Line 4: 95%
  - Dot 5: 100%

USE CASES:
- Product value propositions
- Feature benefits
- Service advantages
- Company differentiators
- Platform capabilities
*/ -}}
{{define "value-propositions"}}
<!-- Value Propositions Component -->
<section class="max-w-7xl mx-auto {{if .MarginBottom}}{{.MarginBottom}}{{else}}mb-16{{end}}">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-0">
        <!-- Left Side: Title and Description -->
        <div class="space-y-6 p-8 md:pr-12 md:border-r border-gray-200 dark:border-gray-700">
            <!-- Animated Process Dots -->
            {{if ne .Animation false}}
            <div class="flex items-center justify-start mb-8" 
                 x-data="{ 
                    intersecting: false, 
                    progress: 0,
                    updateProgress() { 
                        this.progress = Math.max(0, Math.min((window.innerHeight - $el.getBoundingClientRect().top) / (window.innerHeight * 0.75), 1))
                    }
                 }"
                 x-intersect="intersecting = true"
                 x-intersect:leave="intersecting = false"
                 x-on:scroll.window="if (intersecting) { updateProgress() }"
                 x-init="updateProgress()">
                
                <!-- First dot -->
                <div class="w-3 h-3 rounded-full transition-all duration-300"
                     :class="progress >= 0.1 ? 'bg-brand-blue' : 'bg-gray-300 dark:bg-gray-600'"></div>
                
                <!-- First line -->
                <div class="h-0.5 w-8 mx-2 transition-all duration-300"
                     :class="progress >= 0.3 ? 'bg-brand-blue' : 'bg-gray-300 dark:bg-gray-600'"></div>
                
                <!-- Second dot -->
                <div class="w-3 h-3 rounded-full transition-all duration-300"
                     :class="progress >= 0.4 ? 'bg-brand-blue' : 'bg-gray-300 dark:bg-gray-600'"></div>
                
                <!-- Second line -->
                <div class="h-0.5 w-8 mx-2 transition-all duration-300"
                     :class="progress >= 0.6 ? 'bg-brand-blue' : 'bg-gray-300 dark:bg-gray-600'"></div>
                
                <!-- Third dot -->
                <div class="w-3 h-3 rounded-full transition-all duration-300"
                     :class="progress >= 0.7 ? 'bg-brand-blue' : 'bg-gray-300 dark:bg-gray-600'"></div>
                
                <!-- Third line -->
                <div class="h-0.5 w-8 mx-2 transition-all duration-300"
                     :class="progress >= 0.8 ? 'bg-brand-blue' : 'bg-gray-300 dark:bg-gray-600'"></div>
                
                <!-- Fourth dot -->
                <div class="w-3 h-3 rounded-full transition-all duration-300"
                     :class="progress >= 0.9 ? 'bg-brand-blue' : 'bg-gray-300 dark:bg-gray-600'"></div>
                
                <!-- Fourth line -->
                <div class="h-0.5 w-8 mx-2 transition-all duration-300"
                     :class="progress >= 0.95 ? 'bg-brand-blue' : 'bg-gray-300 dark:bg-gray-600'"></div>
                
                <!-- Fifth dot -->
                <div class="w-3 h-3 rounded-full transition-all duration-300"
                     :class="progress >= 1.0 ? 'bg-brand-blue' : 'bg-gray-300 dark:bg-gray-600'"></div>
            </div>
            {{end}}
            
            <h3 class="text-3xl md:text-4xl font-medium tracking-tight text-gray-900 dark:text-gray-100">{{html .Title}}</h3>
            <p class="text-gray-600 dark:text-gray-400 text-lg">{{.Description}}</p>
        </div>

        <!-- Right Side: Value Props Stacked -->
        <div class="space-y-8 p-8 md:pl-12">
            {{range .ValueProps}}
            <div class="space-y-3">
                <h4 class="text-xl font-medium text-gray-900 dark:text-gray-100">{{.Title}}</h4>
                <p class="text-gray-600 dark:text-gray-400">{{.Description}}</p>
            </div>
            {{end}}
        </div>
    </div>
</section>
{{end}}