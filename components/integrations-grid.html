{{define "integrations-grid"}}
<!-- Integration Search and Grid -->
<div x-data="{ 
    searchTerm: '',
    
    isVisible(name) {
        if (!this.searchTerm.trim()) {
            return true;
        }
        return name.toLowerCase().includes(this.searchTerm.toLowerCase());
    }
}" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Search Bar -->
    <div class="mb-12">
        <div class="relative max-w-md mx-auto">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <svg class="w-4 h-4 text-gray-400" fill="currentColor">
                    <use href="/public/icons/sprite.svg#search"></use>
                </svg>
            </div>
            <input 
                type="text" 
                x-model="searchTerm"
                placeholder="Search integrations..."
                class="block w-full pl-10 pr-4 py-2 border border-transparent bg-gray-100 dark:bg-gray-800 rounded-lg text-sm placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 focus:outline-none focus:bg-white dark:focus:bg-gray-700 focus:border-gray-300 dark:focus:border-gray-600 transition-all duration-200"
                autocomplete="off"
            >
        </div>
    </div>


    <!-- Integration Grid -->
    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6">
        {{range .integrations}}
        <div class="integration-card bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-200 text-center" 
             data-name="{{.name}}" 
             x-show="isVisible('{{.name}}')" 
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 scale-95"
             x-transition:enter-end="opacity-100 scale-100"
             x-transition:leave="transition ease-in duration-150"
             x-transition:leave-start="opacity-100 scale-100"
             x-transition:leave-end="opacity-0 scale-95">
            <div class="h-12 mb-4 flex items-center justify-center">
                <img src="{{.src}}" alt="{{.name}} logo" class="max-h-full max-w-full object-contain" loading="lazy">
            </div>
            <p class="text-sm text-gray-700 dark:text-gray-300 font-medium">{{.name}}</p>
        </div>
        {{end}}
    </div>

</div>
{{end}}