{{- /* 
================================================================================
INTEGRATIONS GRID COMPONENT
================================================================================
Displays a searchable grid of integration partners with logos and names.

USAGE:
{{template "integrations-grid" $integrationData}}

EXAMPLE IMPLEMENTATION:
{{$integrationData := dict
    "integrations" (slice
        (dict
            "name" "Slack"
            "src" "/integrations/slack.svg"
        )
        (dict
            "name" "Microsoft Teams"
            "src" "/integrations/microsoft-teams.svg"
        )
        (dict
            "name" "Google Workspace"
            "src" "/integrations/google-workspace.svg"
        )
        (dict
            "name" "Zapier"
            "src" "/integrations/zapier.svg"
        )
        (dict
            "name" "Salesforce"
            "src" "/integrations/salesforce.svg"
        )
        (dict
            "name" "HubSpot"
            "src" "/integrations/hubspot.svg"
        )
    )
    "MarginBottom" "mb-24"
}}
{{template "integrations-grid" $integrationData}}

DATA STRUCTURE:
{
    "integrations": [                    // Array of integration objects (required)
        {
            "name": "Integration Name",   // Display name and search term (required)
            "src": "/path/to/logo.svg"    // Logo image path (required)
        }
    ],
    "MarginBottom": "mb-16"              // Optional bottom margin (default: mb-16)
}

FEATURES:
- Real-time search filtering with AlpineJS
- Responsive grid layout (2-6 columns)
- Smooth enter/leave transitions
- Centered logo display with consistent sizing
- Dark mode support
- Case-insensitive search
- Lazy loading logos

SEARCH FUNCTIONALITY:
- Search icon from sprite sheet
- Filters integrations by name
- Shows all when search is empty
- Smooth transitions when filtering

LAYOUT:
- Container: max-width 7xl (80rem)
- Search bar: max-width md (28rem), centered
- Grid: 2 columns mobile, 4 tablet, 6 desktop
- Gap: 6 units (1.5rem) between cards
- Card padding: 6 units (1.5rem)
- Logo height: Fixed 12 units (3rem)

STYLING:
- Card background: White (dark: gray-800)
- Card border: Gray-200 (dark: gray-700)
- Hover: Shadow effect
- Search input: Gray-100 background (dark: gray-800)
- Focus states: White background, gray border
- Border radius: lg (0.5rem)

TRANSITIONS:
- Card appear: Scale from 95% to 100%, fade in
- Card disappear: Scale from 100% to 95%, fade out
- Duration: 200ms enter, 150ms leave
- Shadow transition: 200ms

USE CASES:
- Integration marketplaces
- Partner showcases
- App directories
- Technology stacks
- Ecosystem displays
*/ -}}
{{define "integrations-grid"}}
<!-- Integration Search and Grid -->
<div x-data="{ 
    searchTerm: '',
    
    isVisible(name) {
        if (!this.searchTerm.trim()) {
            return true;
        }
        return name.toLowerCase().includes(this.searchTerm.toLowerCase());
    }
}" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 {{if .MarginBottom}}{{.MarginBottom}}{{else}}mb-16{{end}}">
    <!-- Search Bar -->
    <div class="mb-12">
        <div class="relative max-w-md mx-auto">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <svg class="w-4 h-4 text-gray-400" fill="currentColor">
                    <use href="{{spriteURL "search"}}"></use>
                </svg>
            </div>
            <input 
                type="text" 
                x-model="searchTerm"
                placeholder="Search integrations..."
                class="block w-full pl-10 pr-4 py-2 border border-transparent bg-gray-100 dark:bg-gray-800 rounded-lg text-sm placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 focus:outline-none focus:bg-white dark:focus:bg-gray-700 focus:border-gray-300 dark:focus:border-gray-600 transition-all duration-200"
                autocomplete="off"
            >
        </div>
    </div>


    <!-- Integration Grid -->
    <div class="grid grid-cols-2 md:grid-cols-4 2xl:grid-cols-6 gap-6">
        {{range .integrations}}
        <div class="integration-card bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-200 text-center" 
             data-name="{{.name}}" 
             x-show="isVisible('{{.name}}')" 
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 scale-95"
             x-transition:enter-end="opacity-100 scale-100"
             x-transition:leave="transition ease-in duration-150"
             x-transition:leave-start="opacity-100 scale-100"
             x-transition:leave-end="opacity-0 scale-95">
            <div class="h-12 mb-4 flex items-center justify-center">
                <img src="{{.src}}" alt="{{.name}} logo" class="max-h-full max-w-full object-contain" loading="lazy">
            </div>
            <p class="text-sm text-gray-700 dark:text-gray-300 font-medium">{{.name}}</p>
        </div>
        {{end}}
    </div>

</div>
{{end}}