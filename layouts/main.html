{{define "main.html"}}
<!DOCTYPE html>
<html lang="en">
{{template "head" .}}
<body x-data="{ 
        sidebarsOpen: true,
        scrollProgress: 0
    }" 
    @scroll.window="scrollProgress = Math.round((window.pageYOffset / (document.documentElement.scrollHeight - document.documentElement.clientHeight)) * 100)"
    class="bg-white dark:bg-gray-900 overflow-x-hidden transition-colors duration-300">
    
    {{template "topbar" .}}
    
    <!-- Main Layout -->
    <div class="flex pt-16 min-h-screen">
        {{template "left-sidebar" .}}
        
        <!-- Main Content Area -->
        <main class="flex-1 bg-white dark:bg-gray-900 transition-colors duration-300">
            <div class="flex">
                <!-- Content Area -->
                <div class="flex-1 px-8 pt-16 pb-4">
                    <div class="max-w-6xl mx-auto">
                        {{if .IsMarkdown}}
                        <div class="py-20 prose prose-lg prose-slate dark:prose-invert max-w-none prose-headings:text-gray-900 dark:prose-headings:text-gray-100 prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-strong:text-gray-900 dark:prose-strong:text-gray-100 prose-code:text-blue-600 dark:prose-code:text-blue-400 prose-code:bg-blue-50 dark:prose-code:bg-blue-950/30 prose-code:px-1 prose-code:py-0.5 prose-code:rounded">
                            {{if .Frontmatter}}
                            {{template "page-heading" (dict "Title" .Frontmatter.Title "Subtitle" .Frontmatter.Description "MarginBottom" "mb-8")}}
                            <hr class="mt-1 mb-8 border-gray-200 dark:border-gray-700">
                            {{end}}
                            {{.Content}}
                        </div>
                        {{else}}
                        {{.Content}}
                        {{end}}
                        
                        <!-- Copyright Notice -->
                        <div class="text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700">
                            <span class="text-sm leading-6 text-gray-600 dark:text-gray-400">¬© Blue <span x-text="new Date().getFullYear()"></span> ‚Äî Designed with <span class="text-red-500 animate-pulse">‚ù§</span> across the üåè</span>
                        </div>
                    </div>
                </div>
                
                {{template "right-sidebar" .}}
            </div>
        </main>
    </div>
    

    <script>       
        // Initialize all utilities when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Highlight.js
            hljs.highlightAll();
            
            // Initialize copy buttons
            CopyCodeUtils.init();
            
            // Initialize SPA routing
            SPAUtils.init();
        });
    </script>
    <script src="/public/js/copy-code.js"></script>
    <script src="/public/js/spa.js"></script>
    <script src="/public/js/status.js"></script>
</body>
</html>
{{end}}