---
title: Copia Record
description: Crea una copia di un record esistente mantenendo specifici elementi di dati.
---

## Copia un Record

Per creare una copia di un record esistente mantenendo elementi specifici, utilizza la mutazione `copyTodo`:

```graphql
mutation CopyTodo {
  copyTodo(
    input: {
      title: "new todo"
      todoId: "todo-id"
      todoListId: "todo-list-id"
      options: [
        DESCRIPTION
        DUE_DATE
        CHECKLISTS
        ASSIGNEES
        TAGS
        CUSTOM_FIELDS
        COMMENTS
      ]
    }
  )
}
```

### Intestazioni Richieste
```http
x-bloo-token-id: "your-token-id"
x-bloo-token-secret: "your-token-secret" 
x-bloo-project-id: "project-id-or-slug"
x-bloo-company-id: "company-id-or-slug"
```

### Parametri di Input

| Campo | Tipo | Richiesto | Descrizione |
|-------|------|----------|-------------|
| title | String | No | Nuovo titolo per il record copiato (opzionale) |  |
| todoId | String | Sì | ID del record da copiare |  |
| todoListId | String | Sì | ID della lista in cui creare la copia |  |
| options | Array | Sì | Elementi di dati da copiare dal record originale |  |

### Opzioni di Copia

L'array `options` accetta questi valori:

| Opzione | Descrizione |
|--------|-------------|
| DESCRIPTION | Copia la descrizione del record |  |
| DUE_DATE | Copia la data di scadenza e il fuso orario |  |
| CHECKLISTS | Copia tutte le checklist e i loro elementi |  |
| ASSIGNEES | Copia tutti gli utenti assegnati (filtrati per appartenenza al progetto target) |  |
| TAGS | Copia tutti i tag associati |  |
| CUSTOM_FIELDS | Copia tutti i valori dei campi personalizzati (inclusi gli allegati di file) |  |
| COMMENTS | Copia tutti i commenti e le risposte |  |

### Esempio di Risposta
```json
{
  "data": {
    "copyTodo": true
  }
}
```

::callout
**Posizionamento delle Copie** <br/>
Il record copiato sarà posizionato in fondo alla lista target per impostazione predefinita. Per controllare il posizionamento, utilizza la [mutazione di spostamento record](/api/records/move-record-list).
:: 

::callout
---
icon: i-heroicons-exclamation-triangle
---
**Permessi Richiesti** <br/>
Hai bisogno di permessi **Modifica** (ruolo PROPRIETARIO, AMMINISTRATORE o MEMBRO) su entrambi i progetti sorgente e target. **Nota**: Gli utenti con ruolo MEMBRO possono copiare solo record all'interno dello stesso progetto. La copia tra progetti richiede permessi AMMINISTRATORE o PROPRIETARIO. Le copie non riuscite restituiranno un codice di errore `FORBIDDEN`.
::

### Gestione degli Errori
Codici di errore comuni per questa operazione:
- `TODO_NOT_FOUND`: todoId non valido o inaccessibile
- `TODO_LIST_NOT_FOUND`: todoListId non valido o inaccessibile
- `FORBIDDEN`: Permessi insufficienti o restrizione tra progetti

Consulta [Codici di Errore](/api/error-codes) per riferimento completo.

## Funzionalità Avanzate

### Copia tra Progetti
La mutazione supporta la copia di record tra progetti diversi con queste considerazioni:
- **PROPRIETARIO/AMMINISTRATORE**: Può copiare record tra qualsiasi progetto a cui hanno accesso
- **MEMBRO**: Limitato a copiare solo all'interno dello stesso progetto
- **Filtraggio Assegnatari**: Quando si copia tra progetti, gli assegnatari vengono automaticamente filtrati per includere solo gli utenti che hanno accesso al progetto target

### Gestione dei Campi Personalizzati
Quando si utilizza l'opzione `CUSTOM_FIELDS`:
- Tutti i valori dei campi personalizzati vengono copiati nel nuovo record
- Gli allegati di file nei campi personalizzati vengono duplicati correttamente con nuovi riferimenti di archiviazione
- I tipi di campo personalizzati vengono preservati e convalidati rispetto alla configurazione del progetto target

### Integrazione con Automazione
Le copie tra progetti possono attivare ulteriori regole di automazione sia nei progetti sorgente che in quelli target, consentendo una gestione sofisticata del flusso di lavoro oltre i confini dei progetti.