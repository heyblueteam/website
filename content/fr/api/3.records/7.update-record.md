---
title: Mettre à jour un enregistrement
description: Apprenez à mettre à jour les détails des enregistrements et les champs personnalisés en utilisant l'API Blue.
---

## Mettre à jour les détails de l'enregistrement

Pour mettre à jour les propriétés principales d'un enregistrement, utilisez la mutation `editTodo` :

```graphql
mutation UpdateRecordDetails {
  editTodo(
    input: {
      todoId: "YOUR RECORD ID"
      todoListId: "RECORD LIST ID TO MOVE THE RECORD TO"
      position: "NEW RECORD POSITION IN NUMBER"
      title: "NEW RECORD TITLE"
      html: "NEW RECORD DESCRIPTION IN HTML (MUST MATCH TEXT)"
      text: "NEW RECORD DESCRIPTION IN TEXT (MUST MATCH HTML)"
      startedAt: "NEW RECORD DUE DATE (START)"
      duedAt: "NEW RECORD DUE DATE (END)"
      color: "RECORD COLOR CODE"
    }
  ) {
    id
    title
    position
    html
    text
    color
  }
}
```

### Référence des champs d'entrée
| Champ | Type | Description |
|-------|------|-------------|
| todoId | String | (Requis) L'ID de l'enregistrement à mettre à jour |  |
| todoListId | String | Nouvel ID de liste si vous déplacez l'enregistrement |  |
| position | Float | Nouvelle position dans la liste |  |
| title | String | Titre de l'enregistrement mis à jour |  |
| html/text | String | Description mise à jour (doit correspondre dans les deux champs) |  |
| startedAt/duedAt | DateTime | Dates de début/fin mises à jour au format ISO 8601 |  |
| color | String | Code couleur parmi les options disponibles |  |

### Options de couleur
```json
// Light theme colors
["#ffc2d4", "#ed8285", "#ffb55e", "#ffe885", "#ccf07d", 
 "#91e38c", "#a1f7fa", "#91cfff", "#c29ee0", "#e8bd91"]

// Dark theme colors  
["#ff8ebe", "#ff4b4b", "#ff9e4b", "#ffdc6b", "#b4e051",
 "#66d37e", "#4fd2ff", "#4a9fff", "#a17ee8", "#e89e64"]
```

## Mettre à jour les champs personnalisés
Pour mettre à jour les valeurs des champs personnalisés, utilisez la mutation `setTodoCustomField` avec des paramètres spécifiques aux champs :

### Champs basés sur du texte
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      text: "VALUE"
    }
  )
}
```
S'applique à : `TEXT_SINGLE`, `TEXT_MULTI`, `URL`, `EMAIL`

### Champs numériques  
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID" 
      number: "NUMERIC_VALUE"
    }
  )
}
```
S'applique à : `NUMBER`, `CURRENCY`, `PERCENT`, `RATING`

### Champs de sélection
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      customFieldOptionIds: ["OPTION_ID_1", "OPTION_ID_2"]
    }
  )
}
```
S'applique à : `SELECT_SINGLE`, `SELECT_MULTI`

### Champs spécialisés
**Numéros de téléphone :**
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      text: "+33642526644"
      regionCode: "FR"
    }
  )
}
```

**Pays :**
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      countryCodes: ["AF", "AL", "DZ"]
      text: "Afghanistan, Albania, Algeria"
    }
  )
}
```

**Emplacement :**
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      latitude: 42.2923323
      longitude: 12.126621199999999
      text: "Via Cassia, Querce d'Orlando, Capranica, Italy"
    }
  )
}
```

**Checkbox :**
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      checked: true
    }
  )
}
```

## Permissions requises

Les utilisateurs doivent avoir un accès approprié au projet pour mettre à jour les enregistrements :

| Niveau d'accès | Peut mettre à jour les enregistrements |
|----------------|---------------------------------------|
| `OWNER` | ✅ Oui |  |
| `ADMIN` | ✅ Oui |  |
| `MEMBER` | ✅ Oui |  |
| `CLIENT` | ✅ Oui |  |
| `COMMENT_ONLY` | ❌ Non |  |
| `VIEW_ONLY` | ❌ Non |  |

Des permissions supplémentaires pour les champs personnalisés peuvent s'appliquer pour `setTodoCustomField` en fonction de la configuration des rôles.

## Valeurs de retour

- `editTodo` renvoie l'objet `Todo` mis à jour dans son intégralité
- `setTodoCustomField` renvoie `Boolean!` indiquant le succès

### Remarques
1. Les ID des champs personnalisés peuvent être trouvés en utilisant la requête [lister les champs personnalisés](/api/custom-fields/list-custom-fields)
2. Les numéros de téléphone doivent être au format E.164 lors de l'utilisation de l'API directement
3. Les champs d'emplacement sont mieux gérés via l'interface de l'application Blue
4. Les champs `html` et `text` sont automatiquement synchronisés lorsque `html` est fourni
5. Toutes les opérations de mise à jour déclenchent l'enregistrement d'activité et les notifications webhook