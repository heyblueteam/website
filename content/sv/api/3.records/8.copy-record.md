---
title: Kopiera Post
description: Skapa en kopia av en befintlig post samtidigt som specifika dataelement bevaras.
---

## Kopiera en Post

För att skapa en kopia av en befintlig post medan specifika element bibehålls, använd mutation `copyTodo`:

```graphql
mutation CopyTodo {
  copyTodo(
    input: {
      title: "new todo"
      todoId: "todo-id"
      todoListId: "todo-list-id"
      options: [
        DESCRIPTION
        DUE_DATE
        CHECKLISTS
        ASSIGNEES
        TAGS
        CUSTOM_FIELDS
        COMMENTS
      ]
    }
  )
}
```

### Obligatoriska Rubriker
```http
x-bloo-token-id: "your-token-id"
x-bloo-token-secret: "your-token-secret" 
x-bloo-project-id: "project-id-or-slug"
x-bloo-company-id: "company-id-or-slug"
```

### Indata Parametrar

| Fält | Typ | Obligatorisk | Beskrivning |
|-------|------|----------|-------------|
| title | String | Nej | Ny titel för den kopierade posten (valfritt) |  |
| todoId | String | Ja | ID för posten att kopiera |  |
| todoListId | String | Ja | ID för listan där kopian ska skapas |  |
| options | Array | Ja | Dataelement att kopiera från den ursprungliga posten |  |

### Kopieringsalternativ

Arrayen `options` accepterar dessa värden:

| Alternativ | Beskrivning |
|------------|-------------|
| DESCRIPTION | Kopierar postens beskrivning |  |
| DUE_DATE | Kopierar förfallodatum och tidszon |  |
| CHECKLISTS | Kopierar alla checklistor och deras objekt |  |
| ASSIGNEES | Kopierar alla tilldelade användare (filtrerat efter medlemskap i målprojekt) |  |
| TAGS | Kopierar alla associerade taggar |  |
| CUSTOM_FIELDS | Kopierar alla värden för anpassade fält (inklusive filbilagor) |  |
| COMMENTS | Kopierar alla kommentarer och svar |  |

### Exempel på Svar
```json
{
  "data": {
    "copyTodo": true
  }
}
```

::callout
**Positionering av Kopior** <br/>
Den kopierade posten kommer som standard att placeras längst ner i mål-listan. För att styra positioneringen, använd [flytta post mutation](/api/records/move-record-list).
:: 

::callout
---  
icon: i-heroicons-exclamation-triangle  
---  
**Obligatoriska Behörigheter** <br/>  
Du behöver **Redigera** behörigheter (ÄGARE, ADMIN eller MEDLEM roll) på både käll- och målprojekt. **Notera**: Användare med MEDLEM roll kan endast kopiera poster inom samma projekt. Kopiering över projekt kräver ADMIN eller ÄGARE behörigheter. Misslyckade kopior kommer att returnera en `FORBIDDEN` felkod.  
::

### Felhantering
Vanliga felkoder för denna operation:
- `TODO_NOT_FOUND`: Ogiltig eller otillgänglig todoId
- `TODO_LIST_NOT_FOUND`: Ogiltig eller otillgänglig todoListId
- `FORBIDDEN`: Otillräckliga behörigheter eller begränsning över projekt

Se [Fel Koder](/api/error-codes) för fullständig referens.

## Avancerade Funktioner

### Kopiering Över Projekt
Mutationen stöder kopiering av poster mellan olika projekt med dessa överväganden:
- **ÄGARE/ADMIN**: Kan kopiera poster över alla projekt de har tillgång till
- **MEDLEM**: Begränsad till att kopiera inom samma projekt endast
- **Tilldelningsfiltrering**: När kopiering sker över projekt, filtreras tilldelningar automatiskt för att endast inkludera användare som har tillgång till målprojektet

### Hantering av Anpassade Fält
När du använder alternativet `CUSTOM_FIELDS`:
- Alla värden för anpassade fält kopieras till den nya posten
- Filbilagor i anpassade fält dupliceras korrekt med nya lagringsreferenser
- Typer av anpassade fält bevaras och valideras mot målprojektets konfiguration

### Automatiseringsintegration
Kopior över projekt kan utlösa ytterligare automatiseringsregler i både käll- och målprojekt, vilket möjliggör sofistikerad arbetsflödeshantering över projektgränser.