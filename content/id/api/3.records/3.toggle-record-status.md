---
title: Mengubah Status Rekaman
description: Mengubah status rekaman antara lengkap dan tidak lengkap dengan satu mutasi.
---

## Mengubah Status Rekaman

Mutasi `updateTodoDoneStatus` menyediakan cara sederhana untuk mengubah status penyelesaian rekaman. Jika rekaman tidak lengkap, itu menandainya sebagai lengkap. Jika sudah lengkap, itu menandainya sebagai tidak lengkap.

### Contoh

```graphql
mutation ToggleRecordStatus {
  updateTodoDoneStatus(todoId: "todo_123") {
    id
    title
    done
    updatedAt
  }
}
```

## Parameter Input

| Parameter | Tipe | Diperlukan | Deskripsi |
|-----------|------|------------|-----------|
| `todoId` | String! | ✅ Ya | ID rekaman yang akan diubah |

## Respon

Mengembalikan objek `Todo` yang diperbarui dengan semua bidang yang tersedia. Bidang yang umum digunakan meliputi:

- `id` - Pengenal rekaman
- `title` - Judul rekaman
- `done` - Status penyelesaian baru (true/false)
- `updatedAt` - Timestamp pembaruan
- Semua [bidang Todo](/api/records/list-records#todo-fields) tersedia

## Izin yang Diperlukan

| Tingkat Akses | Dapat Mengubah Status |
|---------------|-----------------------|
| `OWNER` | ✅ Ya |
| `ADMIN` | ✅ Ya |
| `MEMBER` | ✅ Ya |
| `CLIENT` | ✅ Ya |
| `COMMENT_ONLY` | ❌ Tidak |
| `VIEW_ONLY` | ❌ Tidak |

**Catatan**: Peran kustom dengan `allowMarkRecordsAsDone: false` akan diblokir dari menggunakan mutasi ini.

## Respon Kesalahan

### TodoNotFoundError
```json
{
  "errors": [{
    "message": "Todo was not found.",
    "extensions": {
      "code": "TODO_NOT_FOUND"
    }
  }]
}
```

### UnauthorizedError
```json
{
  "errors": [{
    "message": "You are not authorized.",
    "extensions": {
      "code": "UNAUTHORIZED"
    }
  }]
}
```

## Catatan Penting

### Efek Samping
Mengubah status rekaman memicu beberapa tindakan otomatis:

- **Log Aktivitas**: Membuat entri untuk MARK_AS_COMPLETE atau MARK_AS_INCOMPLETE
- **Webhook**: Mengirim notifikasi ke endpoint webhook yang dikonfigurasi dengan keadaan sebelum/setelah
- **Automasi**: Memicu aturan automasi TODO_MARKED_AS_COMPLETE atau TODO_MARKED_AS_INCOMPLETE
- **Notifikasi Real-time**: Mengirim pembaruan kepada pengguna yang relevan (jika dikonfigurasi)
- **Penerbitan Real-time**: Menerbitkan pembaruan todo ke klien yang terhubung
- **Pelacakan Waktu**: Memperbarui bidang kustom durasi waktu secara otomatis
- **Indeks Pencarian**: Memperbarui indeks pencarian untuk meningkatkan keterdiscoveran
- **Analitik**: Memperbarui grafik dan laporan
- **Feed Aktivitas**: Rekaman yang selesai muncul di feed aktivitas perusahaan

### Tips Penggunaan
- Mutasi ini idempotent - memanggilnya dua kali mengembalikan rekaman ke keadaan semula
- Operasi ini atomik - berhasil sepenuhnya atau gagal tanpa perubahan
- Peran kustom dapat membatasi tindakan ini melalui izin `allowMarkRecordsAsDone`

### Endpoint Terkait
- **Daftar Rekaman**: Gunakan `todoQueries.todos` untuk men-query dan memfilter rekaman
- **Pembaruan Massal**: Gunakan `updateTodos` untuk memodifikasi beberapa rekaman sekaligus