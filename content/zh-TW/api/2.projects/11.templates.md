---
title: 模板
description: 模板允許您重用現有項目的結構，以啟動具有相同框架的新倡議。
---

## 模板概述

Blue 支持兩種類型的模板：
- **公司模板**：由您的組織創建，用於內部使用
- **官方模板**：由 Blue 創建，供所有用戶使用（行業標準模板）

模板保留整個項目結構，包括待辦事項、列表、自定義字段、自動化等。

## 列表模板

### 使用模板查詢

```graphql
query GetTemplates {
  templates(
    companyId: "company-123"
    isOfficialTemplate: false
    category: MARKETING
  ) {
    id
    name
    description
    category
    isOfficialTemplate
    icon
    color
    image {
      thumbnail
      small
    }
  }
}
```

### 使用 projectList 和模板過濾器

```graphql
query ListTemplates {
  projectList(
    filter: {
      companyIds: ["company-id"]
      isTemplate: true
    }
    sort: [updatedAt_DESC]
    take: 20
    skip: 0
  ) {
    items {
      id
      slug
      name
      description
      category
      isTemplate
      isOfficialTemplate
      color
      icon
      createdAt
      updatedAt
    }
    pageInfo {
      hasNextPage
      totalItems
    }
    totalCount
  }
}
```

## 從模板創建項目

要從現有模板創建新項目：

```graphql
mutation CreateFromTemplate {
  createProject(
    input: {
      templateId: "template-id-or-slug"
      name: "Q1 Marketing Campaign"
      companyId: "company-id"
      description: "Marketing initiatives for Q1"
      color: "#10B981"
    }
  ) {
    id
    name
    slug
  }
}
```

::callout
---  
icon: circle-inf---  
從模板創建是一個異步過程。項目會立即創建，但內容會在背景中複製。使用 `copyProjectStatus` 查詢來跟踪進度。  
::

## 將項目轉換為模板

將現有項目轉換為可重用模板：

```graphql
mutation ConvertToTemplate {
  convertProjectToTemplate(
    input: {
      projectId: "project-123"
      isOfficialTemplate: false
    }
  ) {
    id
    name
    isTemplate
    isOfficialTemplate
  }
}
```

## 移除模板狀態

將模板轉換回常規項目：

```graphql
mutation RemoveTemplateStatus {
  removeProjectFromTemplates(projectId: "template-123") {
    id
    name
    isTemplate
  }
}
```

## 獲取單個模板

檢索有關特定模板的詳細信息：

```graphql
query GetTemplate {
  template(templateId: "template-123") {
    id
    name
    description
    category
    isOfficialTemplate
    todoLists {
      name
      todos {
        title
      }
    }
  }
}
```

## 查詢參數

### templates 查詢

| 參數 | 類型 | 必需 | 描述 |
|------|------|------|------|
| `companyId` | String | 否 | 按公司過濾模板。省略以查看官方模板。 |  |
| `isOfficialTemplate` | Boolean | 否 | 僅顯示官方 Blue 模板 |  |
| `category` | ProjectCategory | 否 | 按項目類別過濾 |  |

### convertProjectToTemplate 輸入

| 參數 | 類型 | 必需 | 描述 |
|------|------|------|------|
| `projectId` | String! | ✅ 是 | 要轉換為模板的項目 |  |
| `isOfficialTemplate` | Boolean! | ✅ 是 | 標記為官方模板（僅限 Blue 員工） |  |

### 模板類別

| 值 | 描述 |
|----|------|
| `CRM` | 客戶關係管理 |  |
| `CROSS_FUNCTIONAL` | 跨功能團隊項目 |  |
| `CUSTOMER_SUCCESS` | 客戶成功倡議 |  |
| `DESIGN` | 設計和創意項目 |  |
| `ENGINEERING` | 工程和開發 |  |
| `GENERAL` | 一般項目（默認） |  |
| `HR` | 人力資源 |  |
| `IT` | 信息技術 |  |
| `MARKETING` | 市場營銷活動 |  |
| `OPERATIONS` | 操作和物流 |  |
| `PRODUCT` | 產品管理 |  |
| `SALES` | 銷售和業務發展 |  |

## 從模板複製的內容

從模板創建項目時，將複製以下內容：

- ✅ **結構**：所有待辦事項列表及其位置
- ✅ **內容**：描述、評論和附件
- ✅ **組織**：標籤、標記和自定義字段
- ✅ **自動化**：所有自動化規則和工作流程
- ✅ **表單**：項目表單及其配置
- ✅ **文檔**：維基頁面和文檔
- ✅ **設置**：封面配置和顯示偏好
- ✅ **角色**：用戶角色定義（但不包括用戶分配）

未複製：
- ❌ 用戶分配（創建者除外）
- ❌ 活動歷史
- ❌ 時間跟踪數據
- ❌ 待辦事項的完成狀態

## 所需權限

### 創建模板

| 操作 | 所需角色 |
|------|----------|
| Convert project to template | Project `OWNER` or `ADMIN` |  |
| Create official template | Blue employee only |  |
| Remove template status | Project `OWNER` or `ADMIN` |  |

### 使用模板

| 模板類型 | 誰可以使用 |
|----------|------------|
| Company templates | Users in the same company |  |
| Official templates | All Blue users |  |

## 錯誤響應

### 找不到模板
```json
{
  "errors": [{
    "message": "Template not found",
    "extensions": {
      "code": "TEMPLATE_NOT_FOUND"
    }
  }]
}
```

### 待辦事項過多
```json
{
  "errors": [{
    "message": "This project has more than 250,000 todos and cannot be used as a template",
    "extensions": {
      "code": "TOO_MANY_TODOS"
    }
  }]
}
```

## 重要說明

- **大小限制**：擁有超過 250,000 個待辦事項的項目不能用作模板
- **異步複製**：模板內容在背景中通過作業隊列複製
- **存檔狀態**：轉換為模板會自動取消存檔項目
- **文件夾移除**：轉換時模板將從文件夾中移除
- **訪問控制**：官方模板對所有人可見，公司模板僅對成員可見
- **實時更新**：使用 `subscribeToProject` 訂閱模板變更