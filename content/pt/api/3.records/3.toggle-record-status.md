---
title: Alternar Status do Registro
description: Altere um registro entre o status completo e incompleto com uma única mutação.
---

## Alternar Status do Registro

A mutação `updateTodoDoneStatus` fornece uma maneira simples de alternar o status de conclusão de um registro. Se o registro estiver incompleto, ele o marca como completo. Se estiver completo, ele o marca como incompleto.

### Exemplo

```graphql
mutation ToggleRecordStatus {
  updateTodoDoneStatus(todoId: "todo_123") {
    id
    title
    done
    updatedAt
  }
}
```

## Parâmetros de Entrada

| Parâmetro | Tipo | Necessário | Descrição |
|-----------|------|------------|-----------|
| `todoId` | String! | ✅ Sim | O ID do registro a ser alternado |

## Resposta

Retorna o objeto `Todo` atualizado com todos os campos disponíveis. Os campos comumente usados incluem:

- `id` - Identificador do registro
- `title` - Título do registro
- `done` - Novo status de conclusão (true/false)
- `updatedAt` - Timestamp da atualização
- Todos os outros [campos Todo](/api/records/list-records#todo-fields) estão disponíveis

## Permissões Necessárias

| Nível de Acesso | Pode Alternar Status |
|-----------------|----------------------|
| `OWNER` | ✅ Sim |
| `ADMIN` | ✅ Sim |
| `MEMBER` | ✅ Sim |
| `CLIENT` | ✅ Sim |
| `COMMENT_ONLY` | ❌ Não |
| `VIEW_ONLY` | ❌ Não |

**Nota**: Funções personalizadas com `allowMarkRecordsAsDone: false` serão bloqueadas de usar esta mutação.

## Respostas de Erro

### TodoNotFoundError
```json
{
  "errors": [{
    "message": "Todo was not found.",
    "extensions": {
      "code": "TODO_NOT_FOUND"
    }
  }]
}
```

### UnauthorizedError
```json
{
  "errors": [{
    "message": "You are not authorized.",
    "extensions": {
      "code": "UNAUTHORIZED"
    }
  }]
}
```

## Notas Importantes

### Efeitos Colaterais
Alternar o status de um registro aciona várias ações automatizadas:

- **Registro de Atividades**: Cria entradas para MARCAR_COMO_COMPLETO ou MARCAR_COMO_INCOMPLETO
- **Webhooks**: Envia notificações para endpoints de webhook configurados com estados antes/depois
- **Automatizações**: Aciona regras de automação TODO_MARCADO_COMO_COMPLETO ou TODO_MARCADO_COMO_INCOMPLETO
- **Notificações em Tempo Real**: Envia atualizações para usuários relevantes (se configurado)
- **Publicação em Tempo Real**: Publica atualizações de todo para clientes conectados
- **Rastreamento de Tempo**: Atualiza campos personalizados de duração de tempo automaticamente
- **Índice de Pesquisa**: Atualiza o índice de pesquisa para melhorar a descobribilidade
- **Análises**: Atualiza gráficos e relatórios
- **Feed de Atividades**: Registros concluídos aparecem no feed de atividades da empresa

### Dicas de Uso
- A mutação é idempotente - chamá-la duas vezes retorna o registro ao seu estado original
- A operação é atômica - ou é bem-sucedida completamente ou falha sem alterações
- Funções personalizadas podem restringir essa ação através da permissão `allowMarkRecordsAsDone`

### Endpoints Relacionados
- **Listar Registros**: Use `todoQueries.todos` para consultar e filtrar registros
- **Atualização em Lote**: Use `updateTodos` para modificar vários registros de uma vez