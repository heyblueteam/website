---
title: Atualizar Registro
description: Aprenda como atualizar os detalhes do registro e campos personalizados usando a API do Blue.
---

## Atualizar Detalhes do Registro

Para atualizar as propriedades principais de um registro, use a mutação `editTodo`:

```graphql
mutation UpdateRecordDetails {
  editTodo(
    input: {
      todoId: "YOUR RECORD ID"
      todoListId: "RECORD LIST ID TO MOVE THE RECORD TO"
      position: "NEW RECORD POSITION IN NUMBER"
      title: "NEW RECORD TITLE"
      html: "NEW RECORD DESCRIPTION IN HTML (MUST MATCH TEXT)"
      text: "NEW RECORD DESCRIPTION IN TEXT (MUST MATCH HTML)"
      startedAt: "NEW RECORD DUE DATE (START)"
      duedAt: "NEW RECORD DUE DATE (END)"
      color: "RECORD COLOR CODE"
    }
  ) {
    id
    title
    position
    html
    text
    color
  }
}
```

### Referência de Campos de Entrada
| Campo | Tipo | Descrição |
|-------|------|-------------|
| todoId | String | (Obrigatório) O ID do registro a ser atualizado |  |
| todoListId | String | Novo ID da lista se o registro estiver sendo movido |  |
| position | Float | Nova posição na lista |  |
| title | String | Título do registro atualizado |  |
| html/text | String | Descrição atualizada (deve corresponder em ambos os campos) |  |
| startedAt/duedAt | DateTime | Datas de início/fim atualizadas no formato ISO 8601 |  |
| color | String | Código de cor das opções disponíveis |  |

### Opções de Cor
```json
// Light theme colors
["#ffc2d4", "#ed8285", "#ffb55e", "#ffe885", "#ccf07d", 
 "#91e38c", "#a1f7fa", "#91cfff", "#c29ee0", "#e8bd91"]

// Dark theme colors  
["#ff8ebe", "#ff4b4b", "#ff9e4b", "#ffdc6b", "#b4e051",
 "#66d37e", "#4fd2ff", "#4a9fff", "#a17ee8", "#e89e64"]
```

## Atualizar Campos Personalizados
Para atualizar os valores dos campos personalizados, use a mutação `setTodoCustomField` com parâmetros específicos para cada campo:

### Campos Baseados em Texto
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      text: "VALUE"
    }
  )
}
```
Aplica-se a: `TEXT_SINGLE`, `TEXT_MULTI`, `URL`, `EMAIL`

### Campos Numéricos  
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID" 
      number: "NUMERIC_VALUE"
    }
  )
}
```
Aplica-se a: `NUMBER`, `CURRENCY`, `PERCENT`, `RATING`

### Campos de Seleção
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      customFieldOptionIds: ["OPTION_ID_1", "OPTION_ID_2"]
    }
  )
}
```
Aplica-se a: `SELECT_SINGLE`, `SELECT_MULTI`

### Campos Especializados
**Números de Telefone:**
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      text: "+33642526644"
      regionCode: "FR"
    }
  )
}
```

**Países:**
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      countryCodes: ["AF", "AL", "DZ"]
      text: "Afghanistan, Albania, Algeria"
    }
  )
}
```

**Localização:**
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      latitude: 42.2923323
      longitude: 12.126621199999999
      text: "Via Cassia, Querce d'Orlando, Capranica, Italy"
    }
  )
}
```

**Caixa de Seleção:**
```graphql
mutation {
  setTodoCustomField(
    input: {
      customFieldId: "YOUR CUSTOM FIELD ID"
      todoId: "YOUR RECORD ID"
      checked: true
    }
  )
}
```

## Permissões Necessárias

Os usuários devem ter acesso apropriado ao projeto para atualizar registros:

| Nível de Acesso | Pode Atualizar Registros |
|----------------|--------------------------|
| `OWNER` | ✅ Sim |  |
| `ADMIN` | ✅ Sim |  |
| `MEMBER` | ✅ Sim |  |
| `CLIENT` | ✅ Sim |  |
| `COMMENT_ONLY` | ❌ Não |  |
| `VIEW_ONLY` | ❌ Não |  |

Permissões adicionais para campos personalizados podem se aplicar para `setTodoCustomField` com base na configuração de função.

## Valores de Retorno

- `editTodo` retorna o objeto `Todo` atualizado completo
- `setTodoCustomField` retorna `Boolean!` indicando sucesso

### Notas
1. Os IDs dos campos personalizados podem ser encontrados usando a consulta [listar campos personalizados](/api/custom-fields/list-custom-fields)
2. Números de telefone devem estar no formato E.164 ao usar a API diretamente
3. Campos de localização são melhor gerenciados através da interface do aplicativo Blue
4. Os campos `html` e `text` são sincronizados automaticamente quando `html` é fornecido
5. Todas as operações de atualização acionam o registro de atividades e notificações de webhook