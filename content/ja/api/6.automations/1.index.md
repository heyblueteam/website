---
title: すべての自動化をリストする
description: フィルタリングオプションを使用してプロジェクトの自動化のページネーションされたリストを取得します
---

## すべての自動化をリストする

Blueの自動化を使用すると、特定のイベントに基づいてアクションをトリガーする強力なワークフローを作成できます。このエンドポイントは、プロジェクトに設定されたすべての自動化を取得し、それらのトリガー、アクション、および現在のステータスを含みます。

### 基本的な例

```graphql
query ListAutomations {
  automationList {
    items {
      id
      isActive
      trigger {
        type
        color
      }
      actions {
        type
        color
      }
      createdAt
    }
    pageInfo {
      totalItems
      hasNextPage
    }
  }
}
```

### 高度な例

```graphql
query ListAutomationsAdvanced {
  automationList(
    filter: {
      customFieldIds: ["field_123", "field_456"]
    }
    skip: 0
    take: 50
  ) {
    items {
      id
      isActive
      createdAt
      updatedAt
      
      # Trigger details
      trigger {
        id
        type
        color
        metadata {
          ... on AutomationTriggerMetadataTodoOverdue {
            incompleteOnly
          }
        }
        customField {
          id
          name
          type
        }
        customFieldOptions {
          id
          title
          color
        }
        todoList {
          id
          title
        }
        tags {
          id
          title
          color
        }
        assignees {
          id
          name
          email
        }
      }
      
      # Action details
      actions {
        id
        type
        color
        duedIn
        assigneeTriggerer
        
        # Action-specific fields
        customField {
          id
          name
        }
        customFieldOptions {
          id
          title
        }
        todoList {
          id
          title
        }
        tags {
          id
          title
        }
        assignees {
          id
          name
        }
        
        # Email action metadata
        metadata {
          ... on AutomationActionMetadataSendEmail {
            email {
              subject
              to
              from
              content
            }
          }
          ... on AutomationActionMetadataCreateChecklist {
            checklists {
              title
              checklistItems {
                title
                duedIn
              }
            }
          }
        }
      }
      
      # Creator info
      createdBy {
        id
        name
        email
      }
    }
    
    pageInfo {
      totalItems
      totalPages
      hasNextPage
      hasPreviousPage
    }
    
    totalCount
  }
}
```

## 入力パラメータ

### AutomationFilterInput

| パラメータ | 型 | 必須 | 説明 |
|-----------|------|----------|-------------|
| `customFieldIds` | [String] | いいえ | 特定のカスタムフィールドに関連する自動化をフィルタリングします |  |

### ページネーションパラメータ

| パラメータ | 型 | 必須 | 説明 |
|-----------|------|----------|-------------|
| `skip` | Int | いいえ | スキップするアイテムの数 (デフォルト: 0) |  |
| `take` | Int | いいえ | 返すアイテムの数 (デフォルト: 20) |  |

## レスポンスフィールド

### AutomationPagination

| フィールド | 型 | 説明 |
|-------|------|-------------|
| `items` | [Automation!]! | 自動化オブジェクトのリスト |  |
| `pageInfo` | PageInfo! | ページネーション情報 |  |
| `totalCount` | Int! | 自動化の総数 |  |

### Automation

| フィールド | 型 | 説明 |
|-------|------|-------------|
| `id` | ID! | ユニークな識別子 |  |
| `trigger` | AutomationTrigger! | この自動化をトリガーするイベント |  |
| `actions` | [AutomationAction!]! | トリガー時に実行されるアクション |  |
| `isActive` | Boolean! | 自動化が現在アクティブかどうか |  |
| `createdBy` | User! | 自動化を作成したユーザー |  |
| `project` | Project! | この自動化が属するプロジェクト |  |
| `createdAt` | DateTime! | 作成タイムスタンプ |  |
| `updatedAt` | DateTime! | 最後の更新タイムスタンプ |  |

### AutomationTrigger

| フィールド | 型 | 説明 |
|-------|------|-------------|
| `id` | ID! | ユニークな識別子 |  |
| `type` | AutomationTriggerType! | トリガーイベントのタイプ |  |
| `color` | String | 関連する色 (16進数形式) |  |
| `metadata` | AutomationTriggerMetadata | トリガー固有の設定 |  |
| `customField` | CustomField | 関連するカスタムフィールド (該当する場合) |  |
| `customFieldOptions` | [CustomFieldOption!] | 選択されたオプション (選択フィールド用) |  |
| `todos` | [CustomFieldReferenceTodo!] | 参照されたタスク |  |
| `todoList` | TodoList | 関連するタスクリスト |  |
| `tags` | [Tag!] | 関連するタグ |  |
| `assignees` | [User!] | 関連する担当者 |  |

### AutomationAction

| フィールド | 型 | 説明 |
|-------|------|-------------|
| `id` | ID! | ユニークな識別子 |  |
| `type` | AutomationActionType! | 実行するアクションのタイプ |  |
| `color` | String | 関連する色 (16進数形式) |  |
| `duedIn` | Int | 期限日アクションのために追加する日数 |  |
| `assigneeTriggerer` | String | 特別な担当者識別子 |  |
| `metadata` | AutomationActionMetadata | アクション固有の設定 |  |
| `customField` | CustomField | ターゲットカスタムフィールド |  |
| `customFieldOptions` | [CustomFieldOption!] | 選択フィールドのオプション |  |
| `todoList` | TodoList | ターゲットタスクリスト |  |
| `tags` | [Tag!] | 追加/削除するタグ |  |
| `assignees` | [User!] | 追加/削除する担当者 |  |
| `httpOption` | AutomationActionHttpOption | HTTPリクエストの設定 |  |

## トリガータイプ

| タイプ | 説明 |
|------|-------------|
| `TODO_CREATED` | 新しいレコードが作成されたとき |  |
| `TODO_LIST_CHANGED` | レコードがリスト間で移動したとき |  |
| `TODO_MARKED_AS_COMPLETE` | レコードが完了したとき |  |
| `TODO_MARKED_AS_INCOMPLETE` | レコードが未完了になったとき |  |
| `ASSIGNEE_ADDED` | 担当者が追加されたとき |  |
| `ASSIGNEE_REMOVED` | 担当者が削除されたとき |  |
| `DUE_DATE_CHANGED` | 期限日が変更されたとき |  |
| `DUE_DATE_REMOVED` | 期限日がクリアされたとき |  |
| `DUE_DATE_EXPIRED` | 期限日が過ぎたとき |  |
| `TAG_ADDED` | タグが追加されたとき |  |
| `TAG_REMOVED` | タグが削除されたとき |  |
| `CHECKLIST_ITEM_MARKED_AS_DONE` | チェックリスト項目が完了したとき |  |
| `CHECKLIST_ITEM_MARKED_AS_UNDONE` | チェックリスト項目が未完了になったとき |  |
| `TODO_COPIED_OR_MOVED_FROM_OTHER_PROJECT` | レコードがインポートされたとき |  |
| `CUSTOM_FIELD_ADDED` | カスタムフィールドの値が設定されたとき |  |
| `CUSTOM_FIELD_REMOVED` | カスタムフィールドの値がクリアされたとき |  |
| `CUSTOM_FIELD_BUTTON_CLICKED` | ボタンフィールドがクリックされたとき |  |
| `COLOR_ADDED` | 色が適用されたとき |  |
| `COLOR_REMOVED` | 色が削除されたとき |  |

## アクションタイプ

| タイプ | 説明 |
|------|-------------|
| `CHANGE_TODO_LIST` | レコードを別のリストに移動する |  |
| `MARK_AS_COMPLETE` | レコードを完了する |  |
| `MARK_AS_INCOMPLETE` | レコードの完了を解除する |  |
| `ADD_ASSIGNEE` | 担当者を追加する |  |
| `REMOVE_ASSIGNEE` | 担当者を削除する |  |
| `ADD_ASSIGNEE_TRIGGERER` | 自動化をトリガーしたユーザーを追加する |  |
| `CHANGE_DUE_DATE` | 期限日を設定または更新する |  |
| `REMOVE_DUE_DATE` | 期限日をクリアする |  |
| `ADD_TAG` | タグを適用する |  |
| `REMOVE_TAG` | タグを削除する |  |
| `ADD_COLOR` | 色を適用する |  |
| `REMOVE_COLOR` | 色を削除する |  |
| `ADD_CUSTOM_FIELD` | カスタムフィールドの値を設定する |  |
| `REMOVE_CUSTOM_FIELD` | カスタムフィールドの値をクリアする |  |
| `CREATE_CHECKLIST` | 新しいチェックリストを作成する |  |
| `MARK_CHECKLIST_ITEM_AS_DONE` | チェックリスト項目を完了する |  |
| `MARK_CHECKLIST_ITEM_AS_UNDONE` | チェックリスト項目の完了を解除する |  |
| `COPY_TODO` | レコードを複製する |  |
| `SEND_EMAIL` | メール通知を送信する |  |
| `GENERATE_PDF` | PDFドキュメントを生成する |  |
| `MAKE_HTTP_REQUEST` | 外部APIを呼び出す |  |

## 必要な権限

自動化をリストするには、認証とプロジェクトアクセスが必要です：

| 役割 | 自動化をリストできる |
|------|---------------------|
| `OWNER` | ✅ はい |  |
| `ADMIN` | ✅ はい |  |
| `MEMBER` | ✅ はい |  |
| `CLIENT` | ✅ はい |  |

すべての認証されたユーザーはプロジェクトアクセスを持つ場合、自動化を表示できます。

## エラーレスポンス

### 認証が必要
```json
{
  "errors": [{
    "message": "You must be logged in",
    "extensions": {
      "code": "UNAUTHENTICATED"
    }
  }]
}
```

### プロジェクトが見つかりません
```json
{
  "errors": [{
    "message": "Project not found",
    "extensions": {
      "code": "PROJECT_NOT_FOUND"
    }
  }]
}
```

## 重要な注意事項

- **順序**: 自動化は常に最新のものが最初に返されます (作成日による)
- **プロジェクトスコープ**: 自動化は現在のプロジェクトコンテキストにスコープされています
- **アクティブステータス**: 自動化が現在実行中かどうかを確認するには `isActive` を確認してください
- **メタデータ**: 一部のトリガーおよびアクションには設定用の追加メタデータがあります
- **パフォーマンス**: 多くの自動化があるプロジェクトではページネーションを使用してください
- **フィルタリング**: 現在、カスタムフィールドIDによるフィルタリングのみをサポートしています