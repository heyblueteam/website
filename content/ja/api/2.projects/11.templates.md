---
title: テンプレート
description: テンプレートを使用すると、既存のプロジェクトの構造を再利用して、同じフレームワークを持つ新しいイニシアチブを開始できます。
---

## テンプレートの概要

Blueは2種類のテンプレートをサポートしています：
- **会社テンプレート**: 組織内で使用するために作成されたもの
- **公式テンプレート**: Blueが全ユーザーのために作成したもの（業界標準のテンプレート）

テンプレートは、todo、リスト、カスタムフィールド、自動化など、プロジェクト全体の構造を保持します。

## リストテンプレート

### テンプレートクエリの使用

```graphql
query GetTemplates {
  templates(
    companyId: "company-123"
    isOfficialTemplate: false
    category: MARKETING
  ) {
    id
    name
    description
    category
    isOfficialTemplate
    icon
    color
    image {
      thumbnail
      small
    }
  }
}
```

### テンプレートフィルターを使用したprojectList

```graphql
query ListTemplates {
  projectList(
    filter: {
      companyIds: ["company-id"]
      isTemplate: true
    }
    sort: [updatedAt_DESC]
    take: 20
    skip: 0
  ) {
    items {
      id
      slug
      name
      description
      category
      isTemplate
      isOfficialTemplate
      color
      icon
      createdAt
      updatedAt
    }
    pageInfo {
      hasNextPage
      totalItems
    }
    totalCount
  }
}
```

## テンプレートからプロジェクトを作成

既存のテンプレートから新しいプロジェクトを作成するには：

```graphql
mutation CreateFromTemplate {
  createProject(
    input: {
      templateId: "template-id-or-slug"
      name: "Q1 Marketing Campaign"
      companyId: "company-id"
      description: "Marketing initiatives for Q1"
      color: "#10B981"
    }
  ) {
    id
    name
    slug
  }
}
```

::callout
---
icon: circle-inf---
テンプレートからの作成は非同期プロセスです。プロジェクトは即座に作成されますが、コンテンツはバックグラウンドでコピーされます。進捗を追跡するには、`copyProjectStatus`クエリを使用してください。
::

## プロジェクトをテンプレートに変換

既存のプロジェクトを再利用可能なテンプレートに変換します：

```graphql
mutation ConvertToTemplate {
  convertProjectToTemplate(
    input: {
      projectId: "project-123"
      isOfficialTemplate: false
    }
  ) {
    id
    name
    isTemplate
    isOfficialTemplate
  }
}
```

## テンプレートステータスを削除

テンプレートを通常のプロジェクトに戻します：

```graphql
mutation RemoveTemplateStatus {
  removeProjectFromTemplates(projectId: "template-123") {
    id
    name
    isTemplate
  }
}
```

## 単一テンプレートを取得

特定のテンプレートの詳細を取得します：

```graphql
query GetTemplate {
  template(templateId: "template-123") {
    id
    name
    description
    category
    isOfficialTemplate
    todoLists {
      name
      todos {
        title
      }
    }
  }
}
```

## クエリパラメーター

### templatesクエリ

| パラメーター | タイプ | 必須 | 説明 |
|-----------|------|----------|-------------|
| `companyId` | String | いいえ | 会社でテンプレートをフィルタリングします。公式テンプレートを表示するには省略します。 |  |
| `isOfficialTemplate` | Boolean | いいえ | 公式のBlueテンプレートのみを表示 |  |
| `category` | ProjectCategory | いいえ | プロジェクトカテゴリでフィルタリング |  |

### convertProjectToTemplate入力

| パラメーター | タイプ | 必須 | 説明 |
|-----------|------|----------|-------------|
| `projectId` | String! | ✅ はい | テンプレートに変換するプロジェクト |  |
| `isOfficialTemplate` | Boolean! | ✅ はい | 公式テンプレートとしてマーク（Blueの従業員のみ） |  |

### テンプレートカテゴリ

| 値 | 説明 |
|-------|-------------|
| `CRM` | 顧客関係管理 |  |
| `CROSS_FUNCTIONAL` | クロスファンクショナルチームプロジェクト |  |
| `CUSTOMER_SUCCESS` | 顧客成功イニシアチブ |  |
| `DESIGN` | デザインおよびクリエイティブプロジェクト |  |
| `ENGINEERING` | エンジニアリングおよび開発 |  |
| `GENERAL` | 一般プロジェクト（デフォルト） |  |
| `HR` | 人事 |  |
| `IT` | 情報技術 |  |
| `MARKETING` | マーケティングキャンペーン |  |
| `OPERATIONS` | オペレーションおよびロジスティクス |  |
| `PRODUCT` | プロダクト管理 |  |
| `SALES` | 営業およびビジネス開発 |  |

## テンプレートからコピーされるもの

テンプレートからプロジェクトを作成する際に、以下の内容がコピーされます：

- ✅ **構造**: すべてのtodoリストとその位置にあるtodos
- ✅ **コンテンツ**: 説明、コメント、および添付ファイル
- ✅ **組織**: タグ、ラベル、およびカスタムフィールド
- ✅ **自動化**: すべての自動化ルールとワークフロー
- ✅ **フォーム**: プロジェクトフォームとその設定
- ✅ **ドキュメント**: ウィキページとドキュメント
- ✅ **設定**: カバー設定と表示設定
- ✅ **役割**: ユーザー役割の定義（ただしユーザーの割り当ては含まれません）

コピーされないもの：
- ❌ ユーザーの割り当て（作成者を除く）
- ❌ アクティビティ履歴
- ❌ 時間追跡データ
- ❌ todosの完了ステータス

## 必要な権限

### テンプレートの作成

| アクション | 必要な役割 |
|--------|--------------|
| Convert project to template | Project `OWNER` or `ADMIN` |  |
| Create official template | Blue employee only |  |
| Remove template status | Project `OWNER` or `ADMIN` |  |

### テンプレートの使用

| テンプレートタイプ | 誰が使用できるか |
|--------------|-------------|
| Company templates | Users in the same company |  |
| Official templates | All Blue users |  |

## エラーレスポンス

### テンプレートが見つかりません
```json
{
  "errors": [{
    "message": "Template not found",
    "extensions": {
      "code": "TEMPLATE_NOT_FOUND"
    }
  }]
}
```

### Todoが多すぎます
```json
{
  "errors": [{
    "message": "This project has more than 250,000 todos and cannot be used as a template",
    "extensions": {
      "code": "TOO_MANY_TODOS"
    }
  }]
}
```

## 重要な注意事項

- **サイズ制限**: 250,000以上のtodosを持つプロジェクトはテンプレートとして使用できません
- **非同期コピー**: テンプレートコンテンツはジョブキューを介してバックグラウンドでコピーされます
- **アーカイブステータス**: テンプレートに変換すると、プロジェクトは自動的にアーカイブ解除されます
- **フォルダー削除**: テンプレートは変換時にフォルダーから削除されます
- **アクセス制御**: 公式テンプレートはすべてのユーザーに表示され、会社テンプレートはメンバーのみが表示されます
- **リアルタイム更新**: `subscribeToProject`サブスクリプションを使用してテンプレートの変更を購読します