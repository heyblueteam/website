---
title: プロジェクトの作成
description: Blue APIを使用してプロジェクトを作成します。
---

## 新しいプロジェクトを作成する
新しいプロジェクトを作成するには、次のミューテーションを使用できます：

```graphql
mutation {
  createProject(
    input: {
      name: "YOUR PROJECT NEW NAME"
      companyId: "YOUR COMPANY ID OR SLUG"
      description: "Project description"
      color: "#3B82F6"
      icon: "briefcase"
      category: GENERAL
    }
  ) {
    id
    name
    slug
    description
    color
    icon
    category
  }
}
```

::callout
icon: lightbulb

リクエストに必要なヘッダーを含めることを忘れないでください：

- `X-Bloo-Token-ID`: あなたのAPIトークンID
- `X-Bloo-Token-Secret`: あなたのAPIトークンシークレット
- `X-Bloo-Company-ID`: あなたの会社ID
- `Content-Type: application/json`
::

### レスポンス例

成功すると、ミューテーションは新しく作成されたプロジェクトの詳細を返します：

```json
{
  "data": {
    "createProject": {
      "id": "newly-created-project-id",
      "name": "YOUR PROJECT NEW NAME",
      "slug": "your-project-new-name",
      "description": "Project description",
      "color": "#3B82F6",
      "icon": "briefcase",
      "category": "GENERAL"
    }
  }
}
```

## テンプレートから作成

既存のテンプレートからプロジェクトを作成するには、ミューテーションにオプションの `templateId` を追加できます。

```graphql
mutation {
  createProject(
    input: {
      templateId: "YOUR TEMPLATE ID OR SLUG"
      name: "YOUR PROJECT NEW NAME"
      companyId: "YOUR COMPANY ID OR SLUG"
    }
  ) {
    id
  }
}
```

::callout
---
icon: circle-inf---
テンプレートからプロジェクトを作成することは、プロジェクトを即座に作成することにはなりません。代わりに、プロジェクトの作成はキューに追加されます。
::

## テンプレートを使用した高度な例

テンプレートから作成する際のすべての利用可能なオプションを示す完全な例を以下に示します：

```graphql
mutation {
  createProject(
    input: {
      templateId: "marketing-template"
      name: "Q1 Marketing Campaign"
      companyId: "acme-corp"
      description: "Marketing initiatives for Q1 2024"
      color: "#10B981"
      icon: "megaphone"
      category: MARKETING
      coverConfig: {
        enabled: true
        fit: COVER
        imageSelectionType: FIRST
        source: DESCRIPTION
      }
    }
  ) {
    id
    name
    slug
    description
    color
    icon
    category
  }
}
```

::callout
icon: warning
`coverConfig` パラメータは現在、テンプレートからプロジェクトを作成する場合にのみ機能します。ゼロから作成されたプロジェクトの場合、作成後に `editProject` ミューテーションを使用して、todoカバー画像を設定する必要があります。
::

## 作成状況の確認

キュー内のプロジェクト作成の状況を確認するには、次のクエリを使用できます：

```graphql
query {
  copyProjectStatus {
    newProjectName
    isTemplate
    isActive
    queuePosition
    totalQueues
  }
}
```

このクエリは、キュー内のプロジェクト作成の状況を返します。

## 入力パラメータ

### CreateProjectInput

| パラメータ | 型 | 必須 | 説明 |
|-----------|------|----------|-------------|
| `name` | String | ✅ はい | プロジェクト名。URLは名前から削除されます。 |  |
| `companyId` | String | ✅ はい | プロジェクトが作成される会社のIDまたはスラグ。 |  |
| `description` | String | いいえ | プロジェクトの説明。 |  |
| `color` | String | いいえ | プロジェクトの色（16進数形式、例： "#3B82F6"）。 |  |
| `icon` | String | いいえ | プロジェクトのアイコン識別子（例： "briefcase", "rocket"）。 |  |
| `category` | ProjectCategory | いいえ | プロジェクトのカテゴリ。指定されていない場合は `GENERAL` にデフォルト設定されます。 |  |
| `templateId` | String | いいえ | テンプレートとして使用する既存のプロジェクトのID。 |  |
| `coverConfig` | TodoCoverConfigInput | いいえ | todoカバー画像の設定（現在はテンプレートベースの作成でのみ機能します）。 |  |

### ProjectCategory 値

| 値 | 説明 |
|-------|-------------|
| `CRM` | 顧客関係管理プロジェクト |  |
| `CROSS_FUNCTIONAL` | クロスファンクショナルチームプロジェクト |  |
| `CUSTOMER_SUCCESS` | 顧客成功イニシアチブ |  |
| `DESIGN` | デザインおよびクリエイティブプロジェクト |  |
| `ENGINEERING` | エンジニアリングおよび開発プロジェクト |  |
| `GENERAL` | 一般的なプロジェクト（デフォルト） |  |
| `HR` | 人事プロジェクト |  |
| `IT` | 情報技術プロジェクト |  |
| `MARKETING` | マーケティングキャンペーンおよびイニシアチブ |  |
| `OPERATIONS` | オペレーションおよびロジスティクスプロジェクト |  |
| `PRODUCT` | プロダクト管理プロジェクト |  |
| `SALES` | 営業およびビジネス開発プロジェクト |  |

### TodoCoverConfigInput

プロジェクト内のtodoカバー画像の動作を設定したい場合は、`coverConfig` パラメータを提供できます：

| パラメータ | 型 | 必須 | 説明 |
|-----------|------|----------|-------------|
| `enabled` | Boolean | ✅ はい | todoのカバー画像が有効かどうか |  |
| `fit` | ImageFit | ✅ はい | カバーエリアに画像がどのようにフィットするか |  |
| `imageSelectionType` | ImageSelectionType | ✅ はい | 利用可能なオプションから選択する画像 |  |
| `source` | ImageSource | ✅ はい | 画像を取得する場所 |  |
| `sourceId` | String | いいえ | 特定のソース識別子（例：カスタムフィールドID） |  |

**ImageFit 値:** `COVER`, `CONTAIN`, `FILL`, `SCALE_DOWN`

**ImageSelectionType 値:** `FIRST` (最初の画像), `LAST` (最後の画像)

**ImageSource 値:** `DESCRIPTION` (todoの説明から), `COMMENTS` (コメントから), `CUSTOM_FIELD` (カスタムフィールドから)

## レスポンスフィールド

createProjectミューテーションは、次の利用可能なフィールドを持つプロジェクトオブジェクトを返します：

| フィールド | 型 | 説明 |
|-------|------|-------------|
| `id` | ID! | プロジェクトのユニーク識別子 |  |
| `name` | String! | プロジェクト名 |  |
| `slug` | String! | URLフレンドリーなプロジェクト識別子 |  |
| `description` | String | プロジェクトの説明 |  |
| `color` | String | プロジェクトの色（16進数形式） |  |
| `icon` | String | アイコン識別子 |  |
| `category` | ProjectCategory | プロジェクトカテゴリの列挙値 |  |
| `companyId` | String! | 会社のID |  |
| `createdAt` | DateTime! | 作成のタイムスタンプ |  |
| `updatedAt` | DateTime! | 最後の更新のタイムスタンプ |  |
| `archived` | Boolean! | プロジェクトがアーカイブされているかどうか |  |
| `isTemplate` | Boolean! | これはテンプレートプロジェクトかどうか |  |

注：レスポンスでこれらのフィールドの任意の組み合わせをリクエストできます。

### 重要な注意事項

- プロジェクトを作成するには、`OWNER`、`ADMIN`、または `MEMBER` レベルのアクセスが必要です
- テンプレートから作成する場合、テンプレートには250,000を超えるtodoが含まれていてはいけません
- 作成ユーザーは自動的にプロジェクトの `OWNER` に割り当てられます
- プロジェクト名は自動的に空白がトリムされます
- `coverConfig` パラメータは、現在テンプレートから作成する場合にのみ機能します

## エラーレスポンス

### 会社が見つかりません
```json
{
  "errors": [{
    "message": "Company not found",
    "extensions": {
      "code": "NOT_FOUND"
    }
  }]
}
```

### テンプレートが見つかりません
```json
{
  "errors": [{
    "message": "Template not found",
    "extensions": {
      "code": "NOT_FOUND"
    }
  }]
}
```

### テンプレートが大きすぎます
```json
{
  "errors": [{
    "message": "Template cannot have more than 250000 todos",
    "extensions": {
      "code": "VALIDATION_ERROR"
    }
  }]
}
```

### 権限が拒否されました
```json
{
  "errors": [{
    "message": "You do not have permission to create projects in this company",
    "extensions": {
      "code": "FORBIDDEN"
    }
  }]
}
```