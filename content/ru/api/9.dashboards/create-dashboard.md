---
title: Создать панель инструментов
description: Создайте новую панель инструментов для визуализации данных и отчетности в Blue
---

## Создание панели инструментов

Мутация `createDashboard` позволяет вам создать новую панель инструментов в вашей компании или проекте. Панели инструментов — это мощные инструменты визуализации, которые помогают командам отслеживать метрики, контролировать прогресс и принимать решения на основе данных.

### Основной пример

```graphql
mutation CreateDashboard {
  createDashboard(
    input: {
      companyId: "comp_abc123"
      title: "Sales Performance Dashboard"
    }
  ) {
    id
    title
    createdBy {
      id
      email
      firstName
      lastName
    }
    createdAt
  }
}
```

### Панель инструментов, специфичная для проекта

Создайте панель инструментов, связанную с конкретным проектом:

```graphql
mutation CreateProjectDashboard {
  createDashboard(
    input: {
      companyId: "comp_abc123"
      projectId: "proj_xyz789"
      title: "Q4 Project Metrics"
    }
  ) {
    id
    title
    project {
      id
      name
    }
    createdBy {
      id
      email
    }
    dashboardUsers {
      id
      user {
        id
        email
      }
      role
    }
    createdAt
  }
}
```

## Входные параметры

### CreateDashboardInput

| Параметр | Тип | Обязательный | Описание |
|-----------|------|----------|-------------|
| `companyId` | String! | ✅ Да | Идентификатор компании, в которой будет создана панель инструментов |
| `title` | String! | ✅ Да | Название панели инструментов. Должно быть непустой строкой |
| `projectId` | String | Нет | Необязательный идентификатор проекта, с которым будет связана эта панель инструментов |

## Поля ответа

Мутация возвращает полный объект `Dashboard`:

| Поле | Тип | Описание |
|-------|------|-------------|
| `id` | String! | Уникальный идентификатор для созданной панели инструментов |
| `title` | String! | Заголовок панели инструментов, как указано |
| `companyId` | String! | Компания, к которой принадлежит эта панель инструментов |
| `projectId` | String | Идентификатор связанного проекта (если предоставлен) |
| `project` | Project | Объект связанного проекта (если был предоставлен projectId) |
| `createdBy` | User! | Пользователь, создавший панель инструментов (вы) |
| `dashboardUsers` | [DashboardUser!]! | Список пользователей с доступом (изначально только создатель) |
| `createdAt` | DateTime! | Временная метка, когда была создана панель инструментов |
| `updatedAt` | DateTime! | Временная метка последней модификации (та же, что и createdAt для новых панелей инструментов) |

### Поля DashboardUser

Когда панель инструментов создается, создатель автоматически добавляется как пользователь панели инструментов:

| Поле | Тип | Описание |
|-------|------|-------------|
| `id` | String! | Уникальный идентификатор для отношения пользователя панели инструментов |
| `user` | User! | Объект пользователя с доступом к панели инструментов |
| `role` | DashboardRole! | Роль пользователя (создатель получает полный доступ) |
| `dashboard` | Dashboard! | Ссылка обратно на панель инструментов |

## Требуемые разрешения

Любой аутентифицированный пользователь, который принадлежит к указанной компании, может создавать панели инструментов. Специальные требования к ролям отсутствуют.

| Статус пользователя | Может создать панель инструментов |
|-------------|-------------------|
| Company Member | ✅ Да |
| Не член компании | ❌ Нет |
| Unauthenticated | ❌ Нет |

## Ответы об ошибках

### Неверная компания
```json
{
  "errors": [{
    "message": "Company not found",
    "extensions": {
      "code": "NOT_FOUND"
    }
  }]
}
```

### Пользователь не в компании
```json
{
  "errors": [{
    "message": "You don't have access to this company",
    "extensions": {
      "code": "FORBIDDEN"
    }
  }]
}
```

### Неверный проект
```json
{
  "errors": [{
    "message": "Project not found or doesn't belong to the specified company",
    "extensions": {
      "code": "NOT_FOUND"
    }
  }]
}
```

### Пустой заголовок
```json
{
  "errors": [{
    "message": "Dashboard title cannot be empty",
    "extensions": {
      "code": "VALIDATION_ERROR"
    }
  }]
}
```

## Важные заметки

- **Автоматическое владение**: Пользователь, создающий панель инструментов, автоматически становится ее владельцем с полными правами
- **Ассоциация с проектом**: Если вы предоставите `projectId`, он должен принадлежать той же компании
- **Начальные разрешения**: Изначально доступ имеет только создатель. Используйте `editDashboard`, чтобы добавить больше пользователей
- **Требования к заголовку**: Заголовки панелей инструментов должны быть непустыми строками. Требования к уникальности отсутствуют
- **Членство в компании**: Вы должны быть членом компании, чтобы создавать панели инструментов в ней

## Рабочий процесс создания панели инструментов

1. **Создайте панель инструментов** с помощью этой мутации
2. **Настройте диаграммы и виджеты** с помощью интерфейса конструктора панелей инструментов
3. **Добавьте членов команды** с помощью мутации `editDashboard` с `dashboardUsers`
4. **Настройте фильтры и диапазоны дат** через интерфейс панели инструментов
5. **Поделитесь или встроите** панель инструментов, используя ее уникальный идентификатор

## Сценарии использования

1. **Исполнительные панели инструментов**: Создайте высокоуровневые обзоры метрик компании
2. **Отслеживание проектов**: Создайте панели инструментов, специфичные для проектов, для мониторинга прогресса
3. **Производительность команды**: Отслеживайте продуктивность команды и метрики достижений
4. **Отчетность для клиентов**: Создайте панели инструментов для отчетов, ориентированных на клиентов
5. **Мониторинг в реальном времени**: Настройте панели инструментов для живых операционных данных

## Рекомендации по лучшим практикам

1. **Конвенции именования**: Используйте четкие, описательные заголовки, которые указывают на цель панели инструментов
2. **Ассоциация с проектом**: Связывайте панели инструментов с проектами, когда они специфичны для проектов
3. **Управление доступом**: Добавляйте членов команды сразу после создания для совместной работы
4. **Организация**: Создайте иерархию панелей инструментов, используя последовательные шаблоны именования

## Связанные операции

- [Список панелей инструментов](/api/dashboards/) - Получите все панели инструментов для компании или проекта
- [Редактировать панель инструментов](/api/dashboards/rename-dashboard) - Переименуйте панель инструментов или управляйте пользователями
- [Копировать панель инструментов](/api/dashboards/copy-dashboard) - Дублируйте существующую панель инструментов
- [Удалить панель инструментов](/api/dashboards/delete-dashboard) - Удалите панель инструментов