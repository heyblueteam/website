---
title: Шаблоны
description: Шаблоны позволяют повторно использовать структуру существующих проектов для запуска новых инициатив с уже установленной той же основой.
---

## Обзор шаблонов

Blue поддерживает два типа шаблонов:
- **Шаблоны компании**: Созданы вашей организацией для внутреннего использования
- **Официальные шаблоны**: Созданы Blue для всех пользователей (шаблоны, соответствующие отраслевым стандартам)

Шаблоны сохраняют всю структуру проекта, включая задачи, списки, пользовательские поля, автоматизации и многое другое.

## Список шаблонов

### Использование запроса шаблонов

```graphql
query GetTemplates {
  templates(
    companyId: "company-123"
    isOfficialTemplate: false
    category: MARKETING
  ) {
    id
    name
    description
    category
    isOfficialTemplate
    icon
    color
    image {
      thumbnail
      small
    }
  }
}
```

### Использование projectList с фильтром шаблонов

```graphql
query ListTemplates {
  projectList(
    filter: {
      companyIds: ["company-id"]
      isTemplate: true
    }
    sort: [updatedAt_DESC]
    take: 20
    skip: 0
  ) {
    items {
      id
      slug
      name
      description
      category
      isTemplate
      isOfficialTemplate
      color
      icon
      createdAt
      updatedAt
    }
    pageInfo {
      hasNextPage
      totalItems
    }
    totalCount
  }
}
```

## Создание проекта из шаблона

Чтобы создать новый проект на основе существующего шаблона:

```graphql
mutation CreateFromTemplate {
  createProject(
    input: {
      templateId: "template-id-or-slug"
      name: "Q1 Marketing Campaign"
      companyId: "company-id"
      description: "Marketing initiatives for Q1"
      color: "#10B981"
    }
  ) {
    id
    name
    slug
  }
}
```

::callout
---
icon: circle-inf---
Создание из шаблона является асинхронным процессом. Проект создается немедленно, но содержимое копируется в фоновом режиме. Используйте запрос `copyProjectStatus` для отслеживания прогресса.
::

## Преобразование проекта в шаблон

Преобразуйте существующий проект в повторно используемый шаблон:

```graphql
mutation ConvertToTemplate {
  convertProjectToTemplate(
    input: {
      projectId: "project-123"
      isOfficialTemplate: false
    }
  ) {
    id
    name
    isTemplate
    isOfficialTemplate
  }
}
```

## Удаление статуса шаблона

Преобразуйте шаблон обратно в обычный проект:

```graphql
mutation RemoveTemplateStatus {
  removeProjectFromTemplates(projectId: "template-123") {
    id
    name
    isTemplate
  }
}
```

## Получить один шаблон

Получите информацию о конкретном шаблоне:

```graphql
query GetTemplate {
  template(templateId: "template-123") {
    id
    name
    description
    category
    isOfficialTemplate
    todoLists {
      name
      todos {
        title
      }
    }
  }
}
```

## Параметры запроса

### Запрос шаблонов

| Параметр | Тип | Обязательный | Описание |
|-----------|------|----------|-------------|
| `companyId` | String | Нет | Фильтровать шаблоны по компании. Пропустите, чтобы увидеть официальные шаблоны. |  |
| `isOfficialTemplate` | Boolean | Нет | Показывать только официальные шаблоны Blue |  |
| `category` | ProjectCategory | Нет | Фильтровать по категории проекта |  |

### Входные данные convertProjectToTemplate

| Параметр | Тип | Обязательный | Описание |
|-----------|------|----------|-------------|
| `projectId` | String! | ✅ Да | Проект, который нужно преобразовать в шаблон |  |
| `isOfficialTemplate` | Boolean! | ✅ Да | Отметить как официальный шаблон (только для сотрудников Blue) |  |

### Категории шаблонов

| Значение | Описание |
|-------|-------------|
| `CRM` | Управление взаимоотношениями с клиентами |  |
| `CROSS_FUNCTIONAL` | Проекты кросс-функциональных команд |  |
| `CUSTOMER_SUCCESS` | Инициативы по успеху клиентов |  |
| `DESIGN` | Дизайн и креативные проекты |  |
| `ENGINEERING` | Инженерия и разработка |  |
| `GENERAL` | Общие проекты (по умолчанию) |  |
| `HR` | Человеческие ресурсы |  |
| `IT` | Информационные технологии |  |
| `MARKETING` | Маркетинговые кампании |  |
| `OPERATIONS` | Операции и логистика |  |
| `PRODUCT` | Управление продуктом |  |
| `SALES` | Продажи и развитие бизнеса |  |

## Что копируется из шаблонов

При создании проекта из шаблона копируются следующие элементы:

- ✅ **Структура**: Все списки задач и задачи с их позициями
- ✅ **Содержимое**: Описания, комментарии и вложения
- ✅ **Организация**: Теги, метки и пользовательские поля
- ✅ **Автоматизация**: Все правила автоматизации и рабочие процессы
- ✅ **Формы**: Формы проекта и их конфигурации
- ✅ **Документы**: Страницы вики и документация
- ✅ **Настройки**: Конфигурации обложки и предпочтения отображения
- ✅ **Роли**: Определения ролей пользователей (но не назначения пользователей)

Не копируется:
- ❌ Назначения пользователей (кроме создателя)
- ❌ История активности
- ❌ Данные учета времени
- ❌ Статус завершенности задач

## Необходимые разрешения

### Создание шаблонов

| Действие | Необходимая роль |
|--------|--------------|
| Convert project to template | Project `OWNER` or `ADMIN` |  |
| Create official template | Blue employee only |  |
| Remove template status | Project `OWNER` or `ADMIN` |  |

### Использование шаблонов

| Тип шаблона | Кто может использовать |
|--------------|-------------|
| Company templates | Users in the same company |  |
| Official templates | All Blue users |  |

## Ответы об ошибках

### Шаблон не найден
```json
{
  "errors": [{
    "message": "Template not found",
    "extensions": {
      "code": "TEMPLATE_NOT_FOUND"
    }
  }]
}
```

### Слишком много задач
```json
{
  "errors": [{
    "message": "This project has more than 250,000 todos and cannot be used as a template",
    "extensions": {
      "code": "TOO_MANY_TODOS"
    }
  }]
}
```

## Важные примечания

- **Ограничение по размеру**: Проекты с более чем 250,000 задач не могут использоваться в качестве шаблонов
- **Асинхронное копирование**: Содержимое шаблона копируется в фоновом режиме через очередь заданий
- **Статус архива**: Преобразование в шаблон автоматически разархивирует проект
- **Удаление папки**: Шаблоны удаляются из папок при преобразовании
- **Контроль доступа**: Официальные шаблоны видны всем, шаблоны компании только членам
- **Обновления в реальном времени**: Подписывайтесь на изменения шаблонов, используя подписку `subscribeToProject`