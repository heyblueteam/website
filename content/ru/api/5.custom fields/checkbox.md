---
title: Пользовательское поле с флажком
description: Создайте логические поля с флажками для данных да/нет или истинно/ложно
---

Пользовательские поля с флажками предоставляют простой логический (истинно/ложно) ввод для задач. Они идеально подходят для бинарных выборов, индикаторов состояния или отслеживания выполнения чего-либо.

## Простой пример

Создайте простое поле с флажком:

```graphql
mutation CreateCheckboxField {
  createCustomField(input: {
    name: "Reviewed"
    type: CHECKBOX
  }) {
    id
    name
    type
  }
}
```

## Расширенный пример

Создайте поле с флажком с описанием и валидацией:

```graphql
mutation CreateDetailedCheckbox {
  createCustomField(input: {
    name: "Customer Approved"
    type: CHECKBOX
    description: "Check this box when the customer has approved the work"
  }) {
    id
    name
    type
    description
  }
}
```

## Параметры ввода

### CreateCustomFieldInput

| Параметр | Тип | Обязательный | Описание |
|-----------|------|----------|-------------|
| `name` | String! | ✅ Да | Отображаемое имя флажка |
| `type` | CustomFieldType! | ✅ Да | Должен быть `CHECKBOX` |
| `description` | String | Нет | Текст помощи, отображаемый пользователям |

## Установка значений флажка

Чтобы установить или обновить значение флажка в задаче:

```graphql
mutation CheckTheBox {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_456"
    checked: true
  })
}
```

Чтобы снять отметку с флажка:

```graphql
mutation UncheckTheBox {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_456"
    checked: false
  })
}
```

### Параметры SetTodoCustomFieldInput

| Параметр | Тип | Обязательный | Описание |
|-----------|------|----------|-------------|
| `todoId` | String! | ✅ Да | ID задачи для обновления |
| `customFieldId` | String! | ✅ Да | ID пользовательского поля с флажком |
| `checked` | Boolean | Нет | true для установки отметки, false для снятия отметки |

## Создание задач со значениями флажка

При создании новой задачи со значениями флажка:

```graphql
mutation CreateTaskWithCheckbox {
  createTodo(input: {
    title: "Review contract"
    todoListId: "list_123"
    customFields: [{
      customFieldId: "checkbox_field_id"
      value: "true"  # Pass as string
    }]
  }) {
    id
    title
    customFields {
      id
      customField {
        name
        type
      }
      checked
    }
  }
}
```

### Принятые строковые значения

При создании задач значения флажков должны передаваться как строки:

| Строковое значение | Результат |
|--------------|---------|
| `"true"` | ✅ Отмечено (учитывается регистр) |
| `"1"` | ✅ Отмечено |
| `"checked"` | ✅ Отмечено (учитывается регистр) |
| Any other value | ❌ Не отмечено |

**Примечание**: Сравнения строк при создании задач учитывают регистр. Значения должны точно соответствовать `"true"`, `"1"` или `"checked"`, чтобы привести к отмеченному состоянию.

## Поля ответа

### TodoCustomField Response

| Поле | Тип | Описание |
|-------|------|-------------|
| `id` | ID! | Уникальный идентификатор для значения поля |
| `uid` | String! | Альтернативный уникальный идентификатор |
| `customField` | CustomField! | Определение пользовательского поля |
| `checked` | Boolean | Состояние флажка (истина/ложь/нуль) |
| `todo` | Todo! | Задача, к которой принадлежит это значение |
| `createdAt` | DateTime! | Когда значение было создано |
| `updatedAt` | DateTime! | Когда значение было в последний раз изменено |

## Интеграция автоматизации

Поля с флажками вызывают различные события автоматизации на основе изменений состояния:

| Действие | Событие, вызываемое | Описание |
|--------|----------------|-------------|
| Check (false → true) | `CUSTOM_FIELD_ADDED` | Вызывается, когда флажок отмечен |
| Uncheck (true → false) | `CUSTOM_FIELD_REMOVED` | Вызывается, когда флажок снят |

Это позволяет создавать автоматизации, которые реагируют на изменения состояния флажка, такие как:
- Отправка уведомлений, когда элементы утверждены
- Перемещение задач, когда флажки проверки отмечены
- Обновление связанных полей на основе состояний флажков

## Импорт/Экспорт данных

### Импорт значений флажков

При импорте данных через CSV или другие форматы:
- `"true"`, `"yes"` → Отмечено (без учета регистра)
- Любое другое значение (включая `"false"`, `"no"`, `"0"`, пустое) → Не отмечено

### Экспорт значений флажков

При экспорте данных:
- Отмеченные флажки экспортируются как `"X"`
- Не отмеченные флажки экспортируются как пустая строка `""`

## Необходимые разрешения

| Действие | Необходимое разрешение |
|--------|-------------------|
| Create checkbox field | `OWNER` or `ADMIN` role at project level |
| Update checkbox field | `OWNER` or `ADMIN` role at project level |
| Set checkbox value | Standard task edit permissions (excluding VIEW_ONLY and COMMENT_ONLY roles) |
| View checkbox value | Standard task view permissions (authenticated users in company/project) |

## Ответы об ошибках

### Неверный тип значения
```json
{
  "errors": [{
    "message": "Invalid value type for checkbox field",
    "extensions": {
      "code": "CUSTOM_FIELD_VALUE_PARSE_ERROR"
    }
  }]
}
```

### Поле не найдено
```json
{
  "errors": [{
    "message": "Custom field not found",
    "extensions": {
      "code": "CUSTOM_FIELD_NOT_FOUND"
    }
  }]
}
```

## Рекомендации по лучшим практикам

### Конвенции именования
- Используйте четкие, ориентированные на действия названия: "Утверждено", "Просмотрено", "Завершено"
- Избегайте негативных названий, которые могут запутать пользователей: предпочтите "Активно" вместо "Неактивно"
- Будьте конкретными в том, что представляет собой флажок

### Когда использовать флажки
- **Бинарные выборы**: Да/Нет, Истина/Ложь, Завершено/Не завершено
- **Индикаторы состояния**: Утверждено, Просмотрено, Опубликовано
- **Флаги функций**: Имеет приоритетную поддержку, Требует подписи
- **Простое отслеживание**: Электронное письмо отправлено, Счет оплачен, Товар отправлен

### Когда НЕ использовать флажки
- Когда вам нужно больше двух вариантов (используйте SELECT_SINGLE вместо этого)
- Для числовых или текстовых данных (используйте поля NUMBER или TEXT)
- Когда вам нужно отслеживать, кто установил отметку или когда (используйте журналы аудита)

## Общие случаи использования

1. **Рабочие процессы утверждения**
   - "Утверждено менеджером"
   - "Подпись клиента"
   - "Юридическая проверка завершена"

2. **Управление задачами**
   - "Заблокировано"
   - "Готово к проверке"
   - "Высокий приоритет"

3. **Контроль качества**
   - "QA пройдено"
   - "Документация завершена"
   - "Тесты написаны"

4. **Административные флаги**
   - "Счет отправлен"
   - "Контракт подписан"
   - "Требуется последующее действие"

## Ограничения

- Поля с флажками могут хранить только значения истинно/ложно (без триггерного состояния или нуля после первоначальной установки)
- Нет конфигурации значения по умолчанию (всегда начинается как нуль до установки)
- Не могут хранить дополнительные метаданные, такие как кто установил отметку или когда
- Нет условной видимости на основе значений других полей

## Связанные ресурсы

- [Обзор пользовательских полей](/api/custom-fields/list-custom-fields) - Общие концепции пользовательских полей
- [API автоматизаций](/api/automations) - Создание автоматизаций, вызываемых изменениями флажков