---
title: Формула
description: 
---

Настраиваемые поля формул позволяют создавать вычисления на основе существующих данных в Blue. Это отлично подходит для расчета прибыли, итогов, налоговых ставок и комиссий.


![Formula 1](/docs/Formula_1.png "Formula 1")

Вы можете посмотреть видеообзор настраиваемых полей формул в видео ниже:

<youtube url="https://www.youtube.com/watch?v=RsXnOc2JU9k" />

Формулы могут использовать данные из следующих настраиваемых полей в рамках одной записи:

- [Валюта](/ru/docs/custom-fields/currency)
- [Звездный рейтинг](/ru/docs/custom-fields/star-rating)
- [Число](/ru/docs/custom-fields/number)
- [Процент](/ru/docs/custom-fields/percent)

Просто введите фигурную скобку `{` и система предоставит вам выпадающий список полей, на которые можно ссылаться.

## Поддерживаемые операции

Затем вы можете выполнять операции с этими значениями, используя функции:

- **AVERAGE**: Вычислить среднее значение набора чисел.
- **AVERAGEA**: Определить среднее значение, считая текст за ноль.
- **COUNT**: Подсчитать количество записей в числовом поле.
- **COUNTA**: Подсчитать количество непустых значений.
- **MAX**: Найти максимальное значение в наборе.
- **MIN**: Определить минимальное значение в наборе.
- **MINUS**: Вычесть одно значение из другого.
- **MULTIPLY**: Умножить два значения.
- **SUM**: Сложить серию чисел

Вы можете использовать эти операции, передавая имя настраиваемого поля в функцию. Например, если у вас есть настраиваемое поле с именем `Cost`, вы можете использовать `AVERAGE(Cost)` для вычисления средней стоимости набора записей.

Для передачи нескольких настраиваемых полей в функцию можно использовать запятую `,` для разделения каждого поля. Например, если у вас есть настраиваемые поля с именами `Cost` и `Profit`, вы можете использовать `AVERAGE(Cost, Profit)` для вычисления средней стоимости и прибыли набора записей.

Вы также можете использовать следующие математические операторы:

| Оператор | Описание |
|:--------:|:--------:|
| **+**    | Сложение |
| **-**    | Вычитание |
| **\***    | Умножение |
| **/**    | Деление |
| **%**    | Процент |
| **^**    | Возведение в степень |

Посмотрите пример ниже создания расчета прибыли на основе цены продажи и себестоимости:

![Formula 2](/docs/Formula_2.png "Formula 2")


Нет ограничений на сложность или количество операций в ваших формулах. Они будут корректно проверены, если синтаксис является допустимым. Формулы ссылаются только на поля в рамках одной записи, а не на внешние данные.

## Настройка отображения
Финальный шаг создания настраиваемого поля формулы — это решение о том, как отображать данные.

Поля формул предлагают три варианта отображения:

1. **Число**: Этот вариант показывает простое числовое значение. Вы также можете выбрать, сколько десятичных знаков отображать, что дает вам контроль над уровнем детализации в ваших данных.
2. **Валюта**: Используйте этот вариант для отображения значений в денежном формате. Он отлично подходит для отслеживания бюджетов, доходов, расходов и других финансовых данных. Валюта будет отформатирована в соответствии с местными стандартами и поддерживает различные мировые валюты, с [поддержкой многочисленных мировых валют](/ru/docs/custom-fields/currency).
3. **Процент**: Этот формат отображает значения в виде процентов, что полезно для показа коэффициентов завершения, метрик роста или других соотношений. Он автоматически преобразует вычисленное значение в процент, что упрощает понимание пропорций.

![Formula 3](/docs/Formula_3.png "Formula 3")


Пользователи могут просмотреть базовую логику формулы, наведя курсор на поле.

![Formula 4](/docs/Formula_4.png "Formula 4")

Хотя редактируемые формулы будут обновлять результаты в реальном времени при изменении ссылочных значений, экспортированные данные будут содержать только вычисленные результаты формул, а не сами формулы.