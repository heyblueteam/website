---
title: វាលបន្ថែមទីតាំង
description: បង្កើតវាលទីតាំងដើម្បីរក្សាទុកកូអរដីណេតិកសម្រាប់កំណត់ត្រា
---

វាលបន្ថែមទីតាំងរក្សាទុកកូអរដីណេតិក (អង្កត់ផ្ចិត និងប្រវែង) សម្រាប់កំណត់ត្រា។ វាឧបត្ថម្ភការរក្សាទុកកូអរដីណេតិកយ៉ាងត្រឹមត្រូវ ការសួរពីទីតាំង និងការត្រង់ដោយផ្អែកលើទីតាំងយ៉ាងមានប្រសិទ្ធភាព។

## ឧទាហរណ៍មូលដ្ឋាន

បង្កើតវាលទីតាំងសាមញ្ញ៖

```graphql
mutation CreateLocationField {
  createCustomField(input: {
    name: "Meeting Location"
    type: LOCATION
    projectId: "proj_123"
  }) {
    id
    name
    type
  }
}
```

## ឧទាហរណ៍កម្រិតខ្ពស់

បង្កើតវាលទីតាំងដែលមានការពិពណ៌នា៖

```graphql
mutation CreateDetailedLocationField {
  createCustomField(input: {
    name: "Office Location"
    type: LOCATION
    projectId: "proj_123"
    description: "Primary office location coordinates"
  }) {
    id
    name
    type
    description
  }
}
```

## ប៉ារ៉ាម៉ែត្រ Input

### CreateCustomFieldInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការទេ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `name` | String! | ✅ បាទ | ឈ្មោះបង្ហាញនៃវាលទីតាំង |
| `type` | CustomFieldType! | ✅ បាទ | ត្រូវតែជាអត្ថបទ `LOCATION` |
| `description` | String | ទេ | អត្ថបទជំនួយដែលបង្ហាញទៅអ្នកប្រើ |

## ការកំណត់តម្លៃទីតាំង

វាលទីតាំងរក្សាទុកកូអរដីណេតិកអង្កត់ផ្ចិត និងប្រវែង៖

```graphql
mutation SetLocationValue {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_456"
    latitude: 40.7128
    longitude: -74.0060
  })
}
```

### SetTodoCustomFieldInput Parameters

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការទេ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `todoId` | String! | ✅ បាទ | ID នៃកំណត់ត្រាដើម្បីធ្វើបច្ចុប្បន្នភាព |
| `customFieldId` | String! | ✅ បាទ | ID នៃវាលបន្ថែមទីតាំង |
| `latitude` | Float | ទេ | កូអរដីណេតិកអង្កត់ផ្ចិត (-90 ទៅ 90) |
| `longitude` | Float | ទេ | កូអរដីណេតិកប្រវែង (-180 ទៅ 180) |

**កំណត់ចំណាំ**: ទោះបីជាប៉ារ៉ាម៉ែត្រទាំងពីរនេះជាជម្រើសក្នុងស្កីម៉ា កូអរដីណេតិកទាំងពីរនេះត្រូវការសម្រាប់ទីតាំងដែលមានសុពលភាព។ ប្រសិនបើមានតែ១ត្រូវបានផ្តល់ជូន ទីតាំងនឹងមិនមានសុពលភាពទេ។

## ការត្រួតពិនិត្យកូអរដីណេតិក

### ជួរដែលមានសុពលភាព

| កូអរដីណេតិក | ជួរ | ការពិពណ៌នា |
|------------|-------|-------------|
| Latitude | -90 to 90 | ទីតាំងជើងខាងជើង/ខាងត្បូង |
| Longitude | -180 to 180 | ទីតាំងខាងកើត/ខាងលិច |

### កូអរដីណេតិកឧទាហរណ៍

| ទីតាំង | អង្កត់ផ្ចិត | ប្រវែង |
|----------|----------|-----------|
| New York City | 40.7128 | -74.0060 |
| London | 51.5074 | -0.1278 |
| Sydney | -33.8688 | 151.2093 |
| Tokyo | 35.6762 | 139.6503 |
| São Paulo | -23.5505 | -46.6333 |

## ការបង្កើតកំណត់ត្រាជាមួយតម្លៃទីតាំង

នៅពេលបង្កើតកំណត់ត្រាថ្មីជាមួយទិន្នន័យទីតាំង៖

```graphql
mutation CreateRecordWithLocation {
  createTodo(input: {
    title: "Site Visit"
    todoListId: "list_123"
    customFields: [{
      customFieldId: "location_field_id"
      value: "40.7128,-74.0060"  # Format: "latitude,longitude"
    }]
  }) {
    id
    title
    customFields {
      id
      customField {
        name
        type
      }
      latitude
      longitude
    }
  }
}
```

### ទ្រង់ទ្រាយ Input សម្រាប់ការបង្កើត

នៅពេលបង្កើតកំណត់ត្រា តម្លៃទីតាំងប្រើទ្រង់ទ្រាយដែលមានកូដបំបែកដោយក្បាល៖

| ទ្រង់ទ្រាយ | ឧទាហរណ៍ | ការពិពណ៌នា |
|--------|---------|-------------|
| `"latitude,longitude"` | `"40.7128,-74.0060"` | ទ្រង់ទ្រាយកូអរដីណេតិកស្តង់ដារ |
| `"51.5074,-0.1278"` | London coordinates | មិនមានទំហំនៅជុំវិញក្បាល |
| `"-33.8688,151.2093"` | Sydney coordinates | តម្លៃអវិជ្ជមានអាចអនុញ្ញាត |

## វាលចម្លើយ

### TodoCustomField Response

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `id` | String! | អត្តសញ្ញាណឯកតាសម្រាប់តម្លៃវាល |
| `customField` | CustomField! | ការបកស្រាយវាលបន្ថែម |
| `latitude` | Float | កូអរដីណេតិកអង្កត់ផ្ចិត |
| `longitude` | Float | កូអរដីណេតិកប្រវែង |
| `todo` | Todo! | កំណត់ត្រាដែលតម្លៃនេះស្ថិតនៅក្នុង |
| `createdAt` | DateTime! | ពេលដែលតម្លៃនេះត្រូវបានបង្កើត |
| `updatedAt` | DateTime! | ពេលដែលតម្លៃនេះត្រូវបានកែប្រែចុងក្រោយ |

## ការពិបាកសំខាន់ៗ

### គ្មានការបំលែងទីតាំងក្នុងប្រព័ន្ធ

វាលទីតាំងរក្សាទុកតែគ្រាប់កូអរដីណេតិក - ពួកវាមិនមាន៖
- ការបំលែងអាសយដ្ឋានទៅកូអរដីណេតិក
- ការបំលែងវិញ (កូអរដីណេតិកទៅអាសយដ្ឋាន)
- ការត្រួតពិនិត្យឬស្វែងរកអាសយដ្ឋាន
- ការបញ្ចូលជាមួយសេវាកម្មផែនទី
- ការស្វែងរកឈ្មោះកន្លែង

### សេវាកម្មក្រៅត្រូវការនៅក្នុង

សម្រាប់មុខងារអាសយដ្ឋាន អ្នកត្រូវតែបញ្ចូលសេវាកម្មក្រៅ៖
- **Google Maps API** សម្រាប់ការបំលែងទីតាំង
- **OpenStreetMap Nominatim** សម្រាប់ការបំលែងទីតាំងឥតគិតថ្លៃ
- **MapBox** សម្រាប់ផែនទី និងការបំលែងទីតាំង
- **Here API** សម្រាប់សេវាកម្មទីតាំង

### ឧទាហរណ៍ការបញ្ចូល

```javascript
// Client-side geocoding example (not part of Blue API)
async function geocodeAddress(address) {
  const response = await fetch(
    `https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(address)}&key=${API_KEY}`
  );
  const data = await response.json();
  
  if (data.results.length > 0) {
    const { lat, lng } = data.results[0].geometry.location;
    
    // Now set the location field in Blue
    await setTodoCustomField({
      todoId: "todo_123",
      customFieldId: "location_field_456",
      latitude: lat,
      longitude: lng
    });
  }
}
```

## អាជ្ញាប័ណ្ណដែលត្រូវការ

| សកម្មភាព | តួនាទីដែលត្រូវការ |
|--------|---------------|
| Create location field | `OWNER`, `ADMIN`, or `MEMBER` in the project |
| Update location field | `OWNER`, `ADMIN`, or `MEMBER` in the project |
| Set location value | `OWNER`, `ADMIN`, `MEMBER`, or `CLIENT` with edit permissions on the record |
| View location value | Any project member with read access to the record |

## ចម្លើយកំហុស

### កូអរដីណេតិកមិនត្រឹមត្រូវ
```json
{
  "errors": [{
    "message": "Invalid coordinates: latitude must be between -90 and 90",
    "extensions": {
      "code": "CUSTOM_FIELD_VALUE_PARSE_ERROR"
    }
  }]
}
```

### ប្រវែងមិនត្រឹមត្រូវ
```json
{
  "errors": [{
    "message": "Invalid coordinates: longitude must be between -180 and 180",
    "extensions": {
      "code": "CUSTOM_FIELD_VALUE_PARSE_ERROR"
    }
  }]
}
```

## អនុសាសន៍ល្អ

### ការប្រមូលទិន្នន័យ
- ប្រើកូអរដីណេតិក GPS សម្រាប់ទីតាំងដែលមានត្រឹមត្រូវ
- ត្រួតពិនិត្យកូអរដីណេតិកមុនពេលរក្សាទុក
- គិតពីតម្រូវការពាក់ព័ន្ធនៃកូអរដីណេតិក (6 ទីសម្រាប់ទសភាគ ≈ 10cm សុពលភាព)
- រក្សាទុកកូអរដីណេតិកក្នុងអង្គភាពដឺក្រេ (មិនមែនដឺក្រេ/នាទី/វិនាទី)

### បទពិសោធន៍អ្នកប្រើ
- ផ្តល់អន្តរកម្មផែនទីសម្រាប់ការជ្រើសរើសកូអរដីណេតិក
- បង្ហាញការមើលឃើញទីតាំងនៅពេលបង្ហាញកូអរដីណេតិក
- ត្រួតពិនិត្យកូអរដីណេតិកនៅខាងអតិថិជនមុនការហៅ API
- គិតពីផលប៉ះពាល់ម៉ោងសម្រាប់ទិន្នន័យទីតាំង

### សមត្ថភាព
- ប្រើបញ្ជីអចិន្រ្តៃយ៍សម្រាប់សំណួរដែលមានប្រសិទ្ធភាព
- កំណត់កូអរដីណេតិកត្រឹមត្រូវទៅសុពលភាពដែលត្រូវការ
- គិតពីការផ្ទុកសម្រាប់ទីតាំងដែលត្រូវបានចូលប្រើជាញឹកញាប់
- បង្កើតការអាប់ដេតទីតាំងជាក្រុមនៅពេលអាចធ្វើទៅបាន

## ករណីប្រើទូទៅ

1. **ប្រតិបត្តិការវាល**
   - ទីតាំងឧបករណ៍
   - អាសយដ្ឋានការហៅសេវា
   - កន្លែងពិនិត្យ
   - ទីតាំងដឹកជញ្ជូន

2. **ការគ្រប់គ្រងព្រឹត្តិការណ៍**
   - កន្លែងព្រឹត្តិការណ៍
   - ទីតាំងប្រជុំ
   - កន្លែងសន្និសីទ
   - ទីតាំងសិក្ខាសាលា

3. **ការតាមដានទ្រព្យសម្បត្តិ**
   - ទីតាំងឧបករណ៍
   - ទីតាំងអគារនិងសេវាកម្ម
   - ការតាមដានយានយន្ត
   - ទីតាំងសារពើភ័ណ្ឌ

4. **វិភាគភូមិសាស្ត្រ**
   - តំបន់គ្របដណ្តប់សេវាកម្ម
   - ការចែកចាយអតិថិជន
   - វិភាគទីផ្សារ
   - ការគ្រប់គ្រងដែន

## លក្ខណៈពិសេសនៃការបញ្ចូល

### ជាមួយការស្វែងរក
- យោងទិន្នន័យទីតាំងពីកំណត់ត្រាផ្សេងទៀត
- ស្វែងរកកំណត់ត្រាតាមភាពជិតស្និទ្ធភូមិសាស្ត្រ
- ប្រមូលទិន្នន័យដែលមានទីតាំង
- បញ្ជាក់កូអរដីណេតិក

### ជាមួយការប្រព្រឹត្ត
- បញ្ចេញសកម្មភាពដោយផ្អែកលើការផ្លាស់ប្តូរទីតាំង
- បង្កើតការជូនដំណឹងដែលមានដែនកំណត់
- អាប់ដេតកំណត់ត្រាដែលទាក់ទងនៅពេលទីតាំងផ្លាស់ប្តូរ
- បង្កើតរបាយការណ៍ដែលមានទីតាំង

### ជាមួយរូបមន្ត
- គណនាអង្គភាពរវាងទីតាំង
- កំណត់មជ្ឈមណ្ឌលភូមិសាស្ត្រ
- វិភាគលំនាំទីតាំង
- បង្កើតមាតិកាដែលមានទីតាំង

## ការពិបាក

- គ្មានការបំលែងទីតាំងក្នុងប្រព័ន្ធឬការបំលែងអាសយដ្ឋាន
- គ្មានអន្តរកម្មផែនទីដែលផ្តល់ជូន
- ត្រូវការសេវាកម្មក្រៅសម្រាប់មុខងារអាសយដ្ឋាន
- មានកំណត់តែការរក្សាទុកកូអរដីណេតិកតែប៉ុណ្ណោះ
- គ្មានការត្រួតពិនិត្យទីតាំងដោយស្វ័យប្រវត្តិនៅលើការត្រួតពិនិត្យជួរ

## ធនធានដែលទាក់ទង

- [សម្រង់វាលបន្ថែម](/api/custom-fields/list-custom-fields) - គំនិតទូទៅ
- [Google Maps API](https://developers.google.com/maps) - សេវាកម្មបំលែងទីតាំង
- [OpenStreetMap Nominatim](https://nominatim.org/) - ការបំលែងទីតាំងឥតគិតថ្លៃ
- [MapBox API](https://docs.mapbox.com/) - សេវាកម្មផែនទី និងការបំលែងទីតាំង