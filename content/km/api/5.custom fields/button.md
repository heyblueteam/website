---
title: វាលប៊ូតុងកែប្រែ
description: បង្កើតវាលប៊ូតុងអន្តរកម្មដែលបង្កើនសកម្មភាពនៅពេលដែលបានចុច
---

វាលប៊ូតុងកែប្រែផ្តល់នូវធាតុ UI អន្តរកម្មដែលបង្កើនសកម្មភាពនៅពេលដែលបានចុច។ ខុសពីប្រភេទវាលកែប្រែផ្សេងទៀតដែលរក្សាទុកទិន្នន័យ វាលប៊ូតុងមានតួនាទីជាអ្នកបង្កើនសកម្មភាពដើម្បីអនុវត្តន៍ការងារដែលបានកំណត់។

## ឧទាហរណ៍មូលដ្ឋាន

បង្កើតវាលប៊ូតុងសាមញ្ញដែលបង្កើនសកម្មភាព:

```graphql
mutation CreateButtonField {
  createCustomField(input: {
    name: "Send Invoice"
    type: BUTTON
    projectId: "proj_123"
  }) {
    id
    name
    type
  }
}
```

## ឧទាហរណ៍កម្រិតខ្ពស់

បង្កើតប៊ូតុងដែលមានការទាមទារបញ្ជាក់:

```graphql
mutation CreateButtonWithConfirmation {
  createCustomField(input: {
    name: "Delete All Attachments"
    type: BUTTON
    projectId: "proj_123"
    buttonType: "hardConfirmation"
    buttonConfirmText: "DELETE"
    description: "Permanently removes all attachments from this task"
  }) {
    id
    name
    type
    buttonType
    buttonConfirmText
    description
  }
}
```

## ប៉ារ៉ាម៉ែត្រ Input

### CreateCustomFieldInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការទេ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `name` | String! | ✅ បាទ | ឈ្មោះបង្ហាញនៃប៊ូតុង |
| `type` | CustomFieldType! | ✅ បាទ | ត្រូវតែជា `BUTTON` |
| `projectId` | String! | ✅ បាទ | ID គម្រោងដែលវាលនឹងត្រូវបានបង្កើត |
| `buttonType` | String | មិន | អាការបញ្ជាក់ (មើលប្រភេទប៊ូតុងខាងក្រោម) |
| `buttonConfirmText` | String | មិន | អត្ថបទដែលអ្នកប្រើប្រាស់ត្រូវតែវាយសម្រាប់ការបញ្ជាក់យ៉ាងតឹងរ៉ឹង |
| `description` | String | មិន | អត្ថបទជំនួយដែលបង្ហាញទៅអ្នកប្រើប្រាស់ |
| `required` | Boolean | មិន | ថាតើវាលត្រូវការទេ (លំនាំដើមគឺក្លែងក្លាយ) |
| `isActive` | Boolean | មិន | ថាតើវាលមានសកម្មភាព (លំនាំដើមគឺពិត) |

### វាលប្រភេទប៊ូតុង

វាល `buttonType` គឺជាស្រទាប់សេរីដែលអាចប្រើដោយអត្រាបាន UI ដើម្បីកំណត់អាការបញ្ជាក់។ តម្លៃទូទៅរួមមាន:

- `""` (ទទេ) - គ្មានការបញ្ជាក់
- `"soft"` - វិញ្ញាបនបត្របញ្ជាក់សាមញ្ញ
- `"hard"` - ត្រូវការវាយអត្ថបទបញ្ជាក់

**កំណត់ចំណាំ**: ទាំងនេះគឺជាសំណួរអំពី UI ប៉ុណ្ណោះ។ API មិនបានផ្ទៀងផ្ទាត់ឬអនុវត្តតម្លៃជាក់លាក់ណាមួយទេ។

## បង្កើនការចុចប៊ូតុង

ដើម្បីបង្កើនការចុចប៊ូតុង និងអនុវត្តន៍សកម្មភាពដែលទាក់ទង:

```graphql
mutation ClickButton {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_456"
  })
}
```

### ប៉ារ៉ាម៉ែត្រ Input ចុច

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការទេ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `todoId` | String! | ✅ បាទ | ID នៃការងារដែលមានប៊ូតុង |
| `customFieldId` | String! | ✅ បាទ | ID នៃវាលប៊ូតុងកែប្រែ |

### សំខាន់: អាការប្រើប្រាស់ API

**ការចុចប៊ូតុងទាំងអស់តាមរយៈ API នឹងអនុវត្តន៍ភ្លាមៗ** មិនគិតពីការកំណត់ `buttonType` ឬ `buttonConfirmText`។ វាលទាំងនេះត្រូវបានរក្សាទុកសម្រាប់អត្រាបាន UI ដើម្បីអនុវត្តន៍វិញ្ញាបនបត្របញ្ជាក់ ប៉ុន្តែ API ឯង:

- មិនបានផ្ទៀងផ្ទាត់អត្ថបទបញ្ជាក់
- មិនបានអនុវត្តន៍ការទាមទារបញ្ជាក់ណាមួយ
- អនុវត្តន៍សកម្មភាពប៊ូតុងភ្លាមៗនៅពេលដែលបានហៅ

ការបញ្ជាក់គឺជាសមត្ថភាពសុវត្ថិភាព UI នៅខាងក្រោយប៉ុណ្ណោះ។

### ឧទាហរណ៍: ចុចប្រភេទប៊ូតុងផ្សេងៗ

```graphql
# Button with no confirmation
mutation ClickSimpleButton {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "simple_button_id"
  })
}

# Button with soft confirmation (API call is the same!)
mutation ClickSoftConfirmButton {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "soft_confirm_button_id"
  })
}

# Button with hard confirmation (API call is still the same!)
mutation ClickHardConfirmButton {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "hard_confirm_button_id"
  })
}
```

ការប្រែប្រួលទាំងបីខាងលើនឹងអនុវត្តន៍សកម្មភាពប៊ូតុងភ្លាមៗនៅពេលដែលបានហៅតាមរយៈ API ដោយមិនគិតពីការទាមទារបញ្ជាក់ណាមួយ។

## វាលចម្លើយ

### ចម្លើយវាលកែប្រែ

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `id` | String! | អត្តសញ្ញាណឯកត្តសាស្ត្រសម្រាប់វាលកែប្រែ |
| `name` | String! | ឈ្មោះបង្ហាញនៃប៊ូតុង |
| `type` | CustomFieldType! | ជានិច្ច `BUTTON` សម្រាប់វាលប៊ូតុង |
| `buttonType` | String | ការកំណត់អាការបញ្ជាក់ |
| `buttonConfirmText` | String | អត្ថបទបញ្ជាក់ដែលត្រូវការ (ប្រសិនបើប្រើការបញ្ជាក់យ៉ាងតឹងរ៉ឹង) |
| `description` | String | អត្ថបទជំនួយសម្រាប់អ្នកប្រើប្រាស់ |
| `required` | Boolean! | ថាតើវាលត្រូវការទេ |
| `isActive` | Boolean! | ថាតើវាលមានសកម្មភាពនៅពេលនេះ |
| `projectId` | String! | ID នៃគម្រោងដែលវាលនេះមានសមាជិក |
| `createdAt` | DateTime! | ពេលវាលត្រូវបានបង្កើត |
| `updatedAt` | DateTime! | ពេលវាលត្រូវបានកែប្រែចុងក្រោយ |

## របៀបដែលវាលប៊ូតុងធ្វើការងារ

### ការបញ្ចូលសកម្មភាព

វាលប៊ូតុងត្រូវបានរចនាឡើងដើម្បីធ្វើការជាមួយប្រព័ន្ធសកម្មភាពរបស់ Blue:

1. **បង្កើតវាលប៊ូតុង** ដោយប្រើការប្រែប្រួលខាងលើ
2. **កំណត់សកម្មភាព** ដែលស្តាប់សម្រាប់ព្រឹត្តិការណ៍ `CUSTOM_FIELD_BUTTON_CLICKED`
3. **អ្នកប្រើប្រាស់ចុចប៊ូតុង** នៅក្នុង UI
4. **សកម្មភាពអនុវត្តន៍** សកម្មភាពដែលបានកំណត់

### បូកចំនួនព្រឹត្តិការណ៍

ពេលដែលប៊ូតុងត្រូវបានចុច:

```
User Click → setTodoCustomField mutation → CUSTOM_FIELD_BUTTON_CLICKED event → Automation execution
```

### មិនមានការផ្ទុកទិន្នន័យ

សំខាន់: វាលប៊ូតុងមិនរក្សាទុកទិន្នន័យណាមួយទេ។ ពួកវាផ្តល់ជូនតែជាអ្នកបង្កើនសកម្មភាព។ ការចុចមួយម្តង:
- បង្កើតព្រឹត្តិការណ៍
- បង្កើនសកម្មភាពដែលទាក់ទង
- កំណត់សកម្មភាពនៅក្នុងប្រវត្តិការងារ
- មិនបានកែប្រែតម្លៃវាលណាមួយ

## អាជ្ញាប័ណ្ណដែលត្រូវការទេ

អ្នកប្រើប្រាស់ត្រូវការតួនាទីគម្រោងដែលសមស្របដើម្បីបង្កើតនិងប្រើវាលប៊ូតុង:

| សកម្មភាព | តួនាទីដែលត្រូវការ |
|--------|-------------------|
| Create button field | `OWNER` or `ADMIN` at project level |
| Update button field | `OWNER` or `ADMIN` at project level |
| Click button | `OWNER`, `ADMIN`, `MEMBER`, or `CLIENT` (based on field permissions) |
| Configure automations | `OWNER` or `ADMIN` at project level |

## ការឆ្លើយតបកំហុស

### អាជ្ញាប័ណ្ណត្រូវបានបដិសេធ
```json
{
  "errors": [{
    "message": "You don't have permission to edit this custom field",
    "extensions": {
      "code": "FORBIDDEN"
    }
  }]
}
```

### វាលកែប្រែមិនឃើញ
```json
{
  "errors": [{
    "message": "Custom field not found",
    "extensions": {
      "code": "CUSTOM_FIELD_NOT_FOUND"
    }
  }]
}
```

**កំណត់ចំណាំ**: API មិនត្រឡប់មកវិញនូវកំហុសជាក់លាក់សម្រាប់សកម្មភាពដែលខ្វះឬការបញ្ជាក់ដែលមិនត្រឹមត្រូវ។

## អនុវត្តន៍ល្អបំផុត

### ស្តង់ដារឈ្មោះ
- ប្រើឈ្មោះដែលមានសកម្មភាព: "ផ្ញើវិក័យប័ត្រ", "បង្កើតរបាយការណ៍", "ជូនដំណឹងក្រុម"
- ត្រូវមានភាពជាក់លាក់អំពីអ្វីដែលប៊ូតុងធ្វើ
- មិនគួរប្រើឈ្មោះទូទៅដូចជា "ប៊ូតុង ១" ឬ "ចុចទីនេះ"

### ការកំណត់ការបញ្ជាក់
- ទុក `buttonType` ទទេសម្រាប់សកម្មភាពសុវត្ថិភាពដែលអាចត្រឡប់មកវិញ
- កំណត់ `buttonType` ដើម្បីផ្តល់អនុសាសន៍អំពីអាការបញ្ជាក់ទៅអត្រាបាន UI
- ប្រើ `buttonConfirmText` ដើម្បីកំណត់អ្វីដែលអ្នកប្រើប្រាស់គួរវាយនៅក្នុងការបញ្ជាក់ UI
- ចងចាំ: ទាំងនេះគឺជាសំណួរអំពី UI ប៉ុណ្ណោះ - ការហៅ API មិនដែលអនុវត្តន៍ភ្លាមៗ

### ការរចនាសកម្មភាព
- រក្សាសកម្មភាពប៊ូតុងឱ្យមានការយកចិត្តទុកដាក់លើការងារមួយ
- ផ្តល់មតិយោបល់ច្បាស់អំពីអ្វីដែលកើតឡើងបន្ទាប់ពីការចុច
- ពិចារណាបន្ថែមអត្ថបទពិពណ៌នាដើម្បីពន្យល់ពីគោលបំណងរបស់ប៊ូតុង

## ករណីប្រើប្រាស់ទូទៅ

1. **ការផ្លាស់ប្តូរការងារ**
   - "សម្គាល់ថាបានបញ្ចប់"
   - "ផ្ញើសម្រាប់ការអនុម័ត"
   - "ដាក់សារពើភ័ណ្ឌ"

2. **ការបញ្ចូលខាងក្រៅ**
   - "សម្របសម្រួលទៅ CRM"
   - "បង្កើតវិក័យប័ត្រ"
   - "ផ្ញើការអាប់ដេតអ៊ីមែល"

3. **ប្រតិបត្តិការប្រមូល**
   - "អាប់ដេតសកម្មភាពរងទាំងអស់"
   - "ចម្លងទៅគម្រោង"
   - "អនុវត្តន៍គំរូ"

4. **សកម្មភាពរបាយការណ៍**
   - "បង្កើតរបាយការណ៍"
   - "នាំចេញទិន្នន័យ"
   - "បង្កើតសង្ខេប"

## ការកំណត់

- ប៊ូតុងមិនអាចរក្សាទុកឬបង្ហាញតម្លៃទិន្នន័យ
- ប៊ូតុងមួយគ្រាន់តែអាចបង្កើនសកម្មភាពបានមួយទៀត ប៉ុន្តែសកម្មភាពនោះអាចបង្កើតសកម្មភាពច្រើនបាន
- ការមើលឃើញប៊ូតុងមិនអាចត្រូវបានគ្រប់គ្រងដោយលក្ខខណ្ឌ
- មានអតិបរិមាដែលអនុវត្តន៍សកម្មភាពមួយក្នុងមួយចុច (ទោះបីជាសកម្មភាពនោះអាចបង្កើតសកម្មភាពច្រើន)

## ឯកសារដែលទាក់ទង

- [Automations API](/api/automations/index) - កំណត់សកម្មភាពដែលត្រូវបានបង្កើតដោយប៊ូតុង
- [Custom Fields Overview](/custom-fields/list-custom-fields) - គំនិតទូទៅអំពីវាលកែប្រែ