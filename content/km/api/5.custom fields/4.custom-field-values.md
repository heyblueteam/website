---
title: កំណត់តម្លៃវាលផ្ទាល់ខ្លួន
description: ធ្វើបច្ចុប្បន្នភាពតម្លៃវាលផ្ទាល់ខ្លួនលើកំណត់ត្រាដោយប្រើប៉ារ៉ាម៉ែត្រដែលមានប្រភេទជាក់លាក់សម្រាប់ប្រភេទវាលនីមួយៗ
---

## កំណត់តម្លៃវាលផ្ទាល់ខ្លួន

វាលផ្ទាល់ខ្លួនពង្រីករចនាសម្ព័ន្ធកំណត់ត្រាមាត្រដ្ឋានរបស់ Blue ជាមួយទិន្នន័យជាក់លាក់សម្រាប់អាជីវកម្ម។ ចំណុចចូលនេះអនុញ្ញាតឱ្យអ្នកកំណត់ឬធ្វើបច្ចុប្បន្នភាពតម្លៃសម្រាប់វាលផ្ទាល់ខ្លួនណាមួយនៅលើកំណត់ត្រា។ ប្រភេទវាលនីមួយៗត្រូវការប៉ារ៉ាម៉ែត្រដែលជាក់លាក់ដើម្បីធានាថាទិន្នន័យមានសុវត្ថិភាព និងមានការផ្ទៀងផ្ទាត់ត្រឹមត្រូវ។

### ឧទាហរណ៍មូលដ្ឋាន

```graphql
mutation SetTextFieldValue {
  setTodoCustomField(input: {
    todoId: "todo_abc123"
    customFieldId: "field_xyz789"
    text: "Project specification document"
  })
}
```

### ឧទាហរណ៍កម្រិតខ្ពស់

```graphql
mutation SetMultipleFieldTypes {
  # Set a date range field
  dateField: setTodoCustomField(input: {
    todoId: "todo_abc123"
    customFieldId: "field_date_001"
    startDate: "2024-01-15T09:00:00Z"
    endDate: "2024-01-31T17:00:00Z"
    timezone: "America/New_York"
  })
  
  # Set a multi-select field
  selectField: setTodoCustomField(input: {
    todoId: "todo_abc123"
    customFieldId: "field_select_002"
    customFieldOptionIds: ["option_high", "option_urgent", "option_client"]
  })
  
  # Set a location field
  locationField: setTodoCustomField(input: {
    todoId: "todo_abc123"
    customFieldId: "field_location_003"
    latitude: 40.7128
    longitude: -74.0060
  })
}
```

## ប៉ារ៉ាម៉ែត្របញ្ចូល

### SetTodoCustomFieldInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `todoId` | String! | ✅ បាទ | អត្តសញ្ញាណរបស់កំណត់ត្រាដើម្បីធ្វើបច្ចុប្បន្នភាព |  |
| `customFieldId` | String! | ✅ បាទ | អត្តសញ្ញាណរបស់វាលផ្ទាល់ខ្លួន |  |
| `text` | String | អត់ | សម្រាប់ TEXT_SINGLE, TEXT_MULTI, PHONE, EMAIL, URL |  |
| `number` | Float | អត់ | សម្រាប់ NUMBER, PERCENT, RATING |  |
| `currency` | String | អត់ | កូដរូបិយវត្ថុសម្រាប់ប្រភេទ CURRENCY (ឧ. "USD") |  |
| `checked` | Boolean | អត់ | សម្រាប់វាល CHECKBOX |  |
| `startDate` | DateTime | អត់ | ថ្ងៃចាប់ផ្តើមសម្រាប់វាល DATE |  |
| `endDate` | DateTime | អត់ | ថ្ងៃបញ្ចប់សម្រាប់វាលកម្រិតថ្ងៃ |  |
| `timezone` | String | អត់ | តំបន់ពេលសម្រាប់វាល DATE (ឧ. "America/New_York") |  |
| `latitude` | Float | អត់ | អង្កត់ផ្ចិតសម្រាប់វាល LOCATION |  |
| `longitude` | Float | អត់ | អង្កត់ផ្ចិតសម្រាប់វាល LOCATION |  |
| `regionCode` | String | អត់ | កូដតំបន់សម្រាប់វាល PHONE |  |
| `countryCodes` | [String!] | អត់ | កូដប្រទេស ISO សម្រាប់វាល COUNTRY |  |
| `customFieldOptionId` | String | អត់ | អត្តសញ្ញាណជម្រើសសម្រាប់វាល SELECT_SINGLE |  |
| `customFieldOptionIds` | [String!] | អត់ | អត្តសញ្ញាណជម្រើសសម្រាប់វាល SELECT_MULTI |  |
| `customFieldReferenceTodoIds` | [String!] | អត់ | អត្តសញ្ញាណកំណត់ត្រាសម្រាប់វាល REFERENCE |  |

## ឧទាហរណ៍ប្រភេទវាល

### វាលអត្ថបទ
```graphql
mutation {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_description"
    text: "Detailed project requirements and specifications"
  })
}
```

### វាលលេខ
```graphql
mutation {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_budget"
    number: 15000.50
  })
}
```

### វាលជម្រើស
```graphql
# Single Select
mutation {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_priority"
    customFieldOptionId: "option_high"
  })
}

# Multi Select
mutation {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_tags"
    customFieldOptionIds: ["option_frontend", "option_urgent", "option_v2"]
  })
}
```

### វាលថ្ងៃ
```graphql
# Single Date
mutation {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_deadline"
    startDate: "2024-12-31T23:59:59Z"
  })
}

# Date Range
mutation {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_project_timeline"
    startDate: "2024-01-01T00:00:00Z"
    endDate: "2024-03-31T23:59:59Z"
    timezone: "UTC"
  })
}
```

### វាលទីតាំង
```graphql
mutation {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_office_location"
    latitude: 37.7749
    longitude: -122.4194
  })
}
```

### វាលរូបិយវត្ថុ
```graphql
mutation {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_invoice_amount"
    number: 5000
    currency: "USD"
  })
}
```

### វាលឯកសារ
វាលឯកសារប្រើប្រាស់ការប្រែប្រួលផ្សេងៗ:

```graphql
# Add a file
mutation {
  createTodoCustomFieldFile(input: {
    todoId: "todo_123"
    customFieldId: "field_attachments"
    fileUid: "file_upload_789"
  })
}

# Remove a file
mutation {
  deleteTodoCustomFieldFile(input: {
    todoId: "todo_123"
    customFieldId: "field_attachments"
    fileUid: "file_upload_789"
  })
}
```

## កំណត់តម្លៃនៅពេលបង្កើតកំណត់ត្រា

អ្នកអាចកំណត់តម្លៃវាលផ្ទាល់ខ្លួននៅពេលបង្កើតកំណត់ត្រាថ្មី:

```graphql
mutation {
  createTodo(input: {
    todoListId: "list_project_123"
    title: "New Feature Development"
    customFields: [
      {
        customFieldId: "field_priority"
        value: "high"
      },
      {
        customFieldId: "field_estimate"
        value: "8"
      }
    ]
  }) {
    id
    customFields {
      customField {
        name
      }
      value
    }
  }
}
```

## វាលឆ្លើយតប

ការប្រែប្រួលត្រឡប់មកវិញ boolean ដែលបង្ហាញពីភាពជោគជ័យ:

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `setTodoCustomField` | Boolean! | ពិតប្រសិនបើប្រតិបត្តិការជោគជ័យ |  |

## អាជ្ញាប័ណ្ណដែលត្រូវការ

អ្នកប្រើប្រាស់ត្រូវតែមានសិទ្ធិកែសម្រួលទាំងកំណត់ត្រានិងវាលផ្ទាល់ខ្លួនជាក់លាក់:

| តួនាទី | អាចកំណត់តម្លៃវាល |
|------|---------------------|
| `OWNER` | ✅ បាទ |  |
| `ADMIN` | ✅ បាទ |  |
| `MEMBER` | ✅ បាទ (ទោះបីត្រូវបានកំណត់ដោយតួនាទីផ្ទាល់ខ្លួន) |  |
| `CLIENT` | ✅ បាទ (ទោះបីត្រូវបានកំណត់ដោយតួនាទីផ្ទាល់ខ្លួន) |  |

សម្រាប់អ្នកប្រើប្រាស់ដែលមានតួនាទីគម្រោងផ្ទាល់ខ្លួន ប្រព័ន្ធនឹងអនុវត្តន៍ការត្រួតពិនិត្យពីរដំណាក់កាល៖
1. ជាលើកដំបូង វាបញ្ជាក់ថាអ្នកមានការចូលដំណើរការនៅកម្រិតគម្រោង
2. បន្ទាប់មក វាត្រួតពិនិត្យថាវាលជាក់លាក់ត្រូវបានសម្គាល់ថាជា `editable` ក្នុងការកំណត់តួនាទីផ្ទាល់ខ្លួនរបស់ពួកគេ

នេះមានន័យថាអ្នកប្រើប្រាស់អាចមានការចូលដំណើរការគម្រោងទូទៅ ប៉ុន្តែអាចត្រូវបានកំណត់ពីការកែប្រែវាលជាក់លាក់មួយចំនួនដោយផ្អែកលើតួនាទីផ្ទាល់ខ្លួនរបស់ពួកគេ។

## ចម្លើយកំហុស

### វាលផ្ទាល់ខ្លួនមិនឃើញ
```json
{
  "errors": [{
    "message": "Custom field was not found.",
    "extensions": {
      "code": "CUSTOM_FIELD_NOT_FOUND"
    }
  }]
}
```

### ការចូលប្រើមិនមានសិទ្ធិ
```json
{
  "errors": [{
    "message": "You are not authorized.",
    "extensions": {
      "code": "FORBIDDEN"
    }
  }]
}
```

### តម្លៃវាលមិនត្រឹមត្រូវ
```json
{
  "errors": [{
    "message": "Invalid value for field type NUMBER",
    "extensions": {
      "code": "VALIDATION_ERROR"
    }
  }]
}
```

## កំណត់ចំណាំសំខាន់

- **អាកប្បកិរិយា Upsert**: ការប្រែប្រួលបង្កើតតម្លៃវាលថ្មីប្រសិនបើមិនមានទេ ឬធ្វើបច្ចុប្បន្នភាពតម្លៃដែលមានស្រាប់
- **សុវត្ថិភាពប្រភេទ**: ផ្តល់តែប៉ារ៉ាម៉ែត្រដែលស្របនឹងប្រភេទវាល (ឧ. កុំផ្ញើ `text` សម្រាប់វាល NUMBER)
- **ផលប៉ះពាល់ខាងក្រៅ**: ការកំណត់តម្លៃនឹងធ្វើឱ្យមាន៖
  - ការគណនាថ្មីនៃវាលសម_FORMULA
  - ច្បាប់ស្វ័យប្រវត្តិ
  - ការជូនដំណឹង Webhook
  - ការចុះកំណត់សកម្មភាព
  - ការអាប់ដេតក្រាហ្វិក
- **អាកប្បកិរិយាសំខាន់**:
  - វាល **CURRENCY** ដំណើរការការគណនាបម្លែងដោយស្វ័យប្រវត្តិ
  - វាល **REFERENCE** ធ្វើបច្ចុប្បន្នភាពទំនាក់ទំនងពីរទិស
  - វាល **FORMULA** គឺអានតែ និងមិនអាចកំណត់បានដោយផ្ទាល់ (វាត្រូវបានគណនាដោយស្វ័យប្រវត្តិ)
  - វាល **LOOKUP** គឺអានតែ និងមិនអាចកំណត់បានដោយផ្ទាល់ (វាអូសទិន្នន័យពីកំណត់ត្រាដែលបានយោង)
  - វាល **BUTTON** បង្កើតព្រឹត្តិការណ៍ស្វ័យប្រវត្តិពេល "ចុច"
- **ការផ្ទៀងផ្ទាត់**: API ផ្ទៀងផ្ទាត់ថា:
  - កំណត់ត្រាមានស្រាប់នៅក្នុងគម្រោង
  - វាលផ្ទាល់ខ្លួនមានស្រាប់នៅក្នុងគម្រោងដូចគ្នា
  - អ្នកប្រើប្រាស់មានសិទ្ធិកែសម្រួល
  - តម្លៃស្របនឹងតម្រូវការប្រភេទវាល

## ឯកសារបង្ហាញទ្រង់ទ្រាយតម្លៃ

| ប្រភេទវាល | ប៉ារ៉ាម៉ែត្រ | ទ្រង់ទ្រាយ | ឧទាហរណ៍ |
|------------|-----------|--------|---------|
| `TEXT_SINGLE` | `text` | String | `"Project Alpha"` |  |
| `TEXT_MULTI` | `text` | String with newlines | `"Line 1\nLine 2"` |  |
| `NUMBER` | `number` | Float | `42.5` |  |
| `CURRENCY` | `number` + `currency` | Float + ISO code | `1000.00` + `"USD"` |  |
| `PERCENT` | `number` | Float (0-100) | `75` |  |
| `RATING` | `number` | Float (within min/max) | `4.5` |  |
| `CHECKBOX` | `checked` | Boolean | `true` |  |
| `DATE` | `startDate` | ISO 8601 DateTime | `"2024-01-15T00:00:00Z"` |  |
| `DATE` (range) | `startDate` + `endDate` | ISO 8601 DateTimes | See example above |  |
| `SELECT_SINGLE` | `customFieldOptionId` | Option ID | `"option_123"` |  |
| `SELECT_MULTI` | `customFieldOptionIds` | Array of Option IDs | `["opt_1", "opt_2"]` |  |
| `PHONE` | `text` | String | `"+1-555-123-4567"` |  |
| `EMAIL` | `text` | String | `"user@example.com"` |  |
| `URL` | `text` | String | `"https://example.com"` |  |
| `LOCATION` | `latitude` + `longitude` | Floats | `40.7128, -74.0060` |  |
| `COUNTRY` | `countryCodes` | ISO 3166 codes | `["US", "CA"]` |  |
| `REFERENCE` | `customFieldReferenceTodoIds` | Array of record IDs | `["todo_1", "todo_2"]` |  |
| `FORMULA` | N/A | Read-only - calculated automatically | N/A |  |
| `LOOKUP` | N/A | Read-only - pulls from references | N/A |  |

## ចំណុចចូលដែលពាក់ព័ន្ធ

- [បញ្ជីវាលផ្ទាល់ខ្លួន](/api/custom-fields/list-custom-fields) - ទទួលបានវាលផ្ទាល់ខ្លួនដែលមានស្រាប់
- [បង្កើតវាលផ្ទាល់ខ្លួន](/api/custom-fields/create-custom-fields) - បន្ថែមវាលផ្ទាល់ខ្លួនថ្មី
- [ទាញយកព័ត៌មានលម្អិតកំណត់ត្រា](/api/records/list-records) - ទាញយកកំណត់ត្រាជាមួយតម្លៃវាលផ្ទាល់ខ្លួន
- [ធ្វើបច្ចុប្បន្នភាពកំណត់ត្រាជាដុំ](/api/records/bulk-update) - ធ្វើបច្ចុប្បន្នភាពកំណត់ត្រាច្រើនក្នុងមួយពេល