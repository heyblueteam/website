---
title: វាលកំណត់អ៊ីមែល
description: បង្កើតវាលអ៊ីមែលដើម្បីរក្សាទុក និងផ្ទៀងផ្ទាត់អាសយដ្ឋានអ៊ីមែល
---

វាលកំណត់អ៊ីមែលអនុញ្ញាតឱ្យអ្នករក្សាទុកអាសយដ្ឋានអ៊ីមែលក្នុងកំណត់ត្រាមួយដែលមានការផ្ទៀងផ្ទាត់ក្នុងខ្លួន។ វាគឺអស្ចារ្យសម្រាប់តាមដានព័ត៌មានទំនាក់ទំនង អ៊ីមែលអ្នកចាត់តាំង ឬទិន្នន័យដែលទាក់ទងនឹងអ៊ីមែលណាមួយក្នុងគម្រោងរបស់អ្នក។

## ឧទាហរណ៍មូលដ្ឋាន

បង្កើតវាលអ៊ីមែលសាមញ្ញ៖

```graphql
mutation CreateEmailField {
  createCustomField(input: {
    name: "Contact Email"
    type: EMAIL
  }) {
    id
    name
    type
  }
}
```

## ឧទាហរណ៍កម្រិតខ្ពស់

បង្កើតវាលអ៊ីមែលដែលមានការពិពណ៌នា៖

```graphql
mutation CreateDetailedEmailField {
  createCustomField(input: {
    name: "Client Email"
    type: EMAIL
    description: "Primary email address for client communications"
  }) {
    id
    name
    type
    description
  }
}
```

## ប៉ារ៉ាម៉ែត្រ Input

### CreateCustomFieldInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | តម្រូវ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `name` | String! | ✅ បាទ | ឈ្មោះបង្ហាញនៃវាលអ៊ីមែល |
| `type` | CustomFieldType! | ✅ បាទ | ត្រូវតែជា `EMAIL` |
| `description` | String | ទេ | អត្ថបទជំនួយដែលបង្ហាញទៅអ្នកប្រើ |

## កំណត់តម្លៃអ៊ីមែល

ដើម្បីកំណត់ឬធ្វើបច្ចុប្បន្នភាពតម្លៃអ៊ីមែលលើកំណត់ត្រា៖

```graphql
mutation SetEmailValue {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_456"
    text: "john.doe@example.com"
  }) {
    id
    customField {
      value  # Returns { text: "john.doe@example.com" }
    }
  }
}
```

### SetTodoCustomFieldInput Parameters

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | តម្រូវ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `todoId` | String! | ✅ បាទ | ID នៃកំណត់ត្រាដើម្បីធ្វើបច្ចុប្បន្នភាព |
| `customFieldId` | String! | ✅ បាទ | ID នៃវាលកំណត់អ៊ីមែល |
| `text` | String | ទេ | អាសយដ្ឋានអ៊ីមែលដើម្បីរក្សាទុក |

## បង្កើតកំណត់ត្រាជាមួយតម្លៃអ៊ីមែល

នៅពេលបង្កើតកំណត់ត្រាថ្មីជាមួយតម្លៃអ៊ីមែល៖

```graphql
mutation CreateRecordWithEmail {
  createTodo(input: {
    title: "Follow up with client"
    todoListId: "list_123"
    customFields: [{
      customFieldId: "email_field_id"
      value: "client@company.com"
    }]
  }) {
    id
    title
    customFields {
      id
      customField {
        name
        type
        value  # Email is accessed here as { text: "client@company.com" }
      }
    }
  }
}
```

## វាលចម្លើយ

### CustomField Response

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `id` | ID! | អត្តសញ្ញាណឯកតាសម្រាប់វាលកំណត់ |
| `name` | String! | ឈ្មោះបង្ហាញនៃវាលអ៊ីមែល |
| `type` | CustomFieldType! | ប្រភេទវាល (EMAIL) |
| `description` | String | អត្ថបទជំនួយសម្រាប់វាល |
| `value` | JSON | មានតម្លៃអ៊ីមែល (សូមមើលខាងក្រោម) |
| `createdAt` | DateTime! | ពេលវាលត្រូវបានបង្កើត |
| `updatedAt` | DateTime! | ពេលវាលត្រូវបានកែប្រែចុងក្រោយ |

**សំខាន់**: តម្លៃអ៊ីមែលត្រូវបានចូលដំណើរការតាមរយៈវាល `customField.value.text` មិនមែនដោយផ្ទាល់លើចម្លើយទេ។

## ការស្វែងរកតម្លៃអ៊ីមែល

នៅពេលស្វែងរកកំណត់ត្រាជាមួយវាលកំណត់អ៊ីមែល អាចចូលដំណើរការអ៊ីមែលតាមផ្លូវ `customField.value.text`៖

```graphql
query GetRecordWithEmail {
  todo(id: "todo_123") {
    id
    title
    customFields {
      id
      customField {
        name
        type
        value  # For EMAIL type, contains { text: "email@example.com" }
      }
    }
  }
}
```

ចម្លើយនឹងរួមបញ្ចូលអ៊ីមែលក្នុងរចនាសម្ព័ន្ធដែលមានជាន់ខាងក្នុង៖

```json
{
  "data": {
    "todo": {
      "customFields": [{
        "customField": {
          "name": "Contact Email",
          "type": "EMAIL",
          "value": {
            "text": "john.doe@example.com"
          }
        }
      }]
    }
  }
}
```

## ការផ្ទៀងផ្ទាត់អ៊ីមែល

### ការផ្ទៀងផ្ទាត់ទម្រង់
នៅពេលវាលអ៊ីមែលត្រូវបានប្រើនៅក្នុងទម្រង់ វាពិតជាផ្ទៀងផ្ទាត់ទម្រង់អ៊ីមែលដោយស្វ័យប្រវត្តិ៖
- ប្រើច្បាប់ផ្ទៀងផ្ទាត់អ៊ីមែលស្តង់ដារ
- កាត់សំណុំអាកាសចេញពីការបញ្ចូល
- បដិសេធទម្រង់អ៊ីមែលមិនត្រឹមត្រូវ

### ច្បាប់ផ្ទៀងផ្ទាត់
- ត្រូវមានសញ្ញា `@`
- ត្រូវមានទម្រង់ដែនដែលត្រឹមត្រូវ
- សំណុំអាកាសដើម/ចុងត្រូវបានលុបចេញដោយស្វ័យប្រវត្តិ
- ទម្រង់អ៊ីមែលទូទៅត្រូវបានទទួលយក

### ឧទាហរណ៍អ៊ីមែលត្រឹមត្រូវ
```
user@example.com
john.doe@company.co.uk
test+tag@domain.org
first.last@sub.domain.com
```

### ឧទាហរណ៍អ៊ីមែលមិនត្រឹមត្រូវ
```
plainaddress          # Missing @ symbol
@domain.com          # Missing local part
user@                # Missing domain
user@domain          # Missing TLD
user name@domain.com # Spaces not allowed
```

## ការគិតគូសំខាន់

### API ដោយផ្ទាល់ vs ទម្រង់
- **ទម្រង់**: ការផ្ទៀងផ្ទាត់អ៊ីមែលដោយស្វ័យប្រវត្តិត្រូវបានអនុវត្ត
- **API ដោយផ្ទាល់**: មិនមានការផ្ទៀងផ្ទាត់ - អត្ថបទណាមួយអាចត្រូវបានរក្សាទុក
- **ការណែនាំ**: ប្រើទម្រង់សម្រាប់ការបញ្ចូលរបស់អ្នកប្រើដើម្បីធានាការផ្ទៀងផ្ទាត់

### ទម្រង់ស្តុក
- អាសយដ្ឋានអ៊ីមែលត្រូវបានរក្សាទុកជាអត្ថបទធម្មតា
- មិនមានការប្រកបដោយទម្រង់ឬការបកប្រែពិសេស
- អារម្មណ៍ករណី: វាលកំណត់អ៊ីមែលត្រូវបានរក្សាទុកដោយមានអារម្មណ៍ករណី (ខុសពីអ៊ីមែលសម្រាប់ការផ្ទៀងផ្ទាត់អ្នកប្រើដែលត្រូវបានធ្វើឱ្យសមស្របទៅជាអក្សរតូច)
- មិនមានកំណត់ប្រវែងអតិបរិមាដែលលើសពីកំណត់ទិន្នន័យ (កំណត់ 16MB)

## អាជ្ញាប័ណ្ណដែលតម្រូវ

| សកម្មភាព | អាជ្ញាប័ណ្ណដែលតម្រូវ |
|--------|-------------------|
| Create email field | `OWNER` or `ADMIN` project-level role |
| Update email field | `OWNER` or `ADMIN` project-level role |
| Delete email field | `OWNER` or `ADMIN` project-level role |
| Set email value | Any role except `VIEW_ONLY` and `COMMENT_ONLY` |
| View email value | Any project role with field access |

## ចម្លើយកំហុស

### ទម្រង់អ៊ីមែលមិនត្រឹមត្រូវ (ទម្រង់តែប៉ុណ្ណោះ)
```json
{
  "errors": [{
    "message": "ValidationError",
    "extensions": {
      "code": "BAD_USER_INPUT",
      "data": {
        "errors": [{
          "field": "email",
          "message": "Email format is invalid"
        }]
      }
    }
  }]
}
```

### វាលមិនត្រូវបានរកឃើញ
```json
{
  "errors": [{
    "message": "Custom field not found",
    "extensions": {
      "code": "NOT_FOUND"
    }
  }]
}
```

## អនុសាសន៍ល្អ

### ការបញ្ចូលទិន្នន័យ
- តែងតែផ្ទៀងផ្ទាត់អាសយដ្ឋានអ៊ីមែលនៅក្នុងកម្មវិធីរបស់អ្នក
- ប្រើវាលអ៊ីមែលសម្រាប់អាសយដ្ឋានអ៊ីមែលដែលមានសុពលភាពតែប៉ុណ្ណោះ
- ពិចារណាអំពីការប្រើទម្រង់សម្រាប់ការបញ្ចូលរបស់អ្នកប្រើដើម្បីទទួលបានការផ្ទៀងផ្ទាត់ដោយស្វ័យប្រវត្តិ

### គុណភាពទិន្នន័យ
- កាត់សំណុំអាកាសចេញមុនពេលរក្សាទុក
- ពិចារណាអំពីការធ្វើឱ្យសមស្របករណី (ធម្មតាជាអក្សរតូច)
- ផ្ទៀងផ្ទាត់ទម្រង់អ៊ីមែលមុនពេលប្រតិបត្តិការសំខាន់ៗ

### ការពិចារណាអំពីឯកជនភាព
- អាសយដ្ឋានអ៊ីមែលត្រូវបានរក្សាទុកជាអត្ថបទធម្មតា
- ពិចារណាអំពីបទបញ្ជាឯកជនភាពទិន្នន័យ (GDPR, CCPA)
- អនុវត្តការត្រួតពិនិត្យការចូលដំណើរការដែលសមស្រប

## ករណីប្រើទូទៅ

1. **ការគ្រប់គ្រងទំនាក់ទំនង**
   - អាសយដ្ឋានអ៊ីមែលអតិថិជន
   - ព័ត៌មានទំនាក់ទំនងអ្នកផ្គត់ផ្គង់
   - អ៊ីមែលសមាជិកក្រុម
   - ព័ត៌មានទំនាក់ទំនងគាំទ្រ

2. **ការគ្រប់គ្រងគម្រោង**
   - អ៊ីមែលអ្នកចូលរួម
   - អ៊ីមែលទំនាក់ទំនងការអនុម័ត
   - អ៊ីមែលអ្នកទទួលការជូនដំណឹង
   - អ៊ីមែលអ្នកសហការការប្រកួតក្រៅ

3. **ការគាំទ្រអតិថិជន**
   - អាសយដ្ឋានអ៊ីមែលអតិថិជន
   - ទំនាក់ទំនងសំបុត្រគាំទ្រ
   - ទំនាក់ទំនងការលើកឡើង
   - អាសយដ្ឋានអ៊ីមែលមតិយោបល់

4. **ការលក់ និងទីផ្សារ**
   - អាសយដ្ឋានអ៊ីមែលអ្នកដឹកនាំ
   - បញ្ជីទំនាក់ទំនងយុទ្ធនាការ
   - ព័ត៌មានទំនាក់ទំនងដៃគូ
   - អ៊ីមែលប្រភពយោង

## លក្ខណៈពិសេសនៃការបញ្ចូល

### ជាមួយការប្រតិបត្តិ
- បង្កើតសកម្មភាពនៅពេលវាលអ៊ីមែលត្រូវបានធ្វើបច្ចុប្បន្នភាព
- ផ្ញើការជូនដំណឹងទៅអាសយដ្ឋានអ៊ីមែលដែលបានរក្សាទុក
- បង្កើតភារកិច្ចតាមដានដោយផ្អែកលើការប្រែប្រួលអ៊ីមែល

### ជាមួយការស្វែងរក
- យោងទៅកាន់ទិន្នន័យអ៊ីមែលពីកំណត់ត្រាផ្សេងទៀត
- ប្រមូលបញ្ជីអ៊ីមែលពីប្រភពច្រើន
- ស្វែងរកកំណត់ត្រាតាមអាសយដ្ឋានអ៊ីមែល

### ជាមួយទម្រង់
- ការផ្ទៀងផ្ទាត់អ៊ីមែលដោយស្វ័យប្រវត្តិ
- ការត្រួតពិនិត្យទម្រង់អ៊ីមែល
- ការកាត់សំណុំអាកាសចេញ

## ការកំណត់

- មិនមានការផ្ទៀងផ្ទាត់អ៊ីមែលឬការផ្ទៀងផ្ទាត់ដែលមានក្នុងខ្លួនក្រៅពីការត្រួតពិនិត្យទម្រង់
- មិនមានលក្ខណៈ UI ដែលជាក់លាក់សម្រាប់អ៊ីមែល (ដូចជាអ៊ីមែលដែលអាចចុចបាន)
- ត្រូវបានរក្សាទុកជាអត្ថបទធម្មតាដោយគ្មានការការពារ
- មិនមានសមត្ថភាពសរសេរ ឬផ្ញើអ៊ីមែល
- មិនមានការរក្សាទុកមេតាដែលទាក់ទងនឹងអ៊ីមែល (ឈ្មោះបង្ហាញ និងអ្វីៗផ្សេងទៀត)
- ការហៅ API ដោយផ្ទាល់មិនមានការផ្ទៀងផ្ទាត់ (មានតែទម្រង់ដែលផ្ទៀងផ្ទាត់)

## ឯកសារទាក់ទង

- [វាលអត្ថបទ](/api/custom-fields/text-single) - សម្រាប់ទិន្នន័យអត្ថបទដែលមិនមែនជាអ៊ីមែល
- [វាល URL](/api/custom-fields/url) - សម្រាប់អាសយដ្ឋានគេហទំព័រ
- [វាលទូរស័ព្ទ](/api/custom-fields/phone) - សម្រាប់លេខទូរស័ព្ទ
- [ទិដ្ឋភាពទូទៅនៃវាលកំណត់](/api/custom-fields/list-custom-fields) - គំនិតទូទៅ