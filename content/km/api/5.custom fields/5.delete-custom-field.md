---
title: លុបវាលផ្ទាល់ខ្លួន
description: លុបវាលផ្ទាល់ខ្លួនចេញពីគម្រោងដោយមានការលុបបន្ថែមនិងផលប៉ះពាល់ដែលកើតឡើង
---

## លុបវាលផ្ទាល់ខ្លួន

លុបវាលផ្ទាល់ខ្លួនចេញពីគម្រោងយ៉ាងថេរ រួមទាំងទិន្នន័យ ទម្លាប់ និងការកំណត់ទាំងអស់ដែលពាក់ព័ន្ធ។ សកម្មភាពនេះមិនអាចត្រឡប់មកវិញបាននិងនឹងមានផលប៉ះពាល់ដល់កំណត់ត្រាទាំងអស់ដែលប្រើវាលនេះ។

### ឧទាហរណ៍មូលដ្ឋាន

```graphql
mutation DeleteCustomField {
  deleteCustomField(id: "field_abc123")
}
```

### ឧទាហរណ៍កម្រិតខ្ពស់

```graphql
mutation DeleteCustomFieldWithResponse {
  deleteCustomField(id: "field_abc123")
}
```

## ប៉ារ៉ាម៉ែត្រ Input

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `id` | String! | ✅ បាទ | អត្តសញ្ញាណឯកតាដែលមានឯកតាផ្ទាល់ខ្លួនដែលត្រូវលុប |

## វាលចម្លើយ

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `deleteCustomField` | Boolean! | តែងតែត្រឡប់មកវិញ `true` នៅពេលដែលការលុបជោគជ័យ |

## អនុញ្ញាតដែលត្រូវការ

អ្នកកាន់កាប់គម្រោងនិងអ្នកគ្រប់គ្រងតែប៉ុណ្ណោះអាចលុបវាលផ្ទាល់ខ្លួន។

| តួនាទី | អាចលុបវាលផ្ទាល់ខ្លួន |
|------|-------------------------|
| `OWNER` | ✅ បាទ |
| `ADMIN` | ✅ បាទ |
| `MEMBER` | ❌ ទេ |
| `CLIENT` | ❌ ទេ |

## ផលប៉ះពាល់ដែលកើតឡើង

នៅពេលដែលវាលផ្ទាល់ខ្លួនត្រូវបានលុប ការលុបបន្ថែមដូចខាងក្រោមនឹងកើតឡើងដោយស្វ័យប្រវត្តិ:

### ការលុបទិន្នន័យ
- **តម្លៃវាលផ្ទាល់ខ្លួន** - តម្លៃទាំងអស់សម្រាប់វាលនេះត្រូវបានលុបចេញពីកំណត់ត្រាទាំងអស់
- **ជម្រើសវាល** - ជម្រើសនិងការកំណត់ទាំងអស់ត្រូវបានលុប
- **ប្រវត្តិសកម្មភាព** - កំណត់ត្រាសកម្មភាពទាំងអស់ដែលពាក់ព័ន្ធនឹងវាលនេះត្រូវបានលុប
- **ការកំណត់ស្វែងរក** - យោងទៅកាន់វាលស្វែងរកណាមួយត្រូវបានលុប

### ការដោះស្រាយពិសេសសម្រាប់វាលប៊ូតុង
ប្រសិនបើវាលដែលត្រូវបានលុបមានប្រភេទ `BUTTON` ការលុបបន្ថែមនឹងកើតឡើង:
- **ការអូតូម៉ាស្យុង** - ការអូតូម៉ាស្យុងទាំងអស់ដែលត្រូវបានចាប់ផ្តើមដោយប៊ូតុងនេះត្រូវបានលុប
- **ប្រវត្តិអូតូម៉ាស្យុង** - សកម្មភាពអូតូម៉ាស្យុងដែលពាក់ព័ន្ធត្រូវបានលុប

### ការអាប់ដេតពេលវេលាច réel
- **ក្រាហ្វិក** - ក្រាហ្វិកគម្រោងត្រូវបានសម្គាល់សម្រាប់ការអាប់ដេតដើម្បីបង្ហាញពីការផ្លាស់ប្តូរ
- **រូបមន្ត** - វាលរូបមន្តទាំងអស់នៅក្នុងគម្រោងត្រូវបានគណនាថ្មី
- **ការតាមដានពេលវេលា** - ការគណនាពេលវេលាត្រូវបានអាប់ដេត
- **ការជាវ** - ការជូនដំណឹងពេលវេលាច réel ត្រូវបានផ្ញើទៅកាន់អតិថិជនដែលភ្ជាប់
- **Webhook** - Webhook សម្រាប់ការបញ្ចូលត្រូវបានចាប់ផ្តើមជាមួយព្រឹត្តិការណ៍ការលុប

## ការឆ្លើយតបកំហុស

### វាលផ្ទាល់ខ្លួនមិនបានរកឃើញ
```json
{
  "errors": [{
    "message": "Custom field was not found.",
    "extensions": {
      "code": "CUSTOM_FIELD_NOT_FOUND"
    }
  }]
}
```

### អនុញ្ញាតមិនគ្រប់គ្រាន់
```json
{
  "errors": [{
    "message": "You don't have permission to perform this action",
    "extensions": {
      "code": "FORBIDDEN"
    }
  }]
}
```


## កំណត់ចំណាំសំខាន់

### ការលុបថេរ
- **មិនអាចត្រឡប់មកវិញ** - វាលផ្ទាល់ខ្លួនដែលត្រូវបានលុបមិនអាចត្រឡប់មកវិញបាន
- **ការបាត់បង់ទិន្នន័យ** - តម្លៃវាលទាំងអស់នៅក្នុងកំណត់ត្រាទាំងអស់ត្រូវបានលុបចេញយ៉ាងថេរ
- **ផលប៉ះពាល់ភ្លាមៗ** - ការផ្លាស់ប្តូរនឹងមានផលប៉ះពាល់ភ្លាមៗនៅក្នុងអ្នកប្រើគម្រោងទាំងអស់

### ការពិចារណាអំពីសមត្ថភាព
- **គម្រោងធំ** - ការលុបអាចយឺតជាងនេះនៅក្នុងគម្រោងដែលមានកំណត់ត្រាច្រើន
- **ការគណនារូបមន្តឡើងវិញ** - គម្រោងដែលមានរូបមន្តស្មុគស្មាញអាចប្រឈមមុខនឹងការពន្យារពេលខ្លី
- **ការអាប់ដេតក្រាហ្វិក** - ក្រាហ្វិកផ្ទាំងគ្រប់គ្រងនឹងអាប់ដេតដើម្បីបង្ហាញពីការផ្លាស់ប្តូរ

### អនុវត្តន៍ល្អ
1. **បម្រុងទិន្នន័យ** - បញ្ចេញតម្លៃវាលសំខាន់មុនពេលលុប
2. **ផ្សព្វផ្សាយការផ្លាស់ប្តូរ** - ជូនដំណឹងដល់សមាជិកក្រុមមុនពេលលុបវាល
3. **ពិនិត្យអាស្រ័យភាព** - បញ្ជាក់ថាមិនមានការអូតូម៉ាស្យុងឬរូបមន្តណាមួយដែលអាស្រ័យលើវាល
4. **ពិនិត្យរបាយការណ៍** - អាប់ដេតរបាយការណ៍ណាមួយដែលយោងទៅកាន់វាលដែលត្រូវបានលុប

### ប្រតិបត្តិការដែលពាក់ព័ន្ធ
- ប្រើ [បញ្ជីវាលផ្ទាល់ខ្លួន](/api/custom-fields/list-custom-fields) ដើម្បីស្វែងរកអត្តសញ្ញាណវាល
- គិតពី [បង្កើតវាលផ្ទាល់ខ្លួន](/api/custom-fields/create-custom-fields) ដើម្បីបង្កើតវាលដូចគ្នា
- ពិនិត្យ [តម្លៃវាលផ្ទាល់ខ្លួន](/api/custom-fields/custom-field-values) ដើម្បីយល់ពីផលប៉ះពាល់ទិន្នន័យ

## ករណីប្រើទូទៅ

### លុបវាលដែលមិនបានប្រើ
```graphql
# First, list fields to identify unused ones
query ListCustomFields {
  customFields(projectId: "project_123") {
    id
    name
    type
    createdAt
    # Check usage in records
  }
}

# Then delete the unused field
mutation DeleteUnusedField {
  deleteCustomField(id: "field_to_remove")
}
```

### សម្អាតវាលសាកល្បង
```graphql
# Remove fields created during testing
mutation CleanupTestFields {
  field1: deleteCustomField(id: "test_field_1")
  field2: deleteCustomField(id: "test_field_2")
  field3: deleteCustomField(id: "test_field_3")
}
```

### ការប្រមូលផ្តុំវាលគម្រោង
```graphql
# When reorganizing field structure
mutation RestructureFields {
  # Delete old fields
  deleteOldPriorityField: deleteCustomField(id: "old_priority_field")
  deleteOldStatusField: deleteCustomField(id: "old_status_field")
  
  # Note: Create new fields in separate mutations
}
```

## ព្រឹត្តិការណ៍ Webhook

នៅពេលដែលវាលផ្ទាល់ខ្លួនត្រូវបានលុប ព្រឹត្តិការណ៍ webhook ខាងក្រោមត្រូវបានចាប់ផ្តើម:

```json
{
  "event": "CUSTOM_FIELD_DELETED",
  "projectId": "project_123",
  "timestamp": "2024-01-15T10:30:00Z",
  "previousValue": {
    "id": "field_abc123",
    "name": "Priority Level",
    "type": "SELECT_SINGLE",
    "projectId": "project_123"
  },
  "currentValue": null
}
```