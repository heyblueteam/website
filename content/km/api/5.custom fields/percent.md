---
title: វាលខុសគ្នា ភាគរយ
description: បង្កើតវាលភាគរយដើម្បីរក្សាទុកតម្លៃលេខជាមួយការដោះស្រាយសញ្ញា % និងការតាំងបង្ហាញដោយស្វ័យប្រវត្តិ
---

វាលខុសគ្នា ភាគរយអនុញ្ញាតឱ្យអ្នករក្សាទុកតម្លៃភាគរយសម្រាប់កំណត់ត្រា។ វាដោះស្រាយសញ្ញា % សម្រាប់ការបញ្ចូល និងការតាំងបង្ហាញដោយស្វ័យប្រវត្តិ ខណៈពេលដែលរក្សាទុកតម្លៃលេខដើមនៅក្នុង។ ល្អសម្រាប់អត្រាការបញ្ចប់ អត្រាជោគជ័យ ឬមាតិកាដែលផ្អែកលើភាគរយណាមួយ។

## ឧទាហរណ៍មូលដ្ឋាន

បង្កើតវាលភាគរយសាមញ្ញ៖

```graphql
mutation CreatePercentField {
  createCustomField(input: {
    name: "Completion Rate"
    type: PERCENT
  }) {
    id
    name
    type
  }
}
```

## ឧទាហរណ៍កម្រិតខ្ពស់

បង្កើតវាលភាគរយដែលមានការពិពណ៌នា៖

```graphql
mutation CreatePercentField {
  createCustomField(input: {
    name: "Success Rate"
    type: PERCENT
    description: "Percentage of successful outcomes for this process"
  }) {
    id
    name
    type
    description
  }
}
```

## ប៉ារ៉ាម៉ែត្រ​បញ្ចូល

### CreateCustomFieldInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `name` | String! | ✅ បាទ | ឈ្មោះបង្ហាញនៃវាលភាគរយ |
| `type` | CustomFieldType! | ✅ បាទ | ត្រូវតែជា `PERCENT` |
| `description` | String | មិន | អត្ថបទជំនួយដែលបង្ហាញទៅអ្នកប្រើ |

**កំណត់ចំណាំ**: បរិបទគម្រោងត្រូវបានកំណត់ដោយស្វ័យប្រវត្តិពីក្បាលសញ្ញាអត្តសញ្ញាណរបស់អ្នក។ មិនត្រូវការប៉ារ៉ាម៉ែត្រ `projectId` ទេ។

**កំណត់ចំណាំ**: វាល PERCENT មិនគាំទ្រការកំណត់ min/max ឬការតាំងសញ្ញាដូចជាវាល NUMBER ទេ។

## កំណត់តម្លៃភាគរយ

វាលភាគរយរក្សាទុកតម្លៃលេខជាមួយការដោះស្រាយសញ្ញា % ដោយស្វ័យប្រវត្តិ៖

### ជាមួយសញ្ញា ភាគរយ

```graphql
mutation SetPercentWithSymbol {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_456"
    number: 75.5
  }) {
    id
    customField {
      value  # Returns { number: 75.5 }
    }
  }
}
```

### តម្លៃលេខដោយផ្ទាល់

```graphql
mutation SetPercentNumeric {
  setTodoCustomField(input: {
    todoId: "todo_123"
    customFieldId: "field_456"
    number: 100
  }) {
    id
    customField {
      value  # Returns { number: 100.0 }
    }
  }
}
```

### ប៉ារ៉ាម៉ែត្រ SetTodoCustomFieldInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `todoId` | String! | ✅ បាទ | ID នៃកំណត់ត្រាដើម្បីធ្វើបច្ចុប្បន្នភាព |
| `customFieldId` | String! | ✅ បាទ | ID នៃវាលខុសគ្នា ភាគរយ |
| `number` | Float | មិន | តម្លៃភាគរយលេខ (ឧ. 75.5 សម្រាប់ 75.5%) |

## ការរក្សាទុក និងការតាំងបង្ហាញតម្លៃ

### របៀបរក្សាទុក
- **ការរក្សាទុកក្នុង**: តម្លៃលេខដើម (ឧ. 75.5)
- **មូលដ្ឋានទិន្នន័យ**: រក្សាទុកជាអត្ថបទ `Decimal` ក្នុងជួរ `number`
- **GraphQL**: ត្រឡប់មកវិញជាប្រភេទ `Float`

### របៀបតាំងបង្ហាញ
- **អន្តរកម្មអ្នកប្រើ**: កម្មវិធីអតិថិជនត្រូវតែបន្ថែមសញ្ញា % (ឧ. "75.5%")
- **ក្រាហ្វិក**: បង្ហាញជាមួយសញ្ញា % នៅពេលប្រភេទចេញជាភាគរយ
- **ការឆ្លើយតប API**: តម្លៃលេខដើមដោយគ្មានសញ្ញា % (ឧ. 75.5)

## បង្កើតកំណត់ត្រាជាមួយតម្លៃភាគរយ

នៅពេលបង្កើតកំណត់ត្រាថ្មីជាមួយតម្លៃភាគរយ៖

```graphql
mutation CreateRecordWithPercent {
  createTodo(input: {
    title: "Marketing Campaign"
    todoListId: "list_123"
    customFields: [{
      customFieldId: "success_rate_field_id"
      value: "85.5%"
    }]
  }) {
    id
    title
    customFields {
      id
      customField {
        name
        type
        value  # Percent is accessed here as { number: 85.5 }
      }
    }
  }
}
```

### របៀបបញ្ចូលដែលគាំទ្រ

| របៀប | ឧទាហរណ៍ | លទ្ធផល |
|--------|---------|---------|
| With % symbol | `"75.5%"` | Stored as 75.5 |
| Without % symbol | `"75.5"` | Stored as 75.5 |
| Integer percentage | `"100"` | Stored as 100.0 |
| Decimal percentage | `"33.333"` | Stored as 33.333 |

**កំណត់ចំណាំ**: សញ្ញា % ត្រូវបានដោះស្រាយដោយស្វ័យប្រវត្តិពីការបញ្ចូល និងត្រូវបានបន្ថែមវិញនៅពេលតាំងបង្ហាញ។

## សំណួរតម្លៃភាគរយ

នៅពេលសំណួរកំណត់ត្រាជាមួយវាលខុសគ្នា ភាគរយ អាចចូលដំណើរការតម្លៃតាមផ្លូវ `customField.value.number`:

```graphql
query GetRecordWithPercent {
  todo(id: "todo_123") {
    id
    title
    customFields {
      id
      customField {
        name
        type
        value  # For PERCENT type, contains { number: 75.5 }
      }
    }
  }
}
```

ការឆ្លើយតបនឹងរួមបញ្ចូលភាគរយជាតម្លៃដើម៖

```json
{
  "data": {
    "todo": {
      "customFields": [{
        "customField": {
          "name": "Completion Rate",
          "type": "PERCENT",
          "value": {
            "number": 75.5
          }
        }
      }]
    }
  }
}
```

## វាលចម្លើយ

### TodoCustomField Response

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `id` | ID! | អត្តសញ្ញាណឯកត្តសម្រាប់តម្លៃវាល |
| `customField` | CustomField! | ការកំណត់វាលខុសគ្នា (មានតម្លៃភាគរយ) |
| `todo` | Todo! | កំណត់ត្រាដែលតម្លៃនេះមានសិទ្ធិ |
| `createdAt` | DateTime! | ពេលវេលាដែលតម្លៃត្រូវបានបង្កើត |
| `updatedAt` | DateTime! | ពេលវេលាដែលតម្លៃត្រូវបានកែប្រែចុងក្រោយ |

**សំខាន់**: តម្លៃភាគរយត្រូវបានចូលដំណើរការតាមវាល `customField.value.number`។ សញ្ញា % មិនត្រូវបានបញ្ចូលក្នុងតម្លៃដែលរក្សាទុក ហើយត្រូវតែបន្ថែមដោយកម្មវិធីអតិថិជនសម្រាប់ការតាំងបង្ហាញ។

## ការការពារ និងសំណួរ

វាលភាគរយគាំទ្រការការពារដូចជាវាល NUMBER:

```graphql
query FilterByPercentRange {
  todos(filter: {
    customFields: [{
      customFieldId: "completion_rate_field_id"
      operator: GTE
      number: 80
    }]
  }) {
    id
    title
    customFields {
      number
    }
  }
}
```

### ប្រភេទប្រតិបត្តិការ

| ប្រតិបត្តិការ | ការពិពណ៌នា | ឧទាហរណ៍ |
|----------|-------------|---------|
| `EQ` | ស្មើនឹង | `percentage = 75` |
| `NE` | មិនស្មើនឹង | `percentage ≠ 75` |
| `GT` | ធំជាង | `percentage > 75` |
| `GTE` | ធំជាងឬស្មើ | `percentage ≥ 75` |
| `LT` | តិចជាង | `percentage < 75` |
| `LTE` | តិចជាងឬស្មើ | `percentage ≤ 75` |
| `IN` | តម្លៃនៅក្នុងបញ្ជី | `percentage in [50, 75, 100]` |
| `NIN` | តម្លៃមិននៅក្នុងបញ្ជី | `percentage not in [0, 25]` |
| `IS` | ពិនិត្យសម្រាប់ null ជាមួយ `values: null` | `percentage is null` |
| `NOT` | ពិនិត្យសម្រាប់មិនមែន null ជាមួយ `values: null` | `percentage is not null` |

### ការការពារប្រភេទ

សម្រាប់ការការពារប្រភេទ ប្រើប្រាស់ប្រតិបត្តិការ​ច្រើន៖

```graphql
query FilterHighPerformers {
  todos(filter: {
    customFields: [{
      customFieldId: "success_rate_field_id"
      operator: GTE
      number: 90
    }]
  }) {
    id
    title
    customFields {
      customField {
        value  # Returns { number: 95.5 } for example
      }
    }
  }
}
```

## ជួរតម្លៃភាគរយ

### ជួរធម្មតា

| ជួរ | ការពិពណ៌នា | ករណីប្រើ |
|-------|-------------|----------|
| `0-100` | ភាគរយស្តង់ដារ | Completion rates, success rates |
| `0-∞` | ភាគរយមិនមានកំណត់ | Growth rates, performance metrics |
| `-∞-∞` | តម្លៃណាមួយ | Change rates, variance |

### តម្លៃឧទាហរណ៍

| ការបញ្ចូល | រក្សាទុក | តាំងបង្ហាញ |
|-------|--------|---------|
| `"50%"` | `50.0` | `50%` |
| `"100"` | `100.0` | `100%` |
| `"150.5"` | `150.5` | `150.5%` |
| `"-25"` | `-25.0` | `-25%` |

## ការប្រមូលផ្តុំក្រាហ្វិក

វាលភាគរយគាំទ្រការប្រមូលផ្តុំក្នុងក្រាហ្វិកផ្ទាំង និងរបាយការណ៍។ មុខងារដែលអាចប្រើបានរួមមាន៖

- `AVERAGE` - តម្លៃភាគរយមធ្យម
- `COUNT` - ចំនួនកំណត់ត្រាដែលមានតម្លៃ
- `MIN` - តម្លៃភាគរយទាបបំផុត
- `MAX` - តម្លៃភាគរយខ្ពស់បំផុត 
- `SUM` - សរុបនៃតម្លៃភាគរយទាំងអស់

ការប្រមូលផ្តុំទាំងនេះអាចប្រើបាននៅពេលបង្កើតក្រាហ្វិក និងផ្ទាំង មិនមែននៅក្នុងសំណួរ GraphQL ដោយផ្ទាល់ទេ។

## អាជ្ញាប័ណ្ណដែលត្រូវការ

| សកម្មភាព | អាជ្ញាប័ណ្ណដែលត្រូវការ |
|--------|-------------------|
| Create percent field | `OWNER` or `ADMIN` role at project level |
| Update percent field | `OWNER` or `ADMIN` role at project level |
| Set percent value | Standard record edit permissions |
| View percent value | Standard record view permissions |
| Use chart aggregation | Standard chart viewing permissions |

## ការឆ្លើយតបកំហុស

### ទម្រង់ភាគរយមិនត្រឹមត្រូវ
```json
{
  "errors": [{
    "message": "Invalid percentage value",
    "extensions": {
      "code": "CUSTOM_FIELD_VALUE_PARSE_ERROR"
    }
  }]
}
```

### មិនមែនជាចំនួន
```json
{
  "errors": [{
    "message": "Value is not a valid number",
    "extensions": {
      "code": "CUSTOM_FIELD_VALUE_PARSE_ERROR"
    }
  }]
}
```

## អនុវត្តន៍ល្អ

### ការបញ្ចូលតម្លៃ
- អនុញ្ញាតឱ្យអ្នកប្រើបញ្ចូលជាមួយឬគ្មានសញ្ញា %
- វាយតម្លៃជួរដែលសមរម្យសម្រាប់ករណីប្រើរបស់អ្នក
- ផ្តល់បរិបទច្បាស់អំពីអ្វីដែល 100% តំណាងឱ្យ

### ការតាំងបង្ហាញ
- តែងតែបង្ហាញសញ្ញា % ក្នុងអន្តរកម្មអ្នកប្រើ
- ប្រើកម្រិតទសភាគដែលសមស្រប
- ពិចារណាពណ៌កូដសម្រាប់ជួរ (ក្រហម/លឿង/ក្រហម)

### ការបកស្រាយទិន្នន័យ
- ឯកសារអ្វីដែល 100% មានន័យក្នុងបរិបទរបស់អ្នក
- ដោះស្រាយតម្លៃលើ 100% ឱ្យសមស្រប
- ពិចារណាថាតម្លៃអវិជ្ជមានគឺមានសុពលភាពឬអត់

## ករណីប្រើទូទៅ

1. **ការគ្រប់គ្រងគម្រោង**
   - អត្រាការបញ្ចប់ភារកិច្ច
   - ការរីកចម្រើនគម្រោង
   - ការប្រើប្រាស់ធនធាន
   - ល្បឿនស្ព្រីន

2. **ការតាមដានសមត្ថភាព**
   - អត្រាជោគជ័យ
   - អត្រាកំហុស
   - មាតិកាអត្រាសមត្ថភាព
   - ពិន្ទុគុណភាព

3. **មាតិកាហិរញ្ញវត្ថុ**
   - អត្រាការលូតលាស់
   - អត្រាផ្ទៃចំណេញ
   - ចំនួនបញ្ចុះតម្លៃ
   - ភាគរយនៃការផ្លាស់ប្តូរ

4. **វិភាគ**
   - អត្រាបំលែង
   - អត្រាប៉ះពាល់
   - មាតិកាការចូលរួម
   - សញ្ញាសមត្ថភាព

## លក្ខណៈសមាសភាព

### ជាមួយមធ្យោបាយ
- យោងទៅកាន់វាល PERCENT ក្នុងការគណនា
- ការតាំងសញ្ញា % ដោយស្វ័យប្រវត្តិនៅក្នុងលទ្ធផលមធ្យោបាយ
- បញ្ចូលជាមួយវាលលេខផ្សេងទៀត

### ជាមួយការប្រព្រឹត្ត
- បញ្ចូនសកម្មភាពដោយផ្អែកលើកម្រិតភាគរយ
- ផ្ញើការជូនដំណឹងសម្រាប់ភាគរយសំខាន់
- ធ្វើបច្ចុប្បន្នភាពស្ថានភាពដោយផ្អែកលើអត្រាការបញ្ចប់

### ជាមួយការស្វែងរក
- ប្រមូលភាគរយពីកំណត់ត្រាដែលទាក់ទង
- គណនាអត្រាជោគជ័យមធ្យម
- ស្វែងរកធាតុដែលមានសមត្ថភាពខ្ពស់/ទាបបំផុត

### ជាមួយក្រាហ្វិក
- បង្កើតការតាំងបង្ហាញដែលផ្អែកលើភាគរយ
- តាមដានការរីកចម្រើនក្នុងអំឡុងពេល
- ប្រៀបធៀបមាតិកាសមត្ថភាព

## ការប្រៀបធៀបពីវាល NUMBER

### អ្វីដែលខុសគ្នា
- **ការដោះស្រាយបញ្ចូល**: ដោះស្រាយសញ្ញា % ដោយស្វ័យប្រវត្តិ
- **ការតាំងបង្ហាញ**: បន្ថែមសញ្ញា % ដោយស្វ័យប្រវត្តិ
- **ការកំណត់**: គ្មានការផ្ទៀងផ្ទាត់ min/max
- **ការតាំងសញ្ញា**: គ្មានការគាំទ្រការតាំងសញ្ញា

### អ្វីដែលដូចគ្នា
- **ការរក្សាទុក**: ជួរដូចគ្នានិងប្រភេទមូលដ្ឋានទិន្នន័យ
- **ការការពារ**: ប្រតិបត្តិការសំណួរដូចគ្នា
- **ការប្រមូលផ្តុំ**: មុខងារប្រមូលផ្តុំដូចគ្នា
- **អាជ្ញាប័ណ្ណ**: គំរូអាជ្ញាប័ណ្ណដូចគ្នា

## ការកំណត់

- គ្មានការកំណត់តម្លៃ min/max
- គ្មានជម្រើសការតាំងសញ្ញា
- គ្មានការផ្ទៀងផ្ទាត់ដោយស្វ័យប្រវត្តិពីជួរ 0-100%
- គ្មានការបម្លែងរវាងទម្រង់ភាគរយ (ឧ. 0.75 ↔ 75%)
- តម្លៃលើ 100% គឺអនុញ្ញាត

## ឯកសារដែលទាក់ទង

- [ការពិពណ៌នាវាលខុសគ្នា](/api/custom-fields/list-custom-fields) - គំនិតទូទៅអំពីវាលខុសគ្នា
- [វាលខុសគ្នា លេខ](/api/custom-fields/number) - សម្រាប់តម្លៃលេខដើម
- [API ការប្រព្រឹត្ត](/api/automations/index) - បង្កើតការប្រព្រឹត្តដែលផ្អែកលើភាគរយ