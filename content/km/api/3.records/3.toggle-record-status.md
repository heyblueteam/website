---
title: ប្ដូរប្រភេទកំណត់ត្រា
description: ប្ដូរប្រភេទកំណត់ត្រារវាងស្ថានភាពបានបញ្ចប់ និងមិនទាន់បានបញ្ចប់ជាមួយនឹងការប្រែប្រួលតែមួយ។
---

## ប្ដូរប្រភេទកំណត់ត្រា

ការប្រែប្រួល `updateTodoDoneStatus` ផ្តល់នូវវិធីសាស្ត្រងាយស្រួលក្នុងការប្ដូរប្រភេទស្ថានភាពបញ្ចប់នៃកំណត់ត្រា។ ប្រសិនបើកំណត់ត្រាមិនទាន់បានបញ្ចប់ វានឹងសម្គាល់វាថាបានបញ្ចប់។ ប្រសិនបើវាបានបញ្ចប់ វានឹងសម្គាល់វាថាមិនទាន់បានបញ្ចប់។

### ឧទាហរណ៍

```graphql
mutation ToggleRecordStatus {
  updateTodoDoneStatus(todoId: "todo_123") {
    id
    title
    done
    updatedAt
  }
}
```

## ប៉ារ៉ាម៉ែត្រ Input

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការទេ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `todoId` | String! | ✅ បាទ | អត្តសញ្ញាណនៃកំណត់ត្រាដើម្បីប្ដូរ |

## ការឆ្លើយតប

ត្រឡប់មកវិញនូវវត្ថុ `Todo` ដែលបានធ្វើអាប់ដេតជាមួយនឹងវាលទាំងអស់ដែលអាចប្រើបាន។ វាលដែលប្រើប្រាស់ទូទៅរួមមាន:

- `id` - អត្តសញ្ញាណកំណត់ត្រា
- `title` - ចំណងជើងកំណត់ត្រា
- `done` - ស្ថានភាពបញ្ចប់ថ្មី (ពិត/មិនពិត)
- `updatedAt` - ម៉ោងនៃការធ្វើអាប់ដេត
- វាលផ្សេងទៀតទាំងអស់ [Todo fields](/api/records/list-records#todo-fields) មានស្រាប់

## អាជ្ញាប័ណ្ណដែលត្រូវការ

| កម្រិតចូលប្រើ | អាចប្ដូរប្រភេទស្ថានភាព |
|--------------|-------------------|
| `OWNER` | ✅ បាទ |
| `ADMIN` | ✅ បាទ |
| `MEMBER` | ✅ បាទ |
| `CLIENT` | ✅ បាទ |
| `COMMENT_ONLY` | ❌ ទេ |
| `VIEW_ONLY` | ❌ ទេ |

**កំណត់ចំណាំ**: តួនាទីផ្ទាល់ខ្លួនដែលមាន `allowMarkRecordsAsDone: false` នឹងត្រូវបានបិទពីការប្រើប្រាស់ការប្រែប្រួលនេះ។

## ការឆ្លើយតបកំហុស

### TodoNotFoundError
```json
{
  "errors": [{
    "message": "Todo was not found.",
    "extensions": {
      "code": "TODO_NOT_FOUND"
    }
  }]
}
```

### UnauthorizedError
```json
{
  "errors": [{
    "message": "You are not authorized.",
    "extensions": {
      "code": "UNAUTHORIZED"
    }
  }]
}
```

## កំណត់ចំណាំសំខាន់

### ផលប៉ះពាល់
ការប្ដូរប្រភេទស្ថានភាពនៃកំណត់ត្រាបង្កើតសកម្មភាពស្វ័យប្រវត្តិជាច្រើន:

- **កំណត់ហេតុសកម្មភាព**: បង្កើតការបញ្ចូលសម្រាប់ MARK_AS_COMPLETE ឬ MARK_AS_INCOMPLETE
- **Webhooks**: ផ្ញើការជូនដំណឹងទៅកាន់ចំណុចបញ្ចូល webhook ដែលបានកំណត់ជាមួយស្ថានភាពមុន/បន្ទាប់
- **Automations**: បង្កើតច្បាប់ស្វ័យប្រវត្តិ TODO_MARKED_AS_COMPLETE ឬ TODO_MARKED_AS_INCOMPLETE
- **ការជូនដំណឹងពេលវេលាពិត**: ផ្ញើការអាប់ដេតទៅកាន់អ្នកប្រើប្រាស់ដែលពាក់ព័ន្ធ (ប្រសិនបើបានកំណត់)
- **ការបោះពុម្ពពេលវេលាពិត**: បោះពុម្ពការអាប់ដេត todo ទៅកាន់អតិថិជនដែលភ្ជាប់
- **ការតាមដានពេលវេលា**: អាប់ដេតវាលកំណត់ពេលវេលាដោយស្វ័យប្រវត្តិ
- **សន្ទស្សន៍ស្វែងរក**: អាប់ដេតសន្ទស្សន៍ស្វែងរកសម្រាប់ការស្វែងរកកាន់តែងាយស្រួល
- **វិភាគ**: អាប់ដេតតារាង និងរបាយការណ៍
- **អាផីសកម្មភាព**: កំណត់ត្រាបានបញ្ចប់បង្ហាញនៅក្នុងអាផីសកម្មភាពក្រុមហ៊ុន

### គន្លឹះការប្រើប្រាស់
- ការប្រែប្រួលនេះគឺជាអត្តសញ្ញាណ - ការហៅវាពីរដងនឹងត្រឡប់កំណត់ត្រាទៅស្ថានភាពដើមរបស់វា
- ការប្រតិបត្តិការនេះគឺជាអាតូម - ឬជោគជ័យពេញលេញ ឬបរាជ័យដោយគ្មានការផ្លាស់ប្តូរ
- តួនាទីផ្ទាល់ខ្លួនអាចកំណត់សកម្មភាពនេះតាមរយៈអាជ្ញាប័ណ្ណ `allowMarkRecordsAsDone`

### ចំណុចចូលដែលពាក់ព័ន្ធ
- **បញ្ជីកំណត់ត្រា**: ប្រើ `todoQueries.todos` ដើម្បីសួរ និងច្រោះកំណត់ត្រា
- **ធ្វើអាប់ដេតជាផ្នែកធំ**: ប្រើ `updateTodos` ដើម្បីកែប្រែកំណត់ត្រាច្រើននៅក្នុងពេលតែមួយ