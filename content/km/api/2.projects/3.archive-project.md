---
title: បង្កើតឯកសារ
description: របៀបបង្កើត និងលុបឯកសារនៅក្នុង Blue។
---

## បង្កើតឯកសារ

ការបង្កើតឯកសារមានប្រយោជន៍នៅពេលដែលអ្នកចង់លាក់ឯកសារមួយជាបណ្តោះអាសន្នដោយមិនលុបវាឡើយ។ ឯកសារដែលបានបង្កើត៖
- ត្រូវបានលាក់ពីបញ្ជីឯកសារដែលសកម្ម
- មិនអាចកែសម្រួល ឬកែប្រែបាន
- អាចមើលបានដោយសមាជិកឯកសារ
- អាចត្រូវបានលុបបង្កើតឡើងវិញនៅពេលណាមួយ

### ឧទាហរណ៍មូលដ្ឋាន

```graphql
mutation {
  archiveProject(id: "project-123")
}
```

### ការប្រើប្រាស់ក្បាលបរិបទឯកសារ

```graphql
# With header: x-bloo-project-id: project-123
mutation {
  archiveProject
}
```

### ជាមួយអថេរ

```graphql
mutation ArchiveProject($projectId: String!) {
  archiveProject(id: $projectId)
}
```

អថេរ៖
```json
{
  "projectId": "abc123-project-id"
}
```

## លុបឯកសារ

ដើម្បីស្តារឯកសារដែលបានបង្កើតឡើងវិញទៅស្ថានភាពសកម្ម៖

```graphql
mutation {
  unarchiveProject(id: "project-123")
}
```

## ប៉ារ៉ាម៉ែត្រ Mutation

### archiveProject

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `id` | String | មិន | លេខសម្គាល់ឯកសារដែលត្រូវបង្កើត។ ប្រសិនបើមិនបានផ្តល់នោះ វានឹងប្រើឯកសារពីក្បាលបរិបទ។ |  |

### unarchiveProject

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `id` | String | មិន | លេខសម្គាល់ឯកសារដែលត្រូវលុបបង្កើតឡើងវិញ។ ប្រសិនបើមិនបានផ្តល់នោះ វានឹងប្រើឯកសារពីក្បាលបរិបទ។ |  |

## ការឆ្លើយតប

Mutation ទាំងពីរនេះត្រឡប់មកវិញ Boolean ដែលបង្ហាញពីភាពជោគជ័យ៖

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `Boolean` | Boolean! | ត្រឡប់មកវិញ `true` នៅពេលដែលប្រតិបត្តិការជោគជ័យ |  |

## អាជ្ញាប័ណ្ណដែលត្រូវការ

| តួនាទីឯកសារ | អាចបង្កើត/លុបបង្កើតឡើងវិញ |
|--------------|---------------------|
| `OWNER` | ✅ បាទ |  |
| `ADMIN` | ✅ បាទ |  |
| `MEMBER` | ❌ ទេ |  |
| `CLIENT` | ❌ ទេ |  |
| `COMMENT_ONLY` | ❌ ទេ |  |
| `VIEW_ONLY` | ❌ ទេ |  |

## ការដោះស្រាយលេខសម្គាល់ឯកសារ

លេខសម្គាល់ឯកសារអាចត្រូវបានបញ្ជាក់នៅក្នុងរបៀបពីរបែប៖

1. **ជាប៉ារ៉ាម៉ែត្រ** (បានណែនាំ):
   ```graphql
   archiveProject(id: "project-123")
   ```

2. **តាមក្បាល HTTP**:
   - `x-bloo-project-id: project-123` (បានណែនាំ)
   - `x-project-id: project-123` (បានលុបចេញ)

ប្រសិនបើមានការផ្តល់ទាំងពីរនេះ ប៉ារ៉ាម៉ែត្រនឹងមានអាទិភាព។

## ការឆ្លើយតបកំហុស

### មិនមានឯកសារទេ
```json
{
  "errors": [{
    "message": "Project was not found.",
    "extensions": {
      "code": "PROJECT_NOT_FOUND"
    }
  }]
}
```

### អាជ្ញាប័ណ្ណមិនគ្រប់គ្រាន់
```json
{
  "errors": [{
    "message": "You don't have permission to archive this project",
    "extensions": {
      "code": "UNAUTHORIZED"
    }
  }]
}
```

## អ្វីកើតឡើងនៅពេលបង្កើត

នៅពេលអ្នកបង្កើតឯកសារមួយ៖

1. **ស្ថានភាពឯកសារ**: ឯកសារត្រូវបានសម្គាល់ថាបង្កើតឡើង
2. **ការមើលឃើញ**: លាក់ពីបញ្ជីឯកសារដែលសកម្ម
3. **គំរូ**: ប្រសិនបើឯកសារនេះជាគំរូ វានឹងបាត់បង់ស្ថានភាពគំរូ
4. **ទីតាំង**: ផ្លាស់ទីទៅចុងបញ្ជីឯកសាររបស់អ្នកប្រើ
5. **ថត**: ត្រូវបានលុបចេញពីថតឯកសារណាមួយ
6. **កំណត់ហេតុសកម្មភាព**: សកម្មភាពបង្កើតត្រូវបានកត់ត្រា
7. **ការអាប់ដេតពេលពិត**: អ្នកប្រើដែលភ្ជាប់ទាំងអស់ត្រូវបានជូនដំណឹង

## កំណត់ចំណាំសំខាន់

- **ប្រតិបត្តិការ Idempotent**: ការបង្កើតឯកសារដែលបានបង្កើតឡើងវិញត្រឡប់មកវិញ `true` ដោយគ្មានការផ្លាស់ប្តូរ
- **អាចត្រឡប់មកវិញ**: ប្រើ `unarchiveProject` ដើម្បីស្តារឯកសារ
- **ការចូលមើល**: ឯកសារដែលបានបង្កើតនៅតែអាចមើលបានដោយសមាជិកដែលមានស្រាប់
- **គ្មានការបាត់បង់ទិន្នន័យ**: ការបង្កើតរក្សាទុកទិន្នន័យទាំងអស់របស់ឯកសារ ខុសពីការលុប
- **ជាជម្រើសដល់ការលុប**: គិតពីការបង្កើតជំនួសការលុបសម្រាប់ការលុបបណ្តោះអាសន្ន