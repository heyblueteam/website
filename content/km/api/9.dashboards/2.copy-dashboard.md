---
title: ចម្លងផ្ទាំងគ្រប់គ្រង
description: បង្កើតចម្លងពេញលេញនៃផ្ទាំងគ្រប់គ្រងដែលមានស្រាប់ រួមមានគ្រប់ក្រាហ្វិក ការបែងចែក និងអាជ្ញាប័ណ្ណ
---

ការប្រែប្រួល `copyDashboard` បង្កើតចម្លងពេញលេញនៃផ្ទាំងគ្រប់គ្រងដែលមានស្រាប់ រួមមានគ្រប់ក្រាហ្វិក ការបែងចែកក្រាហ្វិក តម្លៃ និងអាជ្ញាប័ណ្ណអ្នកប្រើ។ ប្រតិបត្តិការនេះអនុវត្តចម្លងជ្រៅជាមួយអត្តសញ្ញាណឯកត្តសម្រាប់ធាតុដែលបានចម្លងទាំងអស់។

## ឧទាហរណ៍មូលដ្ឋាន

បង្កើតចម្លងនៃផ្ទាំងគ្រប់គ្រងជាមួយចំណងជើងផ្ទាល់ខ្លួន៖

```graphql
mutation CopyDashboard {
  copyDashboard(input: {
    dashboardId: "dashboard_123"
    title: "Q4 Sales Dashboard Copy"
  }) {
    id
    title
    createdAt
    charts {
      id
      title
      chartType
    }
    dashboardUsers {
      id
      role
      user {
        id
        email
      }
    }
  }
}
```

## ឧទាហរណ៍កម្រិតខ្ពស់

ចម្លងផ្ទាំងគ្រប់គ្រងដោយមិនបញ្ជាក់ចំណងជើង (បន្ថែម "(ចម្លង)" យ៉ាងស្វ័យប្រវត្តិ)៖

```graphql
mutation CopyDashboardAuto {
  copyDashboard(input: {
    dashboardId: "dashboard_456"
  }) {
    id
    uid
    title
    createdBy {
      id
      email
    }
    company {
      id
      name
    }
    charts {
      id
      title
      chartType
      position
      chartSegments {
        id
        title
        formula
        chartValues {
          id
          value
        }
      }
    }
    dashboardUsers {
      id
      role
      user {
        id
        email
        fullName
      }
    }
    createdAt
    updatedAt
  }
}
```

## ប៉ារ៉ាម៉ែត្រ​ចូល

### CopyDashboardInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `dashboardId` | String! | ✅ បាទ | ID នៃផ្ទាំងគ្រប់គ្រងដែលត្រូវចម្លង |  |
| `title` | String | មិន | ចំណងជើងផ្ទាល់ខ្លួនសម្រាប់ផ្ទាំងគ្រប់គ្រងដែលបានចម្លង។ ប្រសិនបើមិនបានផ្តល់ អាចបន្ថែម "(ចម្លង)" ទៅចំណងជើងដើម |  |

## វាលឆ្លើយតប

### Dashboard Response

ការប្រែប្រួលត្រឡប់មកវិញជាអង្គភាព `Dashboard` ពេញលេញជាមួយទិន្នន័យដែលបានចម្លងទាំងអស់៖

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `id` | String! | អត្តសញ្ញាណឯកត្តសម្រាប់ផ្ទាំងគ្រប់គ្រងថ្មី |  |
| `uid` | String! | អត្តសញ្ញាណឯកត្តសម្រាប់ការនាំចូល URL |  |
| `title` | String! | ចំណងជើងនៃផ្ទាំងគ្រប់គ្រងដែលបានចម្លង |  |
| `createdBy` | User! | អ្នកប្រើដែលបានអនុវត្តប្រតិបត្តិការចម្លង |  |
| `company` | Company! | ក្រុមហ៊ុនដែលផ្ទាំងគ្រប់គ្រងនេះស្ថិតក្នុង (ដូចជាដើម) |  |
| `project` | Project | ការតភ្ជាប់គម្រោង (ដូចជាដើម ប្រសិនបើមាន) |  |
| `charts` | [Chart!]! | គ្រប់ក្រាហ្វិកដែលបានចម្លងពីផ្ទាំងគ្រប់គ្រងដើម |  |
| `dashboardUsers` | [DashboardUser!]! | អាជ្ញាប័ណ្ណអ្នកប្រើដែលបានចម្លងពីដើម (មិនរាប់អ្នកចម្លង) |  |
| `createdAt` | DateTime! | ពេលវេលាដែលបានបង្កើតចម្លង |  |
| `updatedAt` | DateTime! | ពេលវេលាដែលបានកែប្រែចម្លងចុងក្រោយ |  |

## អាកប្បកិរិយាចម្លងផ្ទាំងគ្រប់គ្រង

### ដំណើរការចម្លងជ្រៅ

ប្រតិបត្តិការនេះ `copyDashboard` អនុវត្តចម្លងជ្រៅពេញលេញរួមមាន៖

1. **Metadata ផ្ទាំងគ្រប់គ្រង**
   - បង្កើតផ្ទាំងគ្រប់គ្រងថ្មីដែលមាន ID និង UID ថ្មី
   - ចម្លងចំណងជើង (ឬបន្ថែម "(ចម្លង)" ប្រសិនបើមិនមានចំណងជើងផ្ទាល់ខ្លួន)
   - កំណត់អ្នកបង្កើតទៅអ្នកដែលអនុវត្តចម្លង
   - រក្សាទុកការតភ្ជាប់ក្រុមហ៊ុន និងគម្រោង

2. **ក្រាហ្វិក និងរចនាសម្ព័ន្ធ**
   - ចម្លងគ្រប់ក្រាហ្វិកជាមួយ ID និង UID ថ្មី
   - រក្សាទុកប្រភេទក្រាហ្វិក ចំណងជើង និងទីតាំង
   - រក្សាទុកការកំណត់ និង metadata នៃក្រាហ្វិក

3. **ការបែងចែកក្រាហ្វិក និងតម្លៃ**
   - ចម្លងគ្រប់ការបែងចែកក្រាហ្វិកជាមួយ ID និង UID ថ្មី
   - រក្សាទុកចំណងជើង ការគណនា និងការកំណត់
   - ចម្លងគ្រប់តម្លៃក្រាហ្វិក និងទិន្នន័យរបស់ពួកវា

4. **ការយោងទៅកាន់ការគណនា**
   - ធ្វើបច្ចុប្បន្នភាពការយោងទៅកាន់ការគណនាដើម្បីប្រើ UID ថ្មី
   - រក្សាទុកលូកិច្ច និងការគណនា
   - ធានាថាការគណនាដែលបានចម្លងយោងទៅកាន់ទិន្នន័យដែលបានចម្លង

5. **អាជ្ញាប័ណ្ណអ្នកប្រើ**
   - ចម្លងគ្រប់អាជ្ញាប័ណ្ណអ្នកប្រើផ្ទាំងគ្រប់គ្រងពីដើម
   - មិនរាប់អ្នកចម្លង (ពួកគេក្លាយជាអ្នកបង្កើត)
   - រក្សាទុកការបែងចែកតួនាទី VIEWER និង EDITOR

### ប្រតិបត្តិការបន្ទាប់ពីចម្លង

បន្ទាប់ពីបង្កើតចម្លង ប្រព័ន្ធនឹងអនុវត្តដោយស្វ័យប្រវត្តិ៖
- បោះពុម្ពព្រឹត្តិការណ៍បង្កើតផ្ទាំងគ្រប់គ្រងសម្រាប់ការអាប់ដេតពេលវេលាពិត
- បង្កើតការគណនាឡើងវិញនៃលទ្ធផលក្រាហ្វិកសម្រាប់គ្រប់ក្រាហ្វិកដែលបានចម្លង
- ធ្វើបច្ចុប្បន្នភាពប្រព័ន្ធឬការតភ្ជាប់ណាមួយដែលពាក់ព័ន្ធ

## អាជ្ញាប័ណ្ណដែលត្រូវការជាក់លាក់

ការចម្លងផ្ទាំងគ្រប់គ្រងត្រូវការអាជ្ញាប័ណ្ណជាក់លាក់៖

| តួនាទី | អាចចម្លងផ្ទាំងគ្រប់គ្រង |
|------|-------------------|
| Dashboard Creator | ✅ បាទ |  |
| Dashboard EDITOR | ✅ បាទ |  |
| Dashboard VIEWER | ❌ ទេ |  |
| អ្នកប្រើដែលមិនមានផ្ទាំងគ្រប់គ្រង | ❌ ទេ |  |

**ការត្រួតពិនិត្យអាជ្ញាប័ណ្ណ**: អ្នកប្រើត្រូវតែមានការចូលដំណើរការជា EDITOR ទៅផ្ទាំងគ្រប់គ្រងដើមតាមរយៈ៖
- ជាអ្នកបង្កើតផ្ទាំងគ្រប់គ្រងដើម
- មានការបែងចែកតួនាទី EDITOR ជាក់លាក់លើផ្ទាំងគ្រប់គ្រង

## ការឆ្លើយតបកំហុស

### ផ្ទាំងគ្រប់គ្រងមិនឃើញ

```json
{
  "errors": [{
    "message": "Dashboard was not found.",
    "extensions": {
      "code": "DASHBOARD_NOT_FOUND"
    }
  }]
}
```

### អាជ្ញាប័ណ្ណមិនគ្រប់គ្រាន់

```json
{
  "errors": [{
    "message": "You don't have permission to access this dashboard",
    "extensions": {
      "code": "FORBIDDEN"
    }
  }]
}
```

### ប៉ារ៉ាម៉ែត្រមិនត្រឹមត្រូវ

```json
{
  "errors": [{
    "message": "Dashboard ID is required",
    "extensions": {
      "code": "VALIDATION_ERROR"
    }
  }]
}
```

## ករណីប្រើ

### 1. ផ្ទាំងគ្រប់គ្រងគំរូ
បង្កើតផ្ទាំងគ្រប់គ្រងគំរូដែលអាចចម្លងសម្រាប់គម្រោងឬក្រុមថ្មីៗ៖

```graphql
mutation CreateProjectDashboard {
  copyDashboard(input: {
    dashboardId: "template_dashboard_id"
    title: "Project Alpha - Sales Dashboard"
  }) {
    id
    title
  }
}
```

### 2. ការបម្រុងទុក និងការបង្កើតជំនាន់
បង្កើតការបម្រុងទុកមុនពេលធ្វើការកែប្រែយ៉ាងសំខាន់៖

```graphql
mutation BackupDashboard {
  copyDashboard(input: {
    dashboardId: "production_dashboard"
    title: "Production Dashboard - Backup 2024-01-15"
  }) {
    id
    title
    createdAt
  }
}
```

### 3. ការចែករំលែកអន្តរគមន៍
ចម្លងផ្ទាំងគ្រប់គ្រងរវាងក្រុមក្នុងwhileរក្សាទុករចនាសម្ព័ន្ធទិន្នន័យ៖

```graphql
mutation ShareDashboardWithTeam {
  copyDashboard(input: {
    dashboardId: "marketing_dashboard"
    title: "Marketing Dashboard - Sales Team Copy"
  }) {
    id
    title
    dashboardUsers {
      role
      user {
        email
      }
    }
  }
}
```

## អនុស្សាវរីយ៍ល្អ

### ច្បាប់ឈ្មោះ
- ប្រើចំណងជើងដែលពិពណ៌នាដែលបង្ហាញពីគោលបំណងនៃចម្លង
- រួមបញ្ចូលឈ្មោះក្រុម ថ្ងៃខែ ឬលេខជំនាន់សម្រាប់ការបញ្ជាក់
- ជៀសវាងឈ្មោះទូទៅដូចជា "ចម្លង" ឬ "ផ្ទាំងគ្រប់គ្រងថ្មី"

### ការគ្រប់គ្រងអាជ្ញាប័ណ្ណ
- ពិនិត្យអាជ្ញាប័ណ្ណផ្ទាំងគ្រប់គ្រងដែលបានចម្លងបន្ទាប់ពីបង្កើត
- បន្ថែមឬលុបអ្នកប្រើតាមដែលត្រូវការសម្រាប់ករណីប្រើជាក់លាក់
- ពិចារណាថាតើអ្នកមើលត្រូវការក្លាយជាអ្នកកែប្រែលើចម្លងឬអត់

### សុវត្ថិភាពទិន្នន័យ
- បញ្ជាក់ថាការគណនានិងការគណនាធ្វើការបានត្រឹមត្រូវបន្ទាប់ពីចម្លង
- ពិនិត្យថាដើមទិន្នន័យក្រាហ្វិកមានសមត្ថភាពសម្រាប់បរិបទថ្មី
- សាកល្បងរាយការណ៍ឬការតភ្ជាប់ស្វ័យប្រវត្តិណាមួយ

## ការពិចារណាអំពីសមត្ថភាព

- ការចម្លងផ្ទាំងគ្រប់គ្រងធំៗដែលមានក្រាហ្វិកច្រើនអាចចំណាយពេលប៉ុន្មានវិនាទី
- ការគណនាឡើងវិញនៃក្រាហ្វិកកើតឡើងដោយស្វ័យប្រវត្តិបន្ទាប់ពីចម្លង
- ពិចារណាចម្លងនៅពេលដែលមិនមែនជាពេលវេលាធ្វើការសម្រាប់ផ្ទាំងគ្រប់គ្រងធំៗ
- ត្រួតពិនិត្យធនធានប្រព័ន្ធនៅពេលចម្លងផ្ទាំងគ្រប់គ្រងច្រើននៅក្នុងពេលតែមួយ

## ការកំណត់

- មិនអាចចម្លងផ្ទាំងគ្រប់គ្រងឆ្លងកាត់ក្រុមហ៊ុនផ្សេងៗ
- ការយោងទៅកាន់ការគណនាមានកំណត់សម្រាប់ទិន្នន័យនៅក្នុងក្រុមហ៊ុនដូចគ្នា
- ការតភ្ជាប់ខាងក្រៅខ្លះអាចត្រូវការការកំណត់ឡើងវិញ
- អាជ្ញាប័ណ្ណឬតួនាទីផ្ទាល់ខ្លួនអាចត្រូវការការកែប្រែដោយដៃ
- ទិន្នន័យប្រវត្តិសាស្ត្រ និងវិភាគមិនត្រូវបានរក្សាទុកនៅក្នុងចម្លង

## ឯកសារដែលពាក់ព័ន្ធ

- [សង្ខេបផ្ទាំងគ្រប់គ្រង](/api/9.dashboards/1.index) - គំនិតទូទៅអំពីផ្ទាំងគ្រប់គ្រង
- [ប្តូរឈ្មោះផ្ទាំងគ្រប់គ្រង](/api/9.dashboards/3.rename-dashboard) - ផ្លាស់ប្តូរចំណងជើងផ្ទាំងគ្រប់គ្រង
- [អ្នកប្រើផ្ទាំងគ្រប់គ្រង](/api/dashboard-users) - គ្រប់គ្រងអាជ្ញាប័ណ្ណផ្ទាំងគ្រប់គ្រង
- [API ក្រាហ្វិក](/api/charts) - ធ្វើការជាមួយក្រាហ្វិកតែមួយ