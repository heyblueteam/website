---
title: តួនាទីផ្ទាល់ខ្លួន
description: ទាញយក បង្កើត កែប្រែ និងលុបតួនាទីអ្នកប្រើផ្ទាល់ខ្លួនជាមួយអាជ្ញាប័ណ្ណលម្អិត។
---

## តួនាទីផ្ទាល់ខ្លួន

តួនាទីផ្ទាល់ខ្លួននៅក្នុង Blue អនុញ្ញាតឱ្យអ្នកកំណត់សំណុំអាជ្ញាប័ណ្ណដែលច្បាស់លាស់ដែលសមស្របនឹងតម្រូវការរបស់ក្រុមរបស់អ្នក។ លើសពីកម្រិតចូលប្រើស្តង់ដារ (OWNER, ADMIN, MEMBER, ល។) តួនាទីផ្ទាល់ខ្លួនផ្តល់នូវការគ្រប់គ្រងលម្អិតអំពីអ្វីដែលអ្នកប្រើអាចមើល និងអាចធ្វើនៅក្នុងគម្រោង។

### ឧទាហរណ៍មូលដ្ឋាន - បញ្ជីតួនាទីផ្ទាល់ខ្លួន

ទាញយកតួនាទីផ្ទាល់ខ្លួនទាំងអស់សម្រាប់គម្រោងមួយ៖

```graphql
query GetProjectRoles {
  projectUserRoles(filter: { projectId: "web-redesign" }) {
    id
    name
    description
    allowInviteOthers
    canDeleteRecords
  }
}
```

### ឧទាហរណ៍កម្រិតខ្ពស់ - បង្កើតតួនាទីផ្ទាល់ខ្លួន

បង្កើតតួនាទីកុងត្រាជាមួយអាជ្ញាប័ណ្ណជាក់លាក់៖

```graphql
mutation CreateContractorRole {
  createProjectUserRole(
    input: {
      projectId: "web-redesign"
      name: "External Contractor"
      description: "Limited access for external contractors"
      allowInviteOthers: false
      allowMarkRecordsAsDone: true
      canDeleteRecords: false
      showOnlyAssignedTodos: true
      isActivityEnabled: true
      isFormsEnabled: false
      isWikiEnabled: true
      isChatEnabled: false
      isDocsEnabled: true
      isFilesEnabled: true
      isRecordsEnabled: true
      isPeopleEnabled: false
    }
  ) {
    id
    name
  }
}
```

## ប្រតិបត្តិការដែលអាចប្រើបាន

### សំណួរ: projectUserRoles

ទាញយកតួនាទីផ្ទាល់ខ្លួនទាំងអស់សម្រាប់គម្រោងមួយ។

#### ប៉ារ៉ាម៉ែត្រ Input

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការទេ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `filter.projectId` | String | ទេ | ID ឬ slug នៃគម្រោង (ប្រសិនបើមិនបានផ្តល់នោះទេ វានឹងត្រឡប់តួនាទីសម្រាប់គម្រោងទាំងអស់ដែលអាចចូលប្រើបាន) |  |

### ការប្រែប្រួល: createProjectUserRole

បង្កើតតួនាទីផ្ទាល់ខ្លួនថ្មីជាមួយអាជ្ញាប័ណ្ណជាក់លាក់។

#### ប៉ារ៉ាម៉ែត្រ Input

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការទេ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `projectId` | String! | ✅ បាទ | ID ឬ slug នៃគម្រោង |  |
| `name` | String! | ✅ បាទ | ឈ្មោះតួនាទី |  |
| `description` | String | ទេ | ការពិពណ៌នាតួនាទី |  |
| **Permission Flags** |  |
| `allowInviteOthers` | Boolean | ទេ | អាចអញ្ជើញអ្នកប្រើថ្មី (លំនាំដើម: មិនពិត) |  |
| `allowMarkRecordsAsDone` | Boolean | ទេ | អាចបញ្ចប់ភារកិច្ច (លំនាំដើម: មិនពិត) |  |
| `canDeleteRecords` | Boolean | ទេ | អាចលុបកំណត់ត្រា (លំនាំដើម: ពិត) |  |
| **Feature Access** |  |
| `isActivityEnabled` | Boolean | ទេ | ចូលដំណើរការប្រអប់សកម្មភាព (លំនាំដើម: ពិត) |  |
| `isChatEnabled` | Boolean | ទេ | ចូលដំណើរការទូរស័ព្ទ (លំនាំដើម: ពិត) |  |
| `isDocsEnabled` | Boolean | ទេ | ចូលដំណើរការឯកសារ (លំនាំដើម: ពិត) |  |
| `isFilesEnabled` | Boolean | ទេ | ចូលដំណើរការឯកសារ (លំនាំដើម: ពិត) |  |
| `isFormsEnabled` | Boolean | ទេ | ចូលដំណើរការប្រអប់ (លំនាំដើម: ពិត) |  |
| `isWikiEnabled` | Boolean | ទេ | ចូលដំណើរការវីគី (លំនាំដើម: ពិត) |  |
| `isRecordsEnabled` | Boolean | ទេ | ចូលដំណើរការកំណត់ត្រា (លំនាំដើម: ពិត) |  |
| `isPeopleEnabled` | Boolean | ទេ | ចូលដំណើរការប្រអប់មនុស្ស (លំនាំដើម: ពិត) |  |
| **Visibility Settings** |  |
| `showOnlyAssignedTodos` | Boolean | ទេ | មើលតែភារកិច្ចដែលបានចាត់តាំង (លំនាំដើម: មិនពិត) |  |
| `showOnlyMentionedComments` | Boolean | ទេ | មើលតែមតិយោបល់ដែលបានរំលឹក (លំនាំដើម: មិនពិត) |  |

### ការប្រែប្រួល: updateProjectUserRole

កែប្រែតួនាទីផ្ទាល់ខ្លួនដែលមានស្រាប់។

#### ប៉ារ៉ាម៉ែត្រ Input

ដូចជាការប្រែប្រួល `createProjectUserRole`, បូកបញ្ចូល:

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការទេ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `roleId` | String! | ✅ បាទ | ID នៃតួនាទីដែលត្រូវកែប្រែ |  |

### ការប្រែប្រួល: deleteProjectUserRole

លុបតួនាទីផ្ទាល់ខ្លួនមួយ។

#### ប៉ារ៉ាម៉ែត្រ Input

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការទេ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `roleId` | String! | ✅ បាទ | ID នៃតួនាទីដែលត្រូវលុប |  |
| `projectId` | String! | ✅ បាទ | ID ឬ slug នៃគម្រោង |  |

## វាលឆ្លើយតប

### ProjectUserRole Object

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `id` | String! | អត្តសញ្ញាណតួនាទីដែលមានឯកត្តភាព |  |
| `name` | String! | ឈ្មោះតួនាទី |  |
| `description` | String | ការពិពណ៌នាតួនាទី |  |
| `createdAt` | DateTime! | ម៉ោងបង្កើត |  |
| `updatedAt` | DateTime! | ម៉ោងកែប្រែចុងក្រោយ |  |
| **Permissions** |  |
| `allowInviteOthers` | Boolean! | អាចអញ្ជើញអ្នកប្រើ |  |
| `allowMarkRecordsAsDone` | Boolean! | អាចបញ្ចប់ភារកិច្ច |  |
| `canDeleteRecords` | Boolean! | អាចលុបកំណត់ត្រា |  |
| **Feature Flags** |  |
| `isActivityEnabled` | Boolean! | ចូលដំណើរការប្រអប់សកម្មភាព |  |
| `isChatEnabled` | Boolean! | ចូលដំណើរការទូរស័ព្ទ |  |
| `isDocsEnabled` | Boolean! | ចូលដំណើរការឯកសារ |  |
| `isFilesEnabled` | Boolean! | ចូលដំណើរការឯកសារ |  |
| `isFormsEnabled` | Boolean! | ចូលដំណើរការប្រអប់ |  |
| `isWikiEnabled` | Boolean! | ចូលដំណើរការវីគី |  |
| `isRecordsEnabled` | Boolean! | ចូលដំណើរការកំណត់ត្រា |  |
| `isPeopleEnabled` | Boolean! | ចូលដំណើរការប្រអប់មនុស្ស |  |
| **Visibility** |  |
| `showOnlyAssignedTodos` | Boolean! | ការត្រួតពិនិត្យមើលភារកិច្ច |  |
| `showOnlyMentionedComments` | Boolean! | ការត្រួតពិនិត្យមើលមតិយោបល់ |  |

## អាជ្ញាប័ណ្ណដែលត្រូវការ

| ប្រតិបត្តិការ | អាជ្ញាប័ណ្ណដែលត្រូវការ |
|-----------|-------------------|
| `projectUserRoles` | Any project member |  |
| `createProjectUserRole` | Project OWNER or ADMIN |  |
| `updateProjectUserRole` | Project OWNER or ADMIN |  |
| `deleteProjectUserRole` | Project OWNER or ADMIN |  |

## ការឆ្លើយតបកំហុស

### អាជ្ញាប័ណ្ណមិនគ្រប់គ្រាន់
```json
{
  "errors": [{
    "message": "You don't have permission to manage custom roles",
    "extensions": {
      "code": "UNAUTHORIZED"
    }
  }]
}
```

### តួនាទីមិនឃើញ
```json
{
  "errors": [{
    "message": "Custom role not found",
    "extensions": {
      "code": "PROJECT_USER_ROLE_NOT_FOUND"
    }
  }]
}
```

### កំណត់តួនាទីបានឈានដល់
```json
{
  "errors": [{
    "message": "Project user role limit reached.",
    "extensions": {
      "code": "PROJECT_USER_ROLE_LIMIT"
    }
  }]
}
```

## កំណត់សំខាន់

- **អាជ្ញាប័ណ្ណលំនាំដើម**: នៅពេលបង្កើតតួនាទី អាជ្ញាប័ណ្ណបូកបញ្ចូលដែលមិនបានបញ្ជាក់លំនាំដើមនឹងត្រូវកំណត់ទៅ false លើសពី `canDeleteRecords` ដែលលំនាំដើមត្រូវបានកំណត់ទៅ true
- **ការចាត់តាំងតួនាទី**: ចាត់តាំងតួនាទីផ្ទាល់ខ្លួនដោយកំណត់ `accessLevel: MEMBER` និងផ្តល់ `roleId` ក្នុងការប្រែប្រួល `inviteUser`
- **អង្គភាព**: តួនាទីផ្ទាល់ខ្លួនត្រូវបានចាត់ទុកថាជាកម្រិត MEMBER សម្រាប់គោលបំណងអង្គភាព
- **កំណត់តួនាទី**: គម្រោងមួយអាចមានតួនាទីផ្ទាល់ខ្លួនបានអតិបរិមា 20 តួនាទី
- **ចូលដំណើរការសមត្ថភាព**: សញ្ញាដែលមានលក្ខណៈគ្រប់គ្រងចូលដំណើរការទៅកាន់ផ្នែកទាំងមូលនៃកម្មវិធី

## ករណីប្រើប្រាស់

### តួនាទីកុងត្រា
```graphql
{
  name: "Contractor",
  allowInviteOthers: false,
  canDeleteRecords: false,
  showOnlyAssignedTodos: true,
  isActivityEnabled: true,
  isChatEnabled: false,
  isPeopleEnabled: false
}
```

### មេដឹកនាំផ្នែក
```graphql
{
  name: "Department Lead",
  allowInviteOthers: true,
  allowMarkRecordsAsDone: true,
  canDeleteRecords: true,
  isActivityEnabled: true,
  isWikiEnabled: true,
  isPeopleEnabled: true
}
```

### អ្នកមើលដែលអាចអានបានតែ
```graphql
{
  name: "Observer",
  allowMarkRecordsAsDone: false,
  canDeleteRecords: false,
  allowInviteOthers: false,
  showOnlyMentionedComments: true,
  isFormsEnabled: false
}
```

## ប្រតិបត្តិការទាក់ទង

- [អញ្ជើញអ្នកប្រើ](/api/user-management/) - ចាត់តាំងតួនាទីផ្ទាល់ខ្លួនទៅអ្នកប្រើ
- [បញ្ជីអ្នកប្រើ](/api/user-management/list-users) - មើលអ្នកប្រើ និងតួនាទីរបស់ពួកគេ
- [លុបអ្នកប្រើ](/api/user-management/remove-user) - លុបអ្នកប្រើចេញពីគម្រោង