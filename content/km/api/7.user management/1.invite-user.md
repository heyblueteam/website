---
title: អញ្ជើញអ្នកប្រើ
description: អញ្ជើញអ្នកប្រើទៅគម្រោងឬក្រុមហ៊ុនជាមួយកម្រិតចូលប្រើជាក់លាក់ និងតួនាទីផ្ទាល់ខ្លួន។
---

## អញ្ជើញអ្នកប្រើ

Mutation `inviteUser` អនុញ្ញាតឱ្យអ្នកអញ្ជើញអ្នកប្រើទៅគម្រោងឬក្រុមហ៊ុនរបស់អ្នក។ អ្នកប្រើអាចត្រូវបានចាត់តាំងឱ្យមានកម្រិតចូលប្រើដែលបានកំណត់ជាមុន ឬតួនាទីផ្ទាល់ខ្លួនដែលមានអនុសាសន៍ជាក់លាក់។

### ឧទាហរណ៍មូលដ្ឋាន

អញ្ជើញអ្នកប្រើដែលមានកម្រិតចូលប្រើស្តង់ដារ៖

```graphql
mutation InviteUserToProject {
  inviteUser(
    input: {
      email: "newuser@example.com"
      projectId: "web-redesign"
      accessLevel: MEMBER
    }
  )
}
```

### ឧទាហរណ៍កម្រិតខ្ពស់

អញ្ជើញអ្នកប្រើដែលមានតួនាទីផ្ទាល់ខ្លួនទៅគម្រោងច្រើន៖

```graphql
mutation InviteUserWithCustomRole {
  inviteUser(
    input: {
      email: "contractor@example.com"
      projectIds: ["web-redesign", "mobile-app", "api-v2"]
      accessLevel: MEMBER
      roleId: "role_contractor_123"
    }
  )
}
```

## ប៉ារ៉ាម៉ែត្រ Input

### InviteUserInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `email` | String! | ✅ បាទ | អាសយដ្ឋានអ៊ីមែលរបស់អ្នកប្រើដែលត្រូវអញ្ជើញ |  |
| `accessLevel` | UserAccessLevel! | ✅ បាទ | កម្រិតចូលប្រើដែលត្រូវផ្តល់ (មើលតារាងខាងក្រោម) |  |
| `projectId` | String | ទេ | ID គម្រោងតែមួយ (មិនអាចប្រើជាមួយ companyId) |  |
| `projectIds` | [String!] | ទេ | ID គម្រោងច្រើននៅពេលប្រើ companyId |  |
| `companyId` | String | ទេ | ID ក្រុមហ៊ុនសម្រាប់ការអញ្ជើញក្រុមហ៊ុន (មិនអាចប្រើជាមួយ projectId) |  |
| `roleId` | String | ទេ | ID តួនាទីផ្ទាល់ខ្លួន (ត្រូវការកម្រិតចូលប្រើ: MEMBER) |  |

### តម្លៃ UserAccessLevel

| តម្លៃ | ការពិពណ៌នា |
|-------|-------------|
| `OWNER` | ការគ្រប់គ្រងពេញលេញលើគម្រោង/ក្រុមហ៊ុន |  |
| `ADMIN` | ការចូលប្រើគ្រប់គ្រង អាចគ្រប់គ្រងអ្នកប្រើនិងការកំណត់ |  |
| `MEMBER` | ការចូលប្រើសមាជិកស្តង់ដារដែលមានមុខងារពេញលេញ |  |
| `CLIENT` | ការចូលប្រើកំណត់សម្រាប់អតិថិជនក្រៅ |  |
| `COMMENT_ONLY` | អាចមើលនិងអនុម័តកំណត់ត្រាបានតែប៉ុណ្ណោះ |  |
| `VIEW_ONLY` | ការចូលប្រើអានតែប៉ុណ្ណោះទៅគម្រោង |  |

## វាលចម្លើយ

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `success` | Boolean! | តើការអញ្ជើញត្រូវបានផ្ញើជោគជ័យទេ |  |

## អាជ្ញាប័ណ្ណដែលត្រូវការ

អ្នកប្រើត្រូវតែមានអាជ្ញាប័ណ្ណគ្រប់គ្រាន់ដើម្បីអញ្ជើញអ្នកដទៃ។ សិទ្ធិអាជ្ញាប័ណ្ណត្រូវបានអនុវត្ត៖

| តួនាទីរបស់អ្នក | អាចអញ្ជើញ |
|-----------|------------|
| `OWNER` | ✅ កម្រិតចូលប្រើទាំងអស់ |  |
| `ADMIN` | ✅ ADMIN, MEMBER, CLIENT, COMMENT_ONLY, VIEW_ONLY (មិនអាចអញ្ជើញ OWNER) |  |
| `MEMBER` | ✅ MEMBER, CLIENT, COMMENT_ONLY, VIEW_ONLY (មិនអាចអញ្ជើញ OWNER ឬ ADMIN) |  |
| `CLIENT` | ✅ CLIENT តែប៉ុណ្ណោះ |  |
| `COMMENT_ONLY` | ❌ មិនអាចអញ្ជើញ |  |
| `VIEW_ONLY` | ❌ មិនអាចអញ្ជើញ |  |

**កំណត់ចំណាំ**: សម្រាប់ការអញ្ជើញក្រុមហ៊ុន (ប្រើ `companyId`), តែម្ដងត្រូវការអ្នក **OWNERS** នៃក្រុមហ៊ុនអាចអញ្ជើញអ្នកប្រើ។

## ប្រភេទការអញ្ជើញ

### ការអញ្ជើញគម្រោង
អញ្ជើញអ្នកប្រើទៅគម្រោងតែមួយ៖
- ប្រើប៉ារ៉ាម៉ែត្រ `projectId`
- មិនអាចប្រើ `companyId` ជាមួយគ្នា
- អ្នកអញ្ជើញត្រូវតែមានការចូលប្រើទៅគម្រោង
- ការកំណត់កម្រិតចូលប្រើត្រូវបានអនុវត្ត

### ការអញ្ជើញក្រុមហ៊ុន
អញ្ជើញអ្នកប្រើទៅក្រុមហ៊ុន (និងជ្រើសរើសគម្រោងជាក់លាក់)៖
- ប្រើប៉ារ៉ាម៉ែត្រ `companyId`
- មិនអាចប្រើ `projectId` ជាមួយគ្នា
- តែម្ដងត្រូវការអ្នក **OWNERS** នៃក្រុមហ៊ុនអាចប្រើវិធីនេះ
- ប្រើ `projectIds` array ដើម្បីកំណត់គម្រោងដែលត្រូវបញ្ចូល
- ប្រសិនបើ `projectIds` ត្រូវបានលុបចេញ អ្នកប្រើនឹងទទួលបានការចូលប្រើក្រុមហ៊ុនតែប៉ុណ្ណោះ

## តួនាទីផ្ទាល់ខ្លួន

ពេលប្រើតួនាទីផ្ទាល់ខ្លួន៖
1. កំណត់ `accessLevel` ទៅ `MEMBER`
2. ផ្តល់ `roleId` របស់តួនាទីផ្ទាល់ខ្លួនរបស់អ្នក
3. អ្នកប្រើនឹងទទួលយកសិទ្ធិទាំងអស់ដែលបានកំណត់នៅក្នុងតួនាទីផ្ទាល់ខ្លួន
4. តួនាទីផ្ទាល់ខ្លួនគឺជាគម្រោងជាក់លាក់

ដើម្បីទាញយកតួនាទីផ្ទាល់ខ្លួនដែលអាចប្រើបាន សូមប្រើ `projectUserRoles` [query](/api/user-management/retrieve-custom-role)។

## ការឆ្លើយតបកំហុស

### អ្នកប្រើមានរួចនៅក្នុងគម្រោង
```json
{
  "errors": [{
    "message": "User is already in the project.",
    "extensions": {
      "code": "USER_ALREADY_IN_THE_PROJECT"
    }
  }]
}
```

### អាជ្ញាប័ណ្ណមិនគ្រប់គ្រាន់
```json
{
  "errors": [{
    "message": "You don't have permission to invite users with this access level",
    "extensions": {
      "code": "UNAUTHORIZED"
    }
  }]
}
```

### គម្រោងមិនត្រឹមត្រូវ
```json
{
  "errors": [{
    "message": "Project not found",
    "extensions": {
      "code": "PROJECT_NOT_FOUND"
    }
  }]
}
```

### លើសកម្រិតការអញ្ជើញ
```json
{
  "errors": [{
    "message": "Unable to invite more people.",
    "extensions": {
      "code": "INVITATION_LIMIT"
    }
  }]
}
```

### មិនអាចអញ្ជើញខ្លួនឯង
```json
{
  "errors": [{
    "message": "You are not allowed to add yourself.",
    "extensions": {
      "code": "ADD_SELF"
    }
  }]
}
```

### តួនាទីផ្ទាល់ខ្លួនមិនត្រឹមត្រូវ
```json
{
  "errors": [{
    "message": "Project user role was not found.",
    "extensions": {
      "code": "PROJECT_USER_ROLE_NOT_FOUND"
    }
  }]
}
```

### ក្រុមហ៊ុនត្រូវបានហាមឃាត់
```json
{
  "errors": [{
    "message": "Company is banned",
    "extensions": {
      "code": "COMPANY_BANNED"
    }
  }]
}
```

## កំណត់ចំណាំសំខាន់

- **ការត្រួតពិនិត្យអ៊ីមែល**: អាសយដ្ឋានអ៊ីមែលត្រូវបានធ្វើឲ្យសមស្របនិងត្រួតពិនិត្យមុនពេលផ្ញើការអញ្ជើញ
- **ការបញ្ចប់ការអញ្ជើញ**: ការអញ្ជើញនឹងផុតកំណត់បន្ទាប់ពី ៧ ថ្ងៃ ហើយត្រូវតែផ្ញើឡើងវិញប្រសិនបើមិនបានទទួល
- **ការជូនដំណឹងស្វ័យប្រវត្តិ**: Blue ផ្ញើអ៊ីមែលអញ្ជើញទៅអ្នកប្រើថ្មីដោយស្វ័យប្រវត្តិ
- **ម្ចាស់ក្រុមហ៊ុន**: ម្ចាស់ក្រុមហ៊ុនទទួលបានការចូលប្រើ ADMIN ដោយស្វ័យប្រវត្តិនៅក្នុងគម្រោងទាំងអស់
- **ផលប៉ះពាល់ការទូទាត់**: ការបន្ថែមអ្នកប្រើអាចប៉ះពាល់ដល់ការជាវរបស់អ្នកប្រសិនបើអ្នកមានតម្លៃតាមអ្នកប្រើ
- **កំណត់សកម្មភាព**: ការអញ្ជើញអ្នកប្រើទាំងអស់ត្រូវបានកំណត់សម្រាប់គោលបំណងពិនិត្យ
- **កំណត់ប៉ារ៉ាម៉ែត្រ**: អ្នកត្រូវតែផ្តល់ឬ `projectId` ឬ `companyId` មិនមែនទាំងពីរទេ
- **កំណត់ក្រុមហ៊ុន**: តែម្ដងត្រូវការម្ចាស់ក្រុមហ៊ុនអាចប្រើប៉ារ៉ាម៉ែត្រ `companyId`
- **ការអញ្ជើញខ្លួនឯង**: អ្នកប្រើមិនអាចអញ្ជើញខ្លួនឯង (នឹងបង្កើតកំហុស `ADD_SELF`)

## ប្រតិបត្តិការដែលពាក់ព័ន្ធ

- [បញ្ជីអ្នកប្រើ](/api/user-management/list-users) - មើលអ្នកប្រើទាំងអស់នៅក្នុងគម្រោងឬក្រុមហ៊ុន
- [លុបអ្នកប្រើ](/api/user-management/remove-user) - លុបអ្នកប្រើពីគម្រោង
- [តួនាទីផ្ទាល់ខ្លួន](/api/user-management/retrieve-custom-role) - គ្រប់គ្រងតួនាទីអ្នកប្រើផ្ទាល់ខ្លួន