---
title: លុបអ្នកប្រើ
description: លុបអ្នកប្រើចេញពីគម្រោងឬក្រុមហ៊ុនដោយប្រើ Blue API។
---

## លុបអ្នកប្រើ

ទំព័រនេះគ្របដណ្តប់ពីរបៀបលុបអ្នកប្រើចេញពីគម្រោងនិងក្រុមហ៊ុន។ ការលុបអ្នកប្រើគឺជាការប្រតិបត្តិដែលមិនអាចត្រឡប់មកវិញបានដែលធ្វើឱ្យអ្នកប្រើមិនមានការចុះបញ្ជីពីកំណត់ត្រាទាំងអស់ និងលុបចេញពីការចូលប្រើរបស់ពួកគេ ប៉ុន្តែទិន្នន័យប្រវត្តិនៃពួកគេត្រូវបានរក្សាទុកសម្រាប់គោលបំណងពិនិត្យ។

## លុបអ្នកប្រើចេញពីគម្រោង

លុបអ្នកប្រើចេញពីគម្រោងជាក់លាក់មួយ ខណៈពេលដែលរក្សាទុកការចូលប្រើរបស់ពួកគេទៅកាន់ក្រុមហ៊ុន។

### ឧទាហរណ៍មូលដ្ឋាន

```graphql
mutation {
  removeProjectUser(
    input: {
      projectId: "project-id"
      userId: "user-id"
    }
  ) {
    success
    operationId
  }
}
```

### ឧទាហរណ៍ចម្លើយ

```json
{
  "data": {
    "removeProjectUser": {
      "success": true,
      "operationId": null
    }
  }
}
```

**ចំណាំ:** វាល `operationId` នៅពេលនេះមិនត្រូវបានបំពេញដោយការប្រែប្រួលនេះនិងនឹងត្រឡប់មកវិញ `null`។

## លុបអ្នកប្រើចេញពីក្រុមហ៊ុន

លុបអ្នកប្រើចេញពីក្រុមហ៊ុនទាំងមូល ដែលនឹងមានផលប៉ះពាល់ទៅគម្រោងទាំងអស់។

### ឧទាហរណ៍មូលដ្ឋាន

```graphql
mutation {
  removeCompanyUser(
    input: {
      companyId: "company-id"
      userId: "user-id"
    }
  )
}
```

### ឧទាហរណ៍ចម្លើយ

```json
{
  "data": {
    "removeCompanyUser": true
  }
}
```

## ប៉ារ៉ាម៉ែត្រ Input

### RemoveProjectUserInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `projectId` | String! | ✅ បាទ | អត្តសញ្ញាណ (ID) របស់គម្រោង (មិនមែន slug) |  |
| `userId` | String! | ✅ បាទ | អត្តសញ្ញាណ (ID) របស់អ្នកប្រើដែលត្រូវលុប |  |

### RemoveCompanyUserInput

| ប៉ារ៉ាម៉ែត្រ | ប្រភេទ | ត្រូវការ | ការពិពណ៌នា |
|-----------|------|----------|-------------|
| `companyId` | String! | ✅ បាទ | អត្តសញ្ញាណ (ID) ឬ slug របស់ក្រុមហ៊ុន |  |
| `userId` | String! | ✅ បាទ | អត្តសញ្ញាណ (ID) របស់អ្នកប្រើដែលត្រូវលុប |  |

## វាលចម្លើយ

### RemoveProjectUser Response

| វាល | ប្រភេទ | ការពិពណ៌នា |
|-------|------|-------------|
| `success` | Boolean! | តើការប្រតិបត្តិបានជោគជ័យទេ |  |
| `operationId` | String | អត្តសញ្ញាណតែមួយសម្រាប់ការប្រតិបត្តិ (បច្ចុប្បន្នត្រឡប់មកវិញ `null`) |  |

### RemoveCompanyUser Response

ការប្រែប្រួល `removeCompanyUser` នឹងត្រឡប់មកវិញតម្លៃ `Boolean` ដូចខាងក្រោម៖
- `true` - អ្នកប្រើត្រូវបានលុបដោយជោគជ័យ

## អាជ្ញាប័ណ្ណដែលត្រូវការ

### ការលុបអ្នកប្រើគម្រោង

| តួនាទី | អាចលុបអ្នកប្រើបាន |
|------|-----------------|
| `OWNER` | ✅ បាទ |  |
| `ADMIN` | ✅ បាទ |  |
| `MEMBER` | ❌ ទេ |  |
| `READ_ONLY` | ❌ ទេ |  |

**ចំណាំសំខាន់:**
- អ្នកមិនអាចលុបអ្នកប្រើដែលមានតួនាទី `OWNER` ចេញពីគម្រោង
- ប្រព័ន្ធកំណត់ការលុបម្ចាស់គម្រោងដើម្បីរក្សាភាពសុវត្ថិភាពនៃម្ចាស់គម្រោង

### ការលុបអ្នកប្រើក្រុមហ៊ុន

| តួនាទី | អាចលុបអ្នកប្រើបាន |
|------|-----------------|
| `OWNER` | ✅ បាទ |  |
| `ADMIN` | ❌ ទេ |  |
| `MEMBER` | ❌ ទេ |  |
| `READ_ONLY` | ❌ ទេ |  |

**ចំណាំ:** តែម្ចាស់ក្រុមហ៊ុនអាចលុបអ្នកប្រើចេញពីក្រុមហ៊ុន។ អ្នកដោះស្រាយអនុវត្តការចូលដំណើរការតាមម្ចាស់តែមួយសម្រាប់ប្រតិបត្តិការលុបអ្នកប្រើក្រុមហ៊ុន។

## ផលប៉ះពាល់

### ការលុបគម្រោង
- លុបការចុះបញ្ជីទាំងអស់សម្រាប់អ្នកប្រើនៅក្នុងគម្រោងនោះ
- លុបថតគម្រោងរបស់អ្នកប្រើ
- លុបទំនាក់ទំនងអ្នកប្រើគម្រោង
- ផ្ញើការអាប់ដេតពេលវេលាពិតដើម្បីជូនដំណឹងអ្នកប្រើដទៃ
- បង្កើតកំណត់ត្រាពិនិត្យ

### ការលុបក្រុមហ៊ុន
- **ការលុបបន្តនៅលើគម្រោងទាំងអស់:**
  - លុបការចុះបញ្ជីទាំងអស់នៅក្នុងគម្រោងក្រុមហ៊ុនទាំងអស់
  - លុបថតអ្នកប្រើគម្រោងទាំងអស់
  - លុបអ្នកប្រើចេញពីគម្រោងក្រុមហ៊ុនទាំងអស់
- លុបថតអ្នកប្រើក្រុមហ៊ុន
- លុបអ្នកប្រើចេញពីក្រុមហ៊ុន
- ផ្ញើអ៊ីមែលជូនដំណឹងការលុបទៅអ្នកប្រើដែលត្រូវលុប
- **អាប់ដេតការបង់ប្រាក់ (ប្រសិនបើតម្លៃតាមអ្នកប្រើ):**
  - គណនាចំនួនអ្នកប្រើសកម្មឡើងវិញ
  - អាប់ដេតចំនួនការជាវ Stripe
- បង្កើតកំណត់ត្រាពិនិត្យ

## ចម្លើយកំហុស

### គម្រោងមិនឃើញ
```json
{
  "errors": [{
    "message": "Project was not found.",
    "extensions": {
      "code": "PROJECT_NOT_FOUND"
    }
  }]
}
```

### អ្នកប្រើមិនឃើញ
```json
{
  "errors": [{
    "message": "User was not found.",
    "extensions": {
      "code": "USER_NOT_FOUND"
    }
  }]
}
```

### កំហុសមិនមានអាជ្ញាប័ណ្ណ
```json
{
  "errors": [{
    "message": "You are not authorized.",
    "extensions": {
      "code": "FORBIDDEN"
    }
  }]
}
```

### ក្រុមហ៊ុនមិនឃើញ (removeCompanyUser តែប៉ុណ្ណោះ)
```json
{
  "errors": [{
    "message": "Company was not found.",
    "extensions": {
      "code": "COMPANY_NOT_FOUND"
    }
  }]
}
```

កំហុសនេះកើតឡើងនៅពេល:
- អ្នកខ្វះតួនាទីដែលត្រូវការ (OWNER/ADMIN សម្រាប់គម្រោង, OWNER សម្រាប់ក្រុមហ៊ុន)
- អ្នកព្យាយាមលុបម្ចាស់គម្រោង
- អ្នកប្រើមិនមែនជាផ្នែកនៃគម្រោង/ក្រុមហ៊ុនទេ

## ការពិចារណាសំខាន់

- **ការរក្សាទុកទិន្នន័យ**: ការលុបអ្នកប្រើមិនអាចត្រឡប់មកវិញបាន។ ខណៈពេលដែលអ្នកប្រើបាត់បង់ការចូលប្រើ ទិន្នន័យប្រវត្តិនៃពួកគេ (មតិយោបល់, កំណត់ត្រាសកម្មភាព, ល។) ត្រូវបានរក្សាទុកសម្រាប់គោលបំណងពិនិត្យ។
- **ការពារម្ចាស់**: ម្ចាស់គម្រោងមិនអាចត្រូវបានលុបចេញពីគម្រោងទេ។ បញ្ជូនម្ចាស់ជាមុនប្រសិនបើត្រូវការ។
- **ផលប៉ះពាល់ការបង់ប្រាក់**: ការលុបអ្នកប្រើក្រុមហ៊ុនធ្វើឱ្យមានការអាប់ដេតការជាវរបស់អ្នកដោយស្វ័យប្រវត្តិប្រសិនបើអ្នកនៅលើតម្លៃតាមអ្នកប្រើ។
- **ការជូនដំណឹងតាមអ៊ីមែល**: ការលុបក្រុមហ៊ុនផ្ញើអ៊ីមែលជូនដំណឹងទៅអ្នកប្រើដែលត្រូវលុប។
- **ផលប៉ះពាល់បន្ត**: ការលុបក្រុមហ៊ុនមានផលប៉ះពាល់ទៅគម្រោងទាំងអស់ ខណៈពេលដែលការលុបគម្រោងត្រូវបានកំណត់ទៅគម្រោងជាក់លាក់នោះ។

## ប្រតិបត្តិការ​ទាក់ទង

- [បញ្ជីអ្នកប្រើ](/api/user-management/list-users) - មើលអ្នកប្រើមុនពេលលុប
- [ទាញយកតួនាទីកំណត់ផ្ទាល់ខ្លួន](/api/user-management/retrieve-custom-role) - ពិនិត្យអាជ្ញាប័ណ្ណអ្នកប្រើ
- [បង្កើតគម្រោង](/api/projects/create-project) - បន្ថែមអ្នកប្រើទៅគម្រោងថ្មី