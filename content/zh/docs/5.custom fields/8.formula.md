---
title: 公式
description: 
---

公式自定义字段允许您基于Blue中现有数据创建计算。这非常适合计算利润率、总计、税率和佣金。


![Formula 1](/docs/Formula_1.png "Formula 1")

您可以在下面的视频中查看公式自定义字段的概述：

<youtube url="https://www.youtube.com/watch?v=RsXnOc2JU9k" />

公式可以使用同一记录中以下自定义字段的数据：

- [货币](/zh/docs/custom-fields/currency)
- [星级评分](/zh/docs/custom-fields/star-rating)
- [数字](/zh/docs/custom-fields/number)
- [百分比](/zh/docs/custom-fields/percent)

只需输入一个左花括号 `{`，系统就会给您一个可以参考的字段下拉列表。

## 支持的操作

然后您可以使用函数对这些值执行操作：

- **AVERAGE**：计算一组数字的平均值。
- **AVERAGEA**：确定平均值，将文本视为零。
- **COUNT**：计算数字字段中条目的数量。
- **COUNTA**：计算非空值的数量。
- **MAX**：找到一组数据中的最大值。
- **MIN**：确定一组数据中的最小值。
- **MINUS**：从一个值中减去另一个值。
- **MULTIPLY**：将两个值相乘。
- **SUM**：将一系列数字加起来

您可以通过将自定义字段名称传递到函数中来使用这些操作。例如，如果您有一个名为 `Cost` 的自定义字段，您可以使用 `AVERAGE(Cost)` 来计算一组记录的平均成本。

要将多个自定义字段传递到函数中，您可以使用 `,` 逗号来分隔每个字段。例如，如果您有名为 `Cost` 和 `Profit` 的自定义字段，您可以使用 `AVERAGE(Cost, Profit)` 来计算一组记录的平均成本和利润。

您还可以使用以下数学运算符：

| 运算符 | 描述 |
|:--------:|:-----------:|
| **+**    | 加法    |
| **-**    | 减法 |
| **\***    | 乘法 |
| **/**    | 除法    |
| **%**    | 百分比  |
| **^**    | 指数运算 |

请参阅下面基于销售价格和成本创建利润计算的示例：

![Formula 2](/docs/Formula_2.png "Formula 2")


您的公式的复杂性或操作数量没有限制。只要语法有效，它们就能正确验证。公式只引用同一记录中的字段，不引用外部数据。

## 配置显示
创建公式自定义字段的最后一步是决定如何显示数据。

公式字段提供三种显示选项：

1. **数字**：此选项显示简单的数值。您还可以选择显示多少位小数，让您控制数据的详细程度。
2. **货币**：使用此选项以货币格式显示值。它非常适合跟踪预算、收入、成本和其他财务数据。货币将根据当地标准格式化，并支持各种全球货币，[支持众多全球货币](/zh/docs/custom-fields/currency)。
3. **百分比**：此格式将值显示为百分比，这对于显示完成率、增长指标或其他比率很有用。它会自动将计算值转换为百分比，使比例易于理解。

![Formula 3](/docs/Formula_3.png "Formula 3")


用户可以通过将鼠标悬停在字段上来查看底层公式逻辑。

![Formula 4](/docs/Formula_4.png "Formula 4")

虽然可编辑的公式会在引用值更改时实时更新结果，但导出的数据将只包含计算的公式结果，而不是公式本身。