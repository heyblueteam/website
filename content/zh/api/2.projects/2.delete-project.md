---
title: 删除项目
description: 如何在 Blue 中删除项目。
---

## 删除项目

`deleteProject` 变更将永久删除项目及其所有关联数据。

### 基本示例

```graphql
mutation {
  deleteProject(id: "{project-id}") {
    success
  }
}
```

### 使用变量

```graphql
mutation DeleteProject($projectId: String!) {
  deleteProject(id: $projectId) {
    success
  }
}
```

变量：
```json
{
  "projectId": "abc123-project-id"
}
```

::callout
---  
icon: alert-triangle---  
**项目删除是永久性的。** 一旦项目被删除，所有关联数据将从系统中永久移除。这包括：
- 所有待办事项和列表
- 评论和附件
- 自定义字段及其值
- 自动化
- 标签和依赖项
- 用户分配
- 文件附件

请确保在继续删除之前备份任何重要信息。  
::

## 变更参数

| 参数 | 类型 | 必需 | 描述 |
|------|------|------|------|
| `id` | String! | ✅ 是 | 要删除的项目的唯一标识符 |  |

## 响应字段

| 字段 | 类型 | 描述 |
|------|------|------|
| `success` | Boolean! | 指示删除是否成功 |  |

## 所需权限

要删除项目，您必须拥有：

1. **公司级访问**：在公司中拥有 `OWNER`、`ADMIN` 或 `MEMBER` 角色
2. **项目级访问**：在特定项目中拥有 `OWNER` 或 `ADMIN` 角色

### 项目角色权限

| 项目角色 | 可以删除项目 |
|----------|--------------|
| `OWNER` | ✅ 是 |  |
| `ADMIN` | ✅ 是 |  |
| `MEMBER` | ❌ 否 |  |
| `CLIENT` | ❌ 否 |  |
| `COMMENT_ONLY` | ❌ 否 |  |
| `VIEW_ONLY` | ❌ 否 |  |

## 删除过程

当您删除一个项目时，Blue 执行以下步骤：

1. **验证**：验证项目是否存在以及您是否有权限删除它
2. **备份**：将项目数据保存到垃圾表中以便潜在恢复（仅供内部使用）
3. **立即删除**：从活动数据库中移除项目
4. **通知**：更新相关系统并通知相关服务
5. **后台清理**：异步移除所有关联数据

## 错误响应

### 项目未找到
```json
{
  "errors": [{
    "message": "Project not found",
    "extensions": {
      "code": "PROJECT_NOT_FOUND"
    }
  }]
}
```

### 权限不足
```json
{
  "errors": [{
    "message": "You are not authorized to delete this project",
    "extensions": {
      "code": "UNAUTHORIZED"
    }
  }]
}
```

## 重要说明

- 删除是 **级联** 的 - 所有项目数据将被移除
- 该过程是 **异步** 的 - 大型项目可能需要时间才能完全清理
- 如果您可能稍后需要该项目，请考虑使用 **归档** 而不是删除
- 被删除的项目会在内部保存以供恢复，但无法通过 API 访问