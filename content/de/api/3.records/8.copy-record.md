---
title: Datensatz kopieren
description: Erstellen Sie eine Kopie eines vorhandenen Datensatzes, während bestimmte Datenelemente erhalten bleiben.
---

## Einen Datensatz kopieren

Um eine Kopie eines vorhandenen Datensatzes zu erstellen und bestimmte Elemente beizubehalten, verwenden Sie die `copyTodo` Mutation:

```graphql
mutation CopyTodo {
  copyTodo(
    input: {
      title: "new todo"
      todoId: "todo-id"
      todoListId: "todo-list-id"
      options: [
        DESCRIPTION
        DUE_DATE
        CHECKLISTS
        ASSIGNEES
        TAGS
        CUSTOM_FIELDS
        COMMENTS
      ]
    }
  )
}
```

### Erforderliche Header
```http
x-bloo-token-id: "your-token-id"
x-bloo-token-secret: "your-token-secret" 
x-bloo-project-id: "project-id-or-slug"
x-bloo-company-id: "company-id-or-slug"
```

### Eingabeparameter

| Feld | Typ | Erforderlich | Beschreibung |
|-------|------|----------|-------------|
| title | String | Nein | Neuer Titel für den kopierten Datensatz (optional) |  |
| todoId | String | Ja | ID des zu kopierenden Datensatzes |  |
| todoListId | String | Ja | ID der Liste, in der die Kopie erstellt werden soll |  |
| options | Array | Ja | Datenelemente, die aus dem ursprünglichen Datensatz kopiert werden sollen |  |

### Kopieroptionen

Das `options` Array akzeptiert diese Werte:

| Option | Beschreibung |
|--------|-------------|
| DESCRIPTION | Kopiert die Beschreibung des Datensatzes |  |
| DUE_DATE | Kopiert das Fälligkeitsdatum und die Zeitzone |  |
| CHECKLISTS | Kopiert alle Checklisten und deren Elemente |  |
| ASSIGNEES | Kopiert alle zugewiesenen Benutzer (gefiltert nach Mitgliedschaft im Zielprojekt) |  |
| TAGS | Kopiert alle zugehörigen Tags |  |
| CUSTOM_FIELDS | Kopiert alle Werte benutzerdefinierter Felder (einschließlich Dateianhänge) |  |
| COMMENTS | Kopiert alle Kommentare und Antworten |  |

### Beispielantwort
```json
{
  "data": {
    "copyTodo": true
  }
}
```

::callout
**Positionierung von Kopien** <br/>
Der kopierte Datensatz wird standardmäßig am Ende der Ziel-Liste platziert. Um die Positionierung zu steuern, verwenden Sie die [Mutation zum Verschieben von Datensätzen](/api/records/move-record-list).
:: 

::callout
---
icon: i-heroicons-exclamation-triangle
---
**Erforderliche Berechtigungen** <br/>
Sie benötigen **Bearbeitungs**berechtigungen (EIGENTÜMER, ADMIN oder MITGLIED) sowohl für die Quell- als auch für die Zielprojekte. **Hinweis**: Benutzer mit der Rolle MITGLIED können Datensätze nur innerhalb desselben Projekts kopieren. Das Kopieren über Projekte hinweg erfordert ADMIN- oder EIGENTÜMER-Berechtigungen. Fehlgeschlagene Kopien geben einen `FORBIDDEN` Fehlercode zurück.
::

### Fehlerbehandlung
Häufige Fehlercodes für diese Operation:
- `TODO_NOT_FOUND`: Ungültige oder nicht zugängliche todoId
- `TODO_LIST_NOT_FOUND`: Ungültige oder nicht zugängliche todoListId
- `FORBIDDEN`: Unzureichende Berechtigungen oder Einschränkungen beim Kopieren über Projekte hinweg

Siehe [Fehlercodes](/api/error-codes) für eine vollständige Referenz.

## Erweiterte Funktionen

### Kopieren über Projekte hinweg
Die Mutation unterstützt das Kopieren von Datensätzen zwischen verschiedenen Projekten mit diesen Überlegungen:
- **EIGENTÜMER/ADMIN**: Können Datensätze über alle Projekte hinweg kopieren, auf die sie Zugriff haben
- **MITGLIED**: Beschränkt auf das Kopieren innerhalb desselben Projekts
- **Zuweisungsfilterung**: Beim Kopieren über Projekte hinweg werden die Zuweisungen automatisch gefiltert, um nur Benutzer einzuschließen, die Zugriff auf das Zielprojekt haben

### Umgang mit benutzerdefinierten Feldern
Beim Verwenden der `CUSTOM_FIELDS` Option:
- Alle Werte benutzerdefinierter Felder werden in den neuen Datensatz kopiert
- Dateianhänge in benutzerdefinierten Feldern werden ordnungsgemäß mit neuen Speicherreferenzen dupliziert
- Die Typen benutzerdefinierter Felder werden beibehalten und gegen die Konfiguration des Zielprojekts validiert

### Automatisierungsintegration
Kopien über Projekte hinweg können zusätzliche Automatisierungsregeln in sowohl Quell- als auch Zielprojekten auslösen, was eine ausgeklügelte Workflow-Verwaltung über Projektgrenzen hinweg ermöglicht.