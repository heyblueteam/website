---
title: Verwijder Gebruikers
description: Verwijder gebruikers uit projecten of bedrijven met behulp van de Blue API.
---

## Verwijder Gebruikers

Deze pagina behandelt hoe je gebruikers uit projecten en bedrijven kunt verwijderen. Het verwijderen van een gebruiker is een permanente actie die de gebruiker van alle records ontneemt en hun toegang verwijdert, hoewel hun historische gegevens worden bewaard voor auditdoeleinden.

## Verwijder Gebruiker uit Project

Verwijder een gebruiker uit een specifiek project terwijl je hun toegang tot het bedrijf behoudt.

### Basis Voorbeeld

```graphql
mutation {
  removeProjectUser(
    input: {
      projectId: "project-id"
      userId: "user-id"
    }
  ) {
    success
    operationId
  }
}
```

### Reactie Voorbeeld

```json
{
  "data": {
    "removeProjectUser": {
      "success": true,
      "operationId": null
    }
  }
}
```

**Opmerking:** Het `operationId` veld wordt momenteel niet gevuld door deze mutatie en zal `null` retourneren.

## Verwijder Gebruiker uit Bedrijf

Verwijder een gebruiker uit het gehele bedrijf, wat doorwerkt naar alle projecten.

### Basis Voorbeeld

```graphql
mutation {
  removeCompanyUser(
    input: {
      companyId: "company-id"
      userId: "user-id"
    }
  )
}
```

### Reactie Voorbeeld

```json
{
  "data": {
    "removeCompanyUser": true
  }
}
```

## Invoervelden

### RemoveProjectUserInput

| Parameter | Type | Vereist | Beschrijving |
|-----------|------|---------|--------------|
| `projectId` | String! | ✅ Ja | De ID van het project (niet slug) |  |
| `userId` | String! | ✅ Ja | De ID van de te verwijderen gebruiker |  |

### RemoveCompanyUserInput

| Parameter | Type | Vereist | Beschrijving |
|-----------|------|---------|--------------|
| `companyId` | String! | ✅ Ja | De ID of slug van het bedrijf |  |
| `userId` | String! | ✅ Ja | De ID van de te verwijderen gebruiker |  |

## Reactie Velden

### RemoveProjectUser Reactie

| Veld | Type | Beschrijving |
|------|------|--------------|
| `success` | Boolean! | Of de operatie succesvol was |  |
| `operationId` | String | Unieke identificatie voor de operatie (retourneert momenteel `null`) |  |

### RemoveCompanyUser Reactie

De `removeCompanyUser` mutatie retourneert een eenvoudige `Boolean` waarde:
- `true` - Gebruiker is succesvol verwijderd

## Vereiste Machtigingen

### Project Gebruiker Verwijdering

| Rol | Kan Gebruikers Verwijderen |
|-----|----------------------------|
| `OWNER` | ✅ Ja |  |
| `ADMIN` | ✅ Ja |  |
| `MEMBER` | ❌ Nee |  |
| `READ_ONLY` | ❌ Nee |  |

**Belangrijke Opmerkingen:**
- Je kunt geen gebruikers met `OWNER` rol uit een project verwijderen
- Het systeem voorkomt het verwijderen van project eigenaren om de integriteit van het project eigendom te waarborgen

### Bedrijf Gebruiker Verwijdering

| Rol | Kan Gebruikers Verwijderen |
|-----|----------------------------|
| `OWNER` | ✅ Ja |  |
| `ADMIN` | ❌ Nee |  |
| `MEMBER` | ❌ Nee |  |
| `READ_ONLY` | ❌ Nee |  |

**Opmerking:** Alleen bedrijfseigenaren kunnen gebruikers uit het bedrijf verwijderen. De resolver handhaaft strikte toegang alleen voor EIGENAREN voor operaties voor het verwijderen van bedrijfgebruikers.

## Neveneffecten

### Project Verwijdering
- Verwijdert alle todo-toewijzingen voor de gebruiker in dat project
- Verwijdert de projectmappen van de gebruiker
- Verwijdert de relatie tussen project en gebruiker
- Stuurt realtime updates om andere gebruikers te informeren
- Creëert een auditlogboekvermelding

### Bedrijf Verwijdering
- **Cascaderende verwijdering over alle projecten:**
  - Verwijdert alle todo-toewijzingen in alle bedrijfsprojecten
  - Verwijdert alle projectgebruikersmappen
  - Verwijdert de gebruiker uit alle bedrijfsprojecten
- Verwijdert de bedrijfsgebruikersmappen
- Verwijdert de gebruiker uit het bedrijf
- Stuurt een verwijderingsmelding per e-mail naar de verwijderde gebruiker
- **Updates facturering (indien prijs per gebruiker):**
  - Herberekent het aantal actieve gebruikers
  - Update de Stripe-abonnements hoeveelheid
- Creëert een auditlogboekvermelding

## Foutreacties

### Project Niet Gevonden
```json
{
  "errors": [{
    "message": "Project was not found.",
    "extensions": {
      "code": "PROJECT_NOT_FOUND"
    }
  }]
}
```

### Gebruiker Niet Gevonden
```json
{
  "errors": [{
    "message": "User was not found.",
    "extensions": {
      "code": "USER_NOT_FOUND"
    }
  }]
}
```

### Niet Geautoriseerde Fout
```json
{
  "errors": [{
    "message": "You are not authorized.",
    "extensions": {
      "code": "FORBIDDEN"
    }
  }]
}
```

### Bedrijf Niet Gevonden (removeCompanyUser alleen)
```json
{
  "errors": [{
    "message": "Company was not found.",
    "extensions": {
      "code": "COMPANY_NOT_FOUND"
    }
  }]
}
```

Deze fout treedt op wanneer:
- Je niet over de vereiste rol beschikt (EIGENAAR/ADMIN voor projecten, EIGENAAR voor bedrijf)
- Je probeert een project EIGENAAR te verwijderen
- De gebruiker maakt geen deel uit van het project/bedrijf

## Belangrijke Overwegingen

- **Gegevensbehoud**: Het verwijderen van een gebruiker is niet omkeerbaar. Terwijl de gebruiker toegang verliest, worden hun historische gegevens (opmerkingen, activiteitslogboeken, enz.) bewaard voor auditdoeleinden.
- **Eigenaar Bescherming**: Project eigenaren kunnen niet uit projecten worden verwijderd. Draag eerst het eigendom over indien nodig.
- **Factureringsimpact**: Het verwijderen van bedrijfgebruikers werkt automatisch je abonnement bij als je op prijs per gebruiker bent.
- **E-mailmelding**: Het verwijderen van een bedrijf stuurt een meldings-e-mail naar de verwijderde gebruiker.
- **Cascade-effect**: Het verwijderen van een bedrijf heeft invloed op alle projecten, terwijl het verwijderen van een project is geïsoleerd tot dat specifieke project.

## Gerelateerde Operaties

- [Lijst Gebruikers](/api/user-management/list-users) - Bekijk gebruikers voor verwijdering
- [Haal Aangepaste Rol Op](/api/user-management/retrieve-custom-role) - Controleer gebruikersmachtigingen
- [Creëer Project](/api/projects/create-project) - Voeg gebruikers toe aan nieuwe projecten