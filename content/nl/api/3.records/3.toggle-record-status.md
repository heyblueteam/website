---
title: Status van Record Wisselen
description: Wissel een record tussen de status compleet en incompleet met een enkele mutatie.
---

## Status van Record Wisselen

De `updateTodoDoneStatus` mutatie biedt een eenvoudige manier om de voltooiingsstatus van een record te wisselen. Als het record incompleet is, markeert het het als compleet. Als het compleet is, markeert het het als incompleet.

### Voorbeeld

```graphql
mutation ToggleRecordStatus {
  updateTodoDoneStatus(todoId: "todo_123") {
    id
    title
    done
    updatedAt
  }
}
```

## Invoervariabelen

| Parameter | Type | Vereist | Beschrijving |
|-----------|------|---------|--------------|
| `todoId` | String! | ✅ Ja | De ID van het record dat gewisseld moet worden |

## Respons

Geeft het bijgewerkte `Todo` object terug met alle beschikbare velden. Veelgebruikte velden zijn onder andere:

- `id` - Record identificatie
- `title` - Record titel
- `done` - Nieuwe voltooiingsstatus (waar/onwaar)
- `updatedAt` - Tijdstempel van de update
- Alle andere [Todo-velden](/api/records/list-records#todo-fields) zijn beschikbaar

## Vereiste Machtigingen

| Toegangsniveau | Kan Status Wisselen |
|----------------|---------------------|
| `OWNER` | ✅ Ja |
| `ADMIN` | ✅ Ja |
| `MEMBER` | ✅ Ja |
| `CLIENT` | ✅ Ja |
| `COMMENT_ONLY` | ❌ Nee |
| `VIEW_ONLY` | ❌ Nee |

**Opmerking**: Aangepaste rollen met `allowMarkRecordsAsDone: false` zullen worden geblokkeerd voor het gebruik van deze mutatie.

## Foutreacties

### TodoNotFoundError
```json
{
  "errors": [{
    "message": "Todo was not found.",
    "extensions": {
      "code": "TODO_NOT_FOUND"
    }
  }]
}
```

### UnauthorizedError
```json
{
  "errors": [{
    "message": "You are not authorized.",
    "extensions": {
      "code": "UNAUTHORIZED"
    }
  }]
}
```

## Belangrijke Opmerkingen

### Bijwerkingen
Het wisselen van de status van een record activeert verschillende geautomatiseerde acties:

- **Activiteitenlog**: Maakt vermeldingen voor MARK_AS_COMPLETE of MARK_AS_INCOMPLETE
- **Webhooks**: Stuurt meldingen naar geconfigureerde webhook-eindpunten met voor/na staten
- **Automatiseringen**: Activeert TODO_MARKED_AS_COMPLETE of TODO_MARKED_AS_INCOMPLETE automatiseringsregels
- **Realtime Meldingen**: Stuurt updates naar relevante gebruikers (indien geconfigureerd)
- **Realtime Publicatie**: Publiceert todo-updates naar verbonden clients
- **Tijdregistratie**: Werk tijdsduur aangepaste velden automatisch bij
- **Zoekindex**: Werk de zoekindex bij voor verbeterde vindbaarheid
- **Analytics**: Werk grafieken en rapporten bij
- **Activiteitenfeed**: Voltooide records verschijnen in de bedrijfsactiviteitenfeed

### Gebruikstips
- De mutatie is idempotent - het twee keer aanroepen brengt het record terug naar de oorspronkelijke staat
- De operatie is atomair - slaagt volledig of faalt zonder wijzigingen
- Aangepaste rollen kunnen deze actie beperken via de `allowMarkRecordsAsDone` machtiging

### Gerelateerde Eindpunten
- **Lijst Records**: Gebruik `todoQueries.todos` om records te queryen en te filteren
- **Bulk Update**: Gebruik `updateTodos` om meerdere records tegelijk te wijzigen