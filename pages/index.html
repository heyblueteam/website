<!-- Main content -->
<!-- Custom personalized page heading for homepage -->
<div class="mb-16 @container" x-data="{ 
    authState: null,
    words: [],
    animatedWords: [], 
    showSubtitle: false,
    init() {
        // Function to set up title animation
        const setupTitle = (authState) => {
            const firstName = (authState && authState.firstName) || '{{t "home.welcome_default"}}';
            const title = authState && authState.isLoggedIn
                ? `{{t "home.welcome_back"}}${firstName}{{t "home.welcome_suffix"}}`
                : '{{t "home.hero_title"}}';
                
            this.words = title.split(' ');
            this.animatedWords = [];
            this.showSubtitle = false;
            
            // Animate words
            this.words.forEach((word, i) => setTimeout(() => this.animatedWords.push(i), i * 80)); 
            setTimeout(() => this.showSubtitle = true, 100);
        };
        
        // Initial setup with null state
        setupTitle(null);
        
        // Subscribe to auth state changes if available
        if (window.AuthStateManager) {
            this.unsubscribe = window.AuthStateManager.subscribe((authState) => {
                // Only re-animate if state actually changed
                if (JSON.stringify(authState) !== JSON.stringify(this.authState)) {
                    this.authState = authState;
                    setupTitle(authState);
                }
            });
        } else {
            // Try again after a short delay in case AuthStateManager loads later
            setTimeout(() => {
                if (window.AuthStateManager) {
                    this.unsubscribe = window.AuthStateManager.subscribe((authState) => {
                        if (JSON.stringify(authState) !== JSON.stringify(this.authState)) {
                            this.authState = authState;
                            setupTitle(authState);
                        }
                    });
                }
            }, 100);
        }
    },
    destroy() {
        // Clean up subscription
        if (this.unsubscribe) {
            this.unsubscribe();
        }
    }
}">
    <h1 class="text-4xl @[900px]:text-6xl font-medium tracking-tight text-gray-900 dark:text-gray-100 mb-3">
        <template x-for="(word, index) in words" :key="index">
            <span 
                :class="animatedWords.includes(index) ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-2'" 
                class="inline-block mr-2 transition-all duration-300 ease-out" 
                x-text="word">
            </span>
        </template>
    </h1>
    <p 
        :class="showSubtitle ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-2'" 
        class="text-xl text-gray-600 dark:text-gray-400 transition-all duration-800 ease-out">
        <span x-show="authState && authState.isLoggedIn">{{t "home.hero_subtitle_logged_in"}}</span>
        <span x-show="!authState || !authState.isLoggedIn">{{t "home.hero_subtitle_default"}}</span>
    </p>
</div>

<!-- Hero Videos -->
<div>
    
    {{$showcaseDataTop := dict
        "Position" "bottom"
        "Features" (slice
            (dict
                "Id" "automation-setup-top"
                "Title" "CRM"
                "VideoUrl" "https://media.blue.cc/white-label-overview.mp4"
                "ShowUnmuteButton" true
            )
            (dict
                "Id" "trigger-conditions-top"
                "Title" "HR"
                "VideoUrl" "https://media.blue.cc/white-label-overview.mp4"
                "ShowUnmuteButton" true
            )
            (dict
                "Id" "workflow-actions-top"
                "Title" "IT"
                "VideoUrl" "https://media.blue.cc/white-label-overview.mp4"
            )
            (dict
                "Id" "automation-testing-top"
                "Title" "Finance"
                "VideoUrl" "https://media.blue.cc/white-label-overview.mp4"
            )
            (dict
                "Id" "service-tickets-top"
                "Title" "Service Tickets"
                "VideoUrl" "https://media.blue.cc/white-label-overview.mp4"
            )
            (dict
                "Id" "performance-monitoring-top"
                "Title" "Sales"
                "VideoUrl" "https://media.blue.cc/white-label-overview.mp4"
            )
            (dict
                "Id" "integration-management-top"
                "Title" "Marketing"
                "VideoUrl" "https://media.blue.cc/white-label-overview.mp4"
            )
            (dict
                "Id" "operations-top"
                "Title" "Operations"
                "VideoUrl" "https://media.blue.cc/white-label-overview.mp4"
            )
            (dict
                "Id" "compliance-top"
                "Title" "Compliance"
                "VideoUrl" "https://media.blue.cc/white-label-overview.mp4"
            )
        )
    }}
    
    {{template "interactive-feature-showcase" $showcaseDataTop}}
</div>


    <!-- Hero CTAs -->
    <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center" x-data="{ 
        authState: null,
        init() {
            // Subscribe to auth state changes
            if (window.AuthStateManager) {
                this.unsubscribe = window.AuthStateManager.subscribe((authState) => {
                    this.authState = authState;
                });
            }
        },
        destroy() {
            // Clean up subscription
            if (this.unsubscribe) {
                this.unsubscribe();
            }
        }
    }">
        <a href="https://app.blue.cc" 
           target="_blank"
           class="inline-flex items-center justify-center px-6 py-3 text-base font-semibold rounded-lg bg-brand-blue text-white hover:bg-brand-blue/90 transition-colors duration-200 shadow-lg hover:shadow-xl group">
            <span x-show="authState && authState.isLoggedIn">{{t "home.cta_dashboard"}}</span>
            <span x-show="!authState || !authState.isLoggedIn">{{t "home.cta_get_started"}}</span>
            <svg class="ml-2 w-5 h-5 transition-transform duration-200 ease-out group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
            </svg>
        </a>
        <a :href="authState && authState.isLoggedIn ? '/platform/changelog' : '/platform/features'" 
           class="inline-flex items-center justify-center px-6 py-3 text-base font-semibold rounded-lg border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200">
            <span x-show="authState && authState.isLoggedIn">{{t "home.cta_whats_new"}}</span>
            <span x-show="!authState || !authState.isLoggedIn">{{t "home.cta_see_how"}}</span>
        </a>
    </div>
    
    <!-- News Bar -->
    <div class="mt-8">
        {{$newsBarData := dict
            "MainText" (t "home.news_bar.main_text")
            "ButtonText" (t "home.news_bar.button_text")
            "ButtonUrl" "/platform/white-label"
        }}
        {{template "news-bar" $newsBarData}}
    </div>
    
  
    {{$logoData := dict
        "title" (t "home.trusted_by")
        "logos" (slice
            (dict "name" "CBRE" "src" "/customers/cbre.svg")
            (dict "name" "Cisco" "src" "/customers/cisco.svg")
            (dict "name" "Deloitte" "src" "/customers/deloitte.svg")
            (dict "name" "FedEx" "src" "/customers/fedex.svg")
            (dict "name" "Manulife" "src" "/customers/manulife.svg")
            (dict "name" "Red Hat" "src" "/customers/redhat.svg")
            (dict "name" "Heineken" "src" "/customers/heineken.svg")
            (dict "name" "Sheraton" "src" "/customers/sheraton.svg")
            (dict "name" "Columbia University" "src" "/customers/columbia-university.webp")
            (dict "name" "Save the Children" "src" "/customers/savethechildren.svg")
            (dict "name" "World Food Programme" "src" "/customers/wfp.svg")
            (dict "name" "ILO" "src" "/customers/ilo.webp")
        )
    }}
    
    {{template "logo-grid" $logoData}}

    {{$valuePropsData := dict
        "Title" (t "home.designed_to_turn.title")
        "Description" (t "home.designed_to_turn.description")
        "ValueProps" (slice
            (dict
                "Title" (t "home.designed_to_turn.value_props.built_for_work.title")
                "Description" (t "home.designed_to_turn.value_props.built_for_work.description")
            )
            (dict
                "Title" (t "home.designed_to_turn.value_props.platform_for_customers.title")
                "Description" (t "home.designed_to_turn.value_props.platform_for_customers.description")
            )
            (dict
                "Title" (t "home.designed_to_turn.value_props.fair_pricing.title")
                "Description" (t "home.designed_to_turn.value_props.fair_pricing.description")
            )
        )
    }}
    
    {{template "value-propositions" $valuePropsData}}



<!-- Features as Benefits Section -->
<section class="max-w-7xl mx-auto">
    <h3 class="text-3xl md:text-4xl font-medium tracking-tight text-gray-900 mb-16">{{t "home.work_the_way"}}</h3>
    
    <!-- One source of truth -->
    <div class="mb-20">
        {{$automateData := dict
            "Title" (t "home.features.one_source.title")
            "Description" (t "home.features.one_source.description")
            "VideoUrl" "https://media.blue.cc/audit-trails-org.mp4"
            "VideoPosition" "left"
            "SeeAlso" (dict
                "Links" (slice
                    (dict
                        "Text" (t "home.features.one_source.see_also.records.text")
                        "Url" "/platform/features/records"
                        "Description" (t "home.features.one_source.see_also.records.description")
                    )
                    (dict
                        "Text" (t "home.features.one_source.see_also.custom_fields.text")
                        "Url" "/platform/features/custom-fields"
                        "Description" (t "home.features.one_source.see_also.custom_fields.description")
                    )
                    (dict
                        "Text" (t "home.features.one_source.see_also.workspaces.text")
                        "Url" "/platform/features/workspaces"
                        "Description" (t "home.features.one_source.see_also.workspaces.description")
                    )
                )
            )
        }}
        {{template "feature-video" $automateData}}
    </div>

     <!-- See Everything, Miss Nothing -->
     <div class="mb-20">
        {{$seeEverythingData := dict
            "Title" (t "home.features.everything_process.title")
            "Description" (t "home.features.everything_process.description")
            "VideoUrl" "https://media.blue.cc/grant-management-example.mp4"
            "VideoPosition" "right"
            "SeeAlso" (dict
                "Links" (slice
                    (dict
                        "Text" (t "home.features.everything_process.see_also.lists.text")
                        "Url" "/docs/records/lists"
                        "Description" (t "home.features.everything_process.see_also.lists.description")
                    )
                    (dict
                        "Text" (t "home.features.everything_process.see_also.checklists.text")
                        "Url" "/insights/create-checklist-templates"
                        "Description" (t "home.features.everything_process.see_also.checklists.description")
                    )
                    (dict
                        "Text" (t "home.features.everything_process.see_also.forms.text")
                        "Url" "/platform/features/forms"
                        "Description" (t "home.features.everything_process.see_also.forms.description")
                    )
                )
            )
        }}
        {{template "feature-video" $seeEverythingData}}
    </div>
   
    <!-- Create Clear Process -->
    <div class="mb-20">
        {{$automateData := dict
            "Title" (t "home.features.automations.title")
            "Description" (t "home.features.automations.description")
            "VideoUrl" "https://media.blue.cc/automations-on-off.mp4"
            "VideoPosition" "left"
        }}
        {{template "feature-video" $automateData}}
    </div>


   

    

    <section class="mb-16">
                    
                    {{$statsData := dict
                        "Title" (t "home.stats.title")
                        "Stats" (slice
                            (dict
                                "Number" (t "home.stats.teams.number")
                                "Description" (t "home.stats.teams.description")
                            )
                            (dict
                                "Number" (t "home.stats.processes.number")
                                "Description" (t "home.stats.processes.description")
                            )
                            (dict
                                "Number" (t "home.stats.records.number")
                                "Description" (t "home.stats.records.description")
                            )
                        )
                    }}
                    
                    {{template "stats-section" $statsData}}
    </section>

    {{$testimonialData := dict
        "testimonials" (slice
            (dict
                "quote" (t "home.testimonials.quote_1")
                "videoUrl" "https://media.blue.cc/davidzack-testimonial.mp4"
                "posterUrl" "/testimonials/davidsacks.jpeg"
            )
            (dict
                "quote" (t "home.testimonials.quote_2")
                "videoUrl" "https://media.blue.cc/lady.mp4"
                "posterUrl" "/testimonials/lady.jpg"
            )
            (dict
                "quote" (t "home.testimonials.quote_3")
                "videoUrl" "https://media.blue.cc/ricklews-testimonial.mov"
                "posterUrl" "/testimonials/ricklewis.jpg"
            )
            (dict
                "quote" (t "home.testimonials.quote_4")
                "videoUrl" "https://media.blue.cc/ana.mov"
                "posterUrl" "/testimonials/ana-testimonial.jpg"
            )
        )
    }}

    {{template "testimonial-videos" $testimonialData}}


    <!-- Your Data, Your Way -->
    <div class="mb-20">
        {{$yourDataData := dict
            "Title" (t "home.features.your_data.title")
            "Description" (t "home.features.your_data.description")
            "VideoUrl" "https://media.blue.cc/custom-fields-showcase.mp4"
            "VideoPosition" "right"
        }}
        {{template "feature-video" $yourDataData}}
    </div>

    <!-- Insights That Drive Action -->
    <div class="mb-20">
        {{$insightsData := dict
            "Title" (t "home.features.dashboards.title")
            "Description" (t "home.features.dashboards.description")
            "VideoUrl" "https://media.blue.cc/dashboard-showcase.mp4"
            "VideoPosition" "left"
        }}
        {{template "feature-video" $insightsData}}
    </div>
</section>


    <!-- Features Grid Section -->
    {{$featuresData := dict
        "Title" (t "home.features_grid.title")
        "Features" (slice
            (dict
                "Title" (t "home.features_grid.security.title")
                "Description" (t "home.features_grid.security.description")
                "Url" "/platform/security"
            )
            (dict
                "Title" (t "home.features_grid.performance.title")
                "Description" (t "home.features_grid.performance.description")
                "Url" "/platform/performance"
            )
            (dict
                "Title" (t "home.features_grid.analytics.title")
                "Description" (t "home.features_grid.analytics.description")
            )
            (dict
                "Title" (t "home.features_grid.integrations.title")
                "Description" (t "home.features_grid.integrations.description")
                "Url" "/platform/integrations"
            )
            (dict
                "Title" (t "home.features_grid.automations_grid.title")
                "Description" (t "home.features_grid.automations_grid.description")
            )
            (dict
                "Title" (t "home.features_grid.mobile.title")
                "Description" (t "home.features_grid.mobile.description")
            )
            (dict
                "Title" (t "home.features_grid.collaboration.title")
                "Description" (t "home.features_grid.collaboration.description")
            )
            (dict
                "Title" (t "home.features_grid.customization.title")
                "Description" (t "home.features_grid.customization.description")
            )
            (dict
                "Title" (t "home.features_grid.support.title")
                "Description" (t "home.features_grid.support.description")
            )
        )
    }}
    
    {{template "features-grid-simple" $featuresData}}
       
 <!-- Integration Partners -->
 <div class="mb-16">
    {{$integrationData := dict
        "title" (t "home.integrations.title")
        "logos" (slice
            (dict "name" "Zapier" "src" "/images/zapier.svg")
            (dict "name" "Make.com" "src" "/images/make.svg")
            (dict "name" "Pabbly Connect" "src" "/images/pabbly.svg")
            (dict "name" "Albato" "src" "/images/albato.png")
            (dict "name" "Boost.space" "src" "/images/boost-space.svg")
        )
    }}
    {{template "logo-grid" $integrationData}}
</div>


   <!-- Testimonial Section -->
   <div class="mb-20 px-6 lg:px-8">
    {{template "testimonial-single" 
        dict 
            "ImageUrl" "/testimonials/kyriacos.jpeg"
            "Quote" (t "home.testimonial_kyriacos.quote")
            "Name" (t "home.testimonial_kyriacos.name")
            "Title" (t "home.testimonial_kyriacos.title")
    }}
</div>

<!-- Call to Action -->
{{$ctaData := dict
    "Title" (t "home.cta_final.title")
    "SecondaryText" (t "home.cta_final.secondary_text")
    "SecondaryUrl" "/contact"
    "PrimaryText" (t "home.cta_final.primary_text")
    "PrimaryUrl" "https://app.blue.cc"
}}

{{template "dual-button-cta" $ctaData}}

