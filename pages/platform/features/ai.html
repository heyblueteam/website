<!-- Main content -->
    {{template "page-heading" 
        dict 
            "Title" (t "ai.page_title") 
            "Subtitle" (t "ai.page_subtitle") 
            "MarginBottom" "mb-16"
    }}

    <!-- AI Included Section -->
    <section class="mb-20">
        {{$aiIncludedData := dict
            "Title" (t "ai.ai_included_title")
            "Description" (t "ai.ai_included_description")
            "Features" (slice
                (dict
                    "Title" (t "ai.ai_feature_summarize_title")
                    "Description" (t "ai.ai_feature_summarize_description")
                )
                (dict
                    "Title" (t "ai.ai_feature_categorization_title")
                    "Description" (t "ai.ai_feature_categorization_description")
                )
                (dict
                    "Title" (t "ai.ai_feature_search_title")
                    "Description" (t "ai.ai_feature_search_description")
                )
            )
        }}
        {{template "features-grid-simple" $aiIncludedData}}
    </section>

    <!-- AI Summaries Feature -->
    <section class="mb-32">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
            <!-- Text Content -->
            <div class="order-1 lg:order-1 space-y-4">
                <h3 class="text-3xl md:text-4xl font-medium tracking-tight text-gray-900 dark:text-gray-100">{{t "ai.conversations_to_action_title"}}</h3>
                <p class="text-lg text-gray-600 dark:text-gray-300">{{t "ai.conversations_to_action_description"}}</p>
            </div>
            
            <!-- Text Animation -->
            <div class="order-2 lg:order-2 flex items-center justify-center">
                <div class="relative w-full"
                     x-data="{
                         intersecting: false,
                         showSummary: false,
                         updateProgress() {
                             const rect = $el.getBoundingClientRect();
                             const viewportHeight = window.innerHeight;
                             const elementCenter = rect.top + rect.height / 2;
                             const viewportCenter = viewportHeight / 2;
                             
                             // Switch when element center crosses viewport center
                             if (elementCenter <= viewportCenter && !this.showSummary) {
                                 this.showSummary = true;
                             } else if (elementCenter > viewportCenter && this.showSummary) {
                                 this.showSummary = false;
                             }
                         }
                     }"
                     x-init="updateProgress()"
                     x-intersect="intersecting = true"
                     x-intersect:leave="intersecting = false"
                     x-on:scroll.window="if (intersecting) { updateProgress() }">
                    
                    <!-- Container with fixed height -->
                    <div class="relative bg-gray-50 dark:bg-gray-800 rounded-lg p-6" style="min-height: 320px;">
                        <!-- Long text (fades out) -->
                        <div class="absolute inset-0 p-6 text-sm text-gray-600 dark:text-gray-400 leading-relaxed transition-opacity duration-500 overflow-hidden"
                             :class="showSummary ? 'opacity-0' : 'opacity-100'">
                            <p class="mb-3">
                                {{t "ai.long_conversation_text"}}
                            </p>
                            <p>
                                {{t "ai.long_conversation_text_2"}}
                            </p>
                        </div>
                        
                        <!-- Short summary (fades in) -->
                        <div class="absolute inset-0 p-6 flex items-center text-base font-medium text-gray-900 dark:text-gray-100 transition-opacity duration-500"
                             :class="showSummary ? 'opacity-100' : 'opacity-0'">
                            <p class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span><strong>{{t "ai.summary_key_decision"}}</strong> {{t "ai.summary_decision_text"}}</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Auto Categorization Feature -->
    <section class="mb-16">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
            <!-- Grid Animation -->
            <div class="order-1 lg:order-1 flex items-center justify-center">
                <div class="w-full"
                     x-data="{
                         intersecting: false,
                         progress: 0,
                         records: [
                             { id: 1, tags: [{name: '{{t "ai.tag_priority_1"}}', delay: 0.05}] },
                             { id: 2, tags: [{name: '{{t "ai.tag_overdue"}}', delay: 0.1}] },
                             { id: 3, tags: [{name: '{{t "ai.tag_planned"}}', delay: 0.15}] },
                             { id: 4, tags: [{name: '{{t "ai.tag_priority_2"}}', delay: 0.2}] },
                             { id: 5, tags: [{name: '{{t "ai.tag_cancelled"}}', delay: 0.25}] },
                             { id: 6, tags: [{name: '{{t "ai.tag_priority_1"}}', delay: 0.3}] },
                             { id: 7, tags: [{name: '{{t "ai.tag_overdue"}}', delay: 0.35}] },
                             { id: 8, tags: [{name: '{{t "ai.tag_planned"}}', delay: 0.4}] },
                             { id: 9, tags: [{name: '{{t "ai.tag_priority_2"}}', delay: 0.45}] },
                             { id: 10, tags: [{name: '{{t "ai.tag_planned"}}', delay: 0.5}] },
                             { id: 11, tags: [{name: '{{t "ai.tag_priority_1"}}', delay: 0.6}] },
                             { id: 12, tags: [{name: '{{t "ai.tag_overdue"}}', delay: 0.65}] }
                         ],
                         tagColors: {
                             '{{t "ai.tag_priority_1"}}': 'bg-red-500',
                             '{{t "ai.tag_priority_2"}}': 'bg-orange-500',
                             '{{t "ai.tag_overdue"}}': 'bg-purple-500',
                             '{{t "ai.tag_planned"}}': 'bg-blue-500',
                             '{{t "ai.tag_cancelled"}}': 'bg-gray-500'
                         },
                         updateProgress() {
                             const rect = $el.getBoundingClientRect();
                             const viewportHeight = window.innerHeight;
                             const centerY = rect.top + rect.height / 2;
                             // Progress from 0 to 1 as element moves from bottom to center of viewport
                             this.progress = Math.max(0, Math.min(1, (viewportHeight - centerY) / (viewportHeight * 0.7)));
                         },
                         shouldShowTag(delay) {
                             return this.progress > delay;
                         }
                     }"
                     x-init="updateProgress()"
                     x-intersect="intersecting = true"
                     x-intersect:leave="intersecting = false"
                     x-on:scroll.window="if (intersecting) { updateProgress() }">
                    
                    <div class="grid grid-cols-4 gap-3">
                        <template x-for="record in records" :key="record.id">
                            <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 relative overflow-hidden">
                                <div class="text-sm font-medium text-gray-900 dark:text-gray-100 mb-2" x-text="'{{t "ai.record_label"}} ' + record.id"></div>
                                <div class="flex flex-wrap gap-1">
                                    <template x-for="tag in record.tags" :key="tag.name">
                                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white transition-all duration-500 ease-out"
                                              :class="[tagColors[tag.name], shouldShowTag(tag.delay) ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-2']"
                                              x-text="tag.name">
                                        </span>
                                    </template>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
            
            <!-- Text Content -->
            <div class="order-2 lg:order-2 space-y-4">
                <h3 class="text-3xl md:text-4xl font-medium tracking-tight text-gray-900 dark:text-gray-100">{{t "ai.auto_categorization_title"}}</h3>
                <p class="text-lg text-gray-600 dark:text-gray-300">{{t "ai.auto_categorization_description"}}</p>
            </div>
        </div>
    </section>

    <!-- Secure AI Integration Section -->
        
        {{$securityFeaturesData := dict
            "Title" (t "ai.secure_ai_title")
            "Features" (slice
                (dict
                    "Title" (t "ai.secure_data_title")
                    "Description" (t "ai.secure_data_description")
                )
                (dict
                    "Title" (t "ai.on_premise_title")
                    "Description" (t "ai.on_premise_description")
                )
                (dict
                    "Title" (t "ai.anonymized_title")
                    "Description" (t "ai.anonymized_description")
                )
                (dict
                    "Title" (t "ai.data_residency_title")
                    "Description" (t "ai.data_residency_description")
                )
                (dict
                    "Title" (t "ai.user_control_title")
                    "Description" (t "ai.user_control_description")
                )
                (dict
                    "Title" (t "ai.org_control_title")
                    "Description" (t "ai.org_control_description")
                )
                (dict
                    "Title" (t "ai.secure_cloud_title")
                    "Description" (t "ai.secure_cloud_description")
                )
                (dict
                    "Title" (t "ai.continuous_improvement_title")
                    "Description" (t "ai.continuous_improvement_description")
                )
                (dict
                    "Title" (t "ai.no_third_party_title")
                    "Description" (t "ai.no_third_party_description")
                )
            )
        }}
        {{template "features-grid-simple" $securityFeaturesData}}

    <!-- FAQ Section -->
    <section class="mb-20">
        <h2 class="text-3xl md:text-4xl font-medium tracking-tight text-gray-900 dark:text-gray-100 mb-16">{{t "ai.faq_title"}}</h2>
        
        {{$faqData := dict
            "categories" (slice
                (dict
                    "name" (t "ai.faq_ai_features_category")
                    "questions" (slice
                        (dict
                            "question" (t "ai.faq_what_features_q")
                            "answer" (t "ai.faq_what_features_a")
                        )
                        (dict
                            "question" (t "ai.faq_summarize_q")
                            "answer" (t "ai.faq_summarize_a")
                        )
                        (dict
                            "question" (t "ai.faq_categorization_q")
                            "answer" (t "ai.faq_categorization_a")
                        )
                        (dict
                            "question" (t "ai.faq_semantic_search_q")
                            "answer" (t "ai.faq_semantic_search_a")
                        )
                    )
                )
                (dict
                    "name" (t "ai.faq_privacy_cost_category")
                    "questions" (slice
                        (dict
                            "question" (t "ai.faq_limitations_q")
                            "answer" (t "ai.faq_limitations_a")
                        )
                        (dict
                            "question" (t "ai.faq_privacy_q")
                            "answer" (t "ai.faq_privacy_a")
                        )
                        (dict
                            "question" (t "ai.faq_customize_q")
                            "answer" (t "ai.faq_customize_a")
                        )
                        (dict
                            "question" (t "ai.faq_cost_q")
                            "answer" (t "ai.faq_cost_a")
                        )
                    )
                )
            )
        }}
        
        {{template "faq-sections" $faqData}}
    </section>

    <!-- Call to Action -->
    {{$ctaData := dict
        "Title" (t "ai.cta_title")
        "Description" (t "ai.cta_description")
        "SecondaryText" (t "ai.cta_signup")
        "SecondaryUrl" "https://app.blue.cc"
        "PrimaryText" (t "ai.cta_signup")
        "PrimaryUrl" "https://app.blue.cc"
    }}
    {{template "dual-button-cta" $ctaData}}